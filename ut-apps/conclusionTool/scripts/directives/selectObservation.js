(function(){"use strict";var e,o;window.ut=window.ut||{},ut.tools=ut.tools||{},ut.tools.observationtool=ut.tools.observationtool||{},ut.commons=ut.commons||{},ut.commons.utils=ut.commons.utils||{},e={observation:{}},o=function(e,o){return{restrict:"E",template:'<dialogBox idXX=\'testing\' Xid="{{selectObservationDialogId}}" title="{{selectObservationDialogTitle}}" resizable="false" width="500"\n           Xheight="400">\n  <div class="observationList">\n    <observation ng-repeat="observation in getObservations() | reverse" class=\'selectableListItem\'\n      ng-class="{selectedObservation:$index===selectedObservationIndex, lastSelectableListItem:$last}"\n      ng-click="selectObservation($index)" ng-dblclick=\'loadSelectedObservation()\'></observation>\n  </div>\n  <div class="dialogButtonRow">\n    <ul class="toolbar">\n      <li>\n         <i class="fa fa-play fa-fw activeButton fontAweSomeButton dialogButton"\n          ng-class="{disabledButton: selectedObservationIndex<0}" ng-click=\'loadSelectedObservation()\' title="{{loadTitle}}"></i>\n      </li>\n      <li>\n         <i class="fa fa-times fa-fw activeButton fontAweSomeButton dialogButton"\n           ng-click=\'closeSelectObservation()\' title="{{\'loadSave.showModelJsonDialog.close\' | g4i18n}}"></i>\n      </li>\n    </ul>\n  </div>\n</dialogBox>',replace:!1,scope:{id:"@"},link:function(t,n,s){var i,l;return i=s["dialogId".toLowerCase()],l=t[i],t.selectObservationDialogId=l,console.log("scope.selectObservationDialogId: "+t.selectObservationDialogId),t.selectObservationDialogTitle=e.getMessage("observationTool.selectObservationDialog.dialogTitle"),t.getObservations=function(){var e;return e=o.getObservations()},t.addObservation=function(){return t.dialogBoxes[l].show(),o.isSaved()&&o.getId()?o.reloadFromStorage(function(e){return t.$apply()}):o.loadLatestResource(function(e){return t.$apply()})},t.closeSelectObservation=function(){return t.dialogBoxes[l].close()},t.selectedObservationIndex=-1,t.selectObservation=function(e){return t.selectedObservationIndex=e},t.loadSelectedObservation=function(){var e,n,s;if(t.selectedObservationIndex>=0)return console.log("should now add observation "+t.selectedObservationIndex),n=o.getObservations(),s=n.length-1-t.selectedObservationIndex,e=n[s],console.log("should now add observation from "+e.date),t.dialogBoxes[l].close()}}}},window.ut.tools.observationtool.observationTool.directive("selectObservation".toLowerCase(),["languageHandler","observationsModel",o])}).call(this);
//# sourceMappingURL=selectObservation.js.map
