!function(t){"use strict";function e(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=h(n)),o+=r;a=t[e],r=a+"",n=Mt-r.length,n&&(o+=h(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function n(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_t+t)}function r(t,e,n,r){var i,o,a,c;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Mt,i=0):(i=Math.ceil((e+1)/Mt),e%=Mt),o=It(10,Mt-e),c=t[i]%o|0,null==r?e<3?(0==e?c=c/100|0:1==e&&(c=c/10|0),a=n<4&&99999==c||n>3&&49999==c||5e4==c||0==c):a=(n<4&&c+1==o||n>3&&c+1==o/2)&&(t[i+1]/o/100|0)==It(10,e-2)-1||(c==o/2||0==c)&&0==(t[i+1]/o/100|0):e<4?(0==e?c=c/1e3|0:1==e?c=c/100|0:2==e&&(c=c/10|0),a=(r||n<4)&&9999==c||!r&&n>3&&4999==c):a=((r||n<4)&&c+1==o||!r&&n>3&&c+1==o/2)&&(t[i+1]/o/1e3|0)==It(10,e-3)-1,a}function i(t,e,n){for(var r,i,o=[0],a=0,c=t.length;a<c;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=yt.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function o(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=_(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}function a(t,e,n,r){var i,o,a,c,u,s,l,p,h,f=t.constructor;t:if(null!=e){if(p=t.d,!p)return t;for(i=1,c=p[0];c>=10;c/=10)i++;if(o=e-i,o<0)o+=Mt,a=e,l=p[h=0],u=l/It(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/Mt),c=p.length,h>=c){if(!r)break t;for(;c++<=h;)p.push(0);l=u=0,i=1,o%=Mt,a=o-Mt+1}else{for(l=c=p[h],i=1;c>=10;c/=10)i++;o%=Mt,a=o-Mt+i,u=a<0?0:l/It(10,i-a-1)%10|0}if(r=r||e<0||void 0!==p[h+1]||(a<0?l:l%It(10,i-a-1)),s=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?l/It(10,i-a):0:p[h-1])%10&1||n==(t.s<0?8:7)),e<1||!p[0])return p.length=0,s?(e-=t.e+1,p[0]=It(10,(Mt-e%Mt)%Mt),t.e=-e||0):p[0]=t.e=0,t;if(0==o?(p.length=h,c=1,h--):(p.length=h+1,c=It(10,Mt-o),p[h]=a>0?(l/It(10,i-a)%It(10,a)|0)*c:0),s)for(;;){if(0==h){for(o=1,a=p[0];a>=10;a/=10)o++;for(a=p[0]+=c,c=1;a>=10;a/=10)c++;o!=c&&(t.e++,p[0]==kt&&(p[0]=1));break}if(p[h]+=c,p[h]!=kt)break;p[h--]=0,c=1}for(o=p.length;0===p[--o];)p.pop()}return wt&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function c(t,n,r){if(!t.isFinite())return v(t);var i,o=t.e,a=e(t.d),c=a.length;return n?(r&&(i=r-c)>0?a=a.charAt(0)+"."+a.slice(1)+h(i):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):o<0?(a="0."+h(-o-1)+a,r&&(i=r-c)>0&&(a+=h(i))):o>=c?(a+=h(o+1-c),r&&(i=r-o-1)>0&&(a=a+"."+h(i))):((i=o+1)<c&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-c)>0&&(o+1===c&&(a+="."),a+=h(i))),a}function u(t,e){for(var n=1,r=t[0];r>=10;r/=10)n++;return n+e*Mt-1}function s(t,e,n){if(e>Pt)throw wt=!0,n&&(t.precision=n),Error(Ct);return a(new t(gt),e,1,!0)}function l(t,e,n){if(e>Ot)throw Error(Ct);return a(new t(dt),e,n,!0)}function p(t){var e=t.length-1,n=e*Mt+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function h(t){for(var e="";t--;)e+="0";return e}function f(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/Mt+4);for(wt=!1;;){if(n%2&&(o=o.times(e),I(o.d,a)&&(i=!0)),n=Rt(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),I(e.d,a)}return wt=!0,o}function m(t){return 1&t.d[t.d.length-1]}function y(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function g(t,n){var i,o,c,u,s,l,p,h=0,f=0,m=0,y=t.constructor,g=y.rounding,d=y.precision;if(!t.d||!t.d[0]||t.e>17)return new y(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==n?(wt=!1,p=d):p=n,l=new y(.03125);t.e>-2;)t=t.times(l),m+=5;for(o=Math.log(It(2,m))/Math.LN10*2+5|0,p+=o,i=u=s=new y(1),y.precision=p;;){if(u=a(u.times(t),p,1),i=i.times(++f),l=s.plus(Tt(u,i,p,1)),e(l.d).slice(0,p)===e(s.d).slice(0,p)){for(c=m;c--;)s=a(s.times(s),p,1);if(null!=n)return y.precision=d,s;if(!(h<3&&r(s.d,p-o,g,h)))return a(s,y.precision=d,g,wt=!0);y.precision=p+=10,i=u=l=new y(1),f=0,h++}s=l}}function d(t,n){var i,o,c,u,l,p,h,f,m,y,g,v=1,b=10,w=t,x=w.d,_=w.constructor,C=_.rounding,R=_.precision;if(w.s<0||!x||!x[0]||!w.e&&1==x[0]&&1==x.length)return new _(x&&!x[0]?-1/0:1!=w.s?NaN:x?0:w);if(null==n?(wt=!1,m=R):m=n,_.precision=m+=b,i=e(x),o=i.charAt(0),!(Math.abs(u=w.e)<15e14))return f=s(_,m+2,R).times(u+""),w=d(new _(o+"."+i.slice(1)),m-b).plus(f),_.precision=R,null==n?a(w,R,C,wt=!0):w;for(;o<7&&1!=o||1==o&&i.charAt(1)>3;)w=w.times(t),i=e(w.d),o=i.charAt(0),v++;for(u=w.e,o>1?(w=new _("0."+i),u++):w=new _(o+"."+i.slice(1)),y=w,h=l=w=Tt(w.minus(1),w.plus(1),m,1),g=a(w.times(w),m,1),c=3;;){if(l=a(l.times(g),m,1),f=h.plus(Tt(l,new _(c),m,1)),e(f.d).slice(0,m)===e(h.d).slice(0,m)){if(h=h.times(2),0!==u&&(h=h.plus(s(_,m+2,R).times(u+""))),h=Tt(h,new _(v),m,1),null!=n)return _.precision=R,h;if(!r(h.d,m-b,C,p))return a(h,_.precision=R,C,wt=!0);_.precision=m+=b,f=l=w=Tt(y.minus(1),y.plus(1),m,1),g=a(w.times(w),m,1),c=p=1}h=f,c+=2}}function v(t){return String(t.s*t.s/0)}function b(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),wt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function w(t,e){var n,r,o,a,c,s,l,p,h;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Et.test(e))n=16,e=e.toLowerCase();else if(Nt.test(e))n=2;else{if(!St.test(e))throw Error(_t+e);n=8}for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),c=a>=0,r=t.constructor,c&&(e=e.replace(".",""),s=e.length,a=s-a,o=f(r,new r(n),a,2*a)),p=i(e,n,kt),h=p.length-1,a=h;0===p[a];--a)p.pop();return a<0?new r(0*t.s):(t.e=u(p,h),t.d=p,wt=!1,c&&(t=Tt(t,o,4*s)),l&&(t=t.times(Math.abs(l)<54?Math.pow(2,l):vt.pow(2,l))),wt=!0,t)}function x(t,e){var n,r=e.d.length;if(r<3)return _(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(Math.pow(5,-n)),e=_(t,2,e,e);for(var i,o=new t(5),a=new t(16),c=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(c))));return e}function _(t,e,n,r,i){var o,a,c,u,s=1,l=t.precision,p=Math.ceil(l/Mt);for(wt=!1,u=n.times(n),c=new t(r);;){if(a=Tt(c.times(u),new t(e++*e++),l,1),c=i?r.plus(a):r.minus(a),r=Tt(a.times(u),new t(e++*e++),l,1),a=c.plus(r),void 0!==a.d[p]){for(o=p;a.d[o]===c.d[o]&&o--;);if(o==-1)break}o=c,c=r,r=a,a=o,s++}return wt=!0,a.d.length=p+1,a}function C(t,e){var n,r=e.s<0,i=l(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return ht=r?4:1,e;if(n=e.divToInt(i),n.isZero())ht=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return ht=m(n)?r?2:3:r?4:1,e;ht=m(n)?r?1:4:r?3:2}return e.minus(i).abs()}function R(t,e,r,o){var a,u,s,l,p,h,f,m,y,g=t.constructor,d=void 0!==r;if(d?(n(r,1,mt),void 0===o?o=g.rounding:n(o,0,8)):(r=g.precision,o=g.rounding),t.isFinite()){for(f=c(t),s=f.indexOf("."),d?(a=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):a=e,s>=0&&(f=f.replace(".",""),y=new g(1),y.e=f.length-s,y.d=i(c(y),10,a),y.e=y.d.length),m=i(f,10,a),u=p=m.length;0==m[--p];)m.pop();if(m[0]){if(s<0?u--:(t=new g(t),t.d=m,t.e=u,t=Tt(t,y,r,o,0,a),m=t.d,u=t.e,h=lt),s=m[r],l=a/2,h=h||void 0!==m[r+1],h=o<4?(void 0!==s||h)&&(0===o||o===(t.s<0?3:2)):s>l||s===l&&(4===o||h||6===o&&1&m[r-1]||o===(t.s<0?8:7)),m.length=r,h)for(;++m[--r]>a-1;)m[r]=0,r||(++u,m.unshift(1));for(p=m.length;!m[p-1];--p);for(s=0,f="";s<p;s++)f+=yt.charAt(m[s]);if(d){if(p>1)if(16==e||8==e){for(s=16==e?4:3,--p;p%s;p++)f+="0";for(m=i(f,a,e),p=m.length;!m[p-1];--p);for(s=1,f="1.";s<p;s++)f+=yt.charAt(m[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)f="0"+f;f="0."+f}else if(++u>p)for(u-=p;u--;)f+="0";else u<p&&(f=f.slice(0,u)+"."+f.slice(u))}else f=d?"0p+0":"0";f=(16==e?"0x":2==e?"0b":8==e?"0o":"")+f}else f=v(t);return t.s<0?"-"+f:f}function I(t,e){if(t.length>e)return t.length=e,!0}function N(t){return new this(t).abs()}function E(t){return new this(t).acos()}function S(t){return new this(t).acosh()}function A(t,e){return new this(t).plus(e)}function k(t){return new this(t).asin()}function M(t){return new this(t).asinh()}function q(t){return new this(t).atan()}function P(t){return new this(t).atanh()}function O(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?l(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=l(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Tt(t,e,o,1)),e=l(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Tt(t,e,o,1)):(n=l(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function j(t){return new this(t).cbrt()}function T(t){return a(t=new this(t),t.e+1,2)}function Z(t){if(!t||"object"!=typeof t)throw Error(xt+"Object expected");var e,n,r,i=["precision",1,mt,"rounding",0,8,"toExpNeg",-ft,0,"toExpPos",0,ft,"maxE",0,ft,"minE",-ft,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(Rt(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(_t+n+": "+r);this[n]=r}if(t.hasOwnProperty(n="crypto"))if(void 0===(r=t[n]))this[n]=r;else{if(r!==!0&&r!==!1&&0!==r&&1!==r)throw Error(_t+n+": "+r);this[n]=!(!r||!bt||!bt.getRandomValues&&!bt.randomBytes)}return this}function V(t){return new this(t).cos()}function Q(t){return new this(t).cosh()}function B(t){function e(t){var n,r,i,o=this;if(!(o instanceof e))return new e(t);if(o.constructor=e,t instanceof e)return o.s=t.s,o.e=t.e,void(o.d=(t=t.d)?t.slice():t);if(i=typeof t,"number"===i){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(n=0,r=t;r>=10;r/=10)n++;return o.e=n,void(o.d=[t])}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):b(o,t.toString())}if("string"!==i)throw Error(_t+t);return 45===t.charCodeAt(0)?(t=t.slice(1),o.s=-1):o.s=1,At.test(t)?b(o,t):w(o,t)}var n,r,i;if(e.prototype=jt,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=Z,e.clone=B,e.abs=N,e.acos=E,e.acosh=S,e.add=A,e.asin=k,e.asinh=M,e.atan=q,e.atanh=P,e.atan2=O,e.cbrt=j,e.ceil=T,e.cos=V,e.cosh=Q,e.div=D,e.exp=H,e.floor=$,e.hypot=F,e.ln=L,e.log=U,e.log10=G,e.log2=z,e.max=X,e.min=K,e.mod=Y,e.mul=W,e.pow=J,e.random=tt,e.round=et,e.sign=nt,e.sin=rt,e.sinh=it,e.sqrt=ot,e.sub=at,e.tan=ct,e.tanh=ut,e.trunc=st,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return e.config(t),e}function D(t,e){return new this(t).div(e)}function H(t){return new this(t).exp()}function $(t){return a(t=new this(t),t.e+1,3)}function F(){var t,e,n=new this(0);for(wt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return wt=!0,new this(1/0);n=e}return wt=!0,n.sqrt()}function L(t){return new this(t).ln()}function U(t,e){return new this(t).log(e)}function z(t){return new this(t).log(2)}function G(t){return new this(t).log(10)}function X(){return y(this,arguments,"lt")}function K(){return y(this,arguments,"gt")}function Y(t,e){return new this(t).mod(e)}function W(t,e){return new this(t).mul(e)}function J(t,e){return new this(t).pow(e)}function tt(t){var e,r,i,o,a=0,c=new this(1),u=[];if(void 0===t?t=this.precision:n(t,1,mt),i=Math.ceil(t/Mt),this.crypto===!1)for(;a<i;)u[a++]=1e7*Math.random()|0;else if(bt&&bt.getRandomValues)for(e=bt.getRandomValues(new Uint32Array(i));a<i;)o=e[a],o>=429e7?e[a]=bt.getRandomValues(new Uint32Array(1))[0]:u[a++]=o%1e7;else if(bt&&bt.randomBytes){for(e=bt.randomBytes(i*=4);a<i;)o=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((127&e[a+3])<<24),o>=214e7?bt.randomBytes(4).copy(e,a):(u.push(o%1e7),a+=4);a=i/4}else{if(this.crypto)throw Error(xt+"crypto unavailable");for(;a<i;)u[a++]=1e7*Math.random()|0}for(i=u[--a],t%=Mt,i&&t&&(o=It(10,Mt-t),u[a]=(i/o|0)*o);0===u[a];a--)u.pop();if(a<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=Mt)u.shift();for(i=1,o=u[0];o>=10;o/=10)i++;i<Mt&&(r-=Mt-i)}return c.e=r,c.d=u,c}function et(t){return a(t=new this(t),t.e+1,this.rounding)}function nt(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function rt(t){return new this(t).sin()}function it(t){return new this(t).sinh()}function ot(t){return new this(t).sqrt()}function at(t,e){return new this(t).sub(e)}function ct(t){return new this(t).tan()}function ut(t){return new this(t).tanh()}function st(t){return a(t=new this(t),t.e+1,1)}var lt,pt,ht,ft=9e15,mt=1e9,yt="0123456789abcdef",gt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",dt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",vt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ft,maxE:ft,crypto:void 0},bt="undefined"!=typeof crypto?crypto:null,wt=!0,xt="[DecimalError] ",_t=xt+"Invalid argument: ",Ct=xt+"Precision limit exceeded",Rt=Math.floor,It=Math.pow,Nt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Et=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,St=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,At=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kt=1e7,Mt=7,qt=9007199254740991,Pt=gt.length-1,Ot=dt.length-1,jt={};jt.absoluteValue=jt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),a(t)},jt.ceil=function(){return a(new this.constructor(this),this.e+1,2)},jt.comparedTo=jt.cmp=function(t){var e,n,r,i,o=this,a=o.d,c=(t=new o.constructor(t)).d,u=o.s,s=t.s;if(!a||!c)return u&&s?u!==s?u:a===c?0:!a^u<0?1:-1:NaN;if(!a[0]||!c[0])return a[0]?u:c[0]?-s:0;if(u!==s)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(r=a.length,i=c.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==c[e])return a[e]>c[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},jt.cosine=jt.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Mt,r.rounding=1,n=o(r,C(r,n)),r.precision=t,r.rounding=e,a(2==ht||3==ht?n.neg():n,t,e,!0)):new r(1):new r(NaN)},jt.cubeRoot=jt.cbrt=function(){var t,n,r,i,o,c,u,s,l,p,h=this,f=h.constructor;if(!h.isFinite()||h.isZero())return new f(h);for(wt=!1,c=h.s*Math.pow(h.s*h,1/3),c&&Math.abs(c)!=1/0?i=new f(c.toString()):(r=e(h.d),t=h.e,(c=(t-r.length+1)%3)&&(r+=1==c||c==-2?"0":"00"),c=Math.pow(r,1/3),t=Rt((t+1)/3)-(t%3==(t<0?-1:2)),c==1/0?r="5e"+t:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),i=new f(r),i.s=h.s),u=(t=f.precision)+3;;)if(s=i,l=s.times(s).times(s),p=l.plus(h),i=Tt(p.plus(h).times(s),p.plus(l),u+2,1),e(s.d).slice(0,u)===(r=e(i.d)).slice(0,u)){if(r=r.slice(u-3,u+1),"9999"!=r&&(o||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(a(i,t+1,1),n=!i.times(i).times(i).eq(h));break}if(!o&&(a(s,t+1,0),s.times(s).times(s).eq(h))){i=s;break}u+=4,o=1}return wt=!0,a(i,t,f.rounding,n)},jt.decimalPlaces=jt.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Rt(this.e/Mt))*Mt,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},jt.dividedBy=jt.div=function(t){return Tt(this,new this.constructor(t))},jt.dividedToIntegerBy=jt.divToInt=function(t){var e=this,n=e.constructor;return a(Tt(e,new n(t),0,1,1),n.precision,n.rounding)},jt.equals=jt.eq=function(t){return 0===this.cmp(t)},jt.floor=function(){return a(new this.constructor(this),this.e+1,3)},jt.greaterThan=jt.gt=function(t){return this.cmp(t)>0},jt.greaterThanOrEqualTo=jt.gte=function(t){var e=this.cmp(t);return 1==e||0===e},jt.hyperbolicCosine=jt.cosh=function(){var t,e,n,r,i,o=this,c=o.constructor,u=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return u;n=c.precision,r=c.rounding,c.precision=n+Math.max(o.e,o.sd())+4,c.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=_(c,1,o.times(e),new c(1),!0);for(var s,l=t,p=new c(8);l--;)s=o.times(o),o=u.minus(s.times(p.minus(s.times(p))));return a(o,c.precision=n,c.rounding=r,!0)},jt.hyperbolicSine=jt.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=_(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=_(o,2,i,i,!0);for(var c,u=new o(5),s=new o(16),l=new o(20);t--;)c=i.times(i),i=i.times(u.plus(c.times(s.times(c).plus(l))))}return o.precision=e,o.rounding=n,a(i,e,n,!0)},jt.hyperbolicTangent=jt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Tt(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},jt.inverseCosine=jt.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?0===r?e.isNeg()?l(n,i,o):new n(0):new n(NaN):e.isZero()?l(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=l(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},jt.inverseHyperbolicCosine=jt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,wt=!1,n=n.times(n).minus(1).sqrt().plus(n),wt=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},jt.inverseHyperbolicSine=jt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,wt=!1,n=n.times(n).plus(1).sqrt().plus(n),wt=!0,r.precision=t,r.rounding=e,n.ln())},jt.inverseHyperbolicTangent=jt.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?a(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Tt(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},jt.inverseSine=jt.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?0===e?(t=l(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},jt.inverseTangent=jt.atan=function(){var t,e,n,r,i,o,c,u,s,p=this,h=p.constructor,f=h.precision,m=h.rounding;if(p.isFinite()){if(p.isZero())return new h(p);if(p.abs().eq(1)&&f+4<=Ot)return c=l(h,f+4,m).times(.25),c.s=p.s,c}else{if(!p.s)return new h(NaN);if(f+4<=Ot)return c=l(h,f+4,m).times(.5),c.s=p.s,c}for(h.precision=u=f+10,h.rounding=1,n=Math.min(28,u/Mt+2|0),t=n;t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(wt=!1,e=Math.ceil(u/Mt),r=1,s=p.times(p),c=new h(p),i=p;t!==-1;)if(i=i.times(s),o=c.minus(i.div(r+=2)),i=i.times(s),c=o.plus(i.div(r+=2)),void 0!==c.d[e])for(t=e;c.d[t]===o.d[t]&&t--;);return n&&(c=c.times(2<<n-1)),wt=!0,a(c,h.precision=f,h.rounding=m,!0)},jt.isFinite=function(){return!!this.d},jt.isInteger=jt.isInt=function(){return!!this.d&&Rt(this.e/Mt)>this.d.length-2},jt.isNaN=function(){return!this.s},jt.isNegative=jt.isNeg=function(){return this.s<0},jt.isPositive=jt.isPos=function(){return this.s>0},jt.isZero=function(){return!!this.d&&0===this.d[0]},jt.lessThan=jt.lt=function(t){return this.cmp(t)<0},jt.lessThanOrEqualTo=jt.lte=function(t){return this.cmp(t)<1},jt.logarithm=jt.log=function(t){var n,i,o,c,u,l,p,h,f=this,m=f.constructor,y=m.precision,g=m.rounding,v=5;if(null==t)t=new m(10),n=!0;else{if(t=new m(t),i=t.d,t.s<0||!i||!i[0]||t.eq(1))return new m(NaN);n=t.eq(10)}if(i=f.d,f.s<0||!i||!i[0]||f.eq(1))return new m(i&&!i[0]?-1/0:1!=f.s?NaN:i?0:1/0);if(n)if(i.length>1)u=!0;else{for(c=i[0];c%10===0;)c/=10;u=1!==c}if(wt=!1,p=y+v,l=d(f,p),o=n?s(m,p+10):d(t,p),h=Tt(l,o,p,1),r(h.d,c=y,g))do if(p+=10,l=d(f,p),o=n?s(m,p+10):d(t,p),h=Tt(l,o,p,1),!u){+e(h.d).slice(c+1,c+15)+1==1e14&&(h=a(h,y+1,0));break}while(r(h.d,c+=10,g));return wt=!0,a(h,y,g)},jt.minus=jt.sub=function(t){var e,n,r,i,o,c,s,l,p,h,f,m,y=this,g=y.constructor;if(t=new g(t),!y.d||!t.d)return y.s&&t.s?y.d?t.s=-t.s:t=new g(t.d||y.s!==t.s?y:NaN):t=new g(NaN),t;if(y.s!=t.s)return t.s=-t.s,y.plus(t);if(p=y.d,m=t.d,s=g.precision,l=g.rounding,!p[0]||!m[0]){if(m[0])t.s=-t.s;else{if(!p[0])return new g(3===l?-0:0);t=new g(y)}return wt?a(t,s,l):t}if(n=Rt(t.e/Mt),h=Rt(y.e/Mt),p=p.slice(),o=h-n){for(f=o<0,f?(e=p,o=-o,c=m.length):(e=m,n=h,c=p.length),r=Math.max(Math.ceil(s/Mt),c)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=p.length,c=m.length,f=r<c,f&&(c=r),r=0;r<c;r++)if(p[r]!=m[r]){f=p[r]<m[r];break}o=0}for(f&&(e=p,p=m,m=e,t.s=-t.s),c=p.length,r=m.length-c;r>0;--r)p[c++]=0;for(r=m.length;r>o;){if(p[--r]<m[r]){for(i=r;i&&0===p[--i];)p[i]=kt-1;--p[i],p[r]+=kt}p[r]-=m[r]}for(;0===p[--c];)p.pop();for(;0===p[0];p.shift())--n;return p[0]?(t.d=p,t.e=u(p,n),wt?a(t,s,l):t):new g(3===l?-0:0)},jt.modulo=jt.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?a(new r(n),r.precision,r.rounding):(wt=!1,9==r.modulo?(e=Tt(n,t.abs(),0,3,1),e.s*=t.s):e=Tt(n,t,0,r.modulo,1),e=e.times(t),wt=!0,n.minus(e))},jt.naturalExponential=jt.exp=function(){return g(this)},jt.naturalLogarithm=jt.ln=function(){return d(this)},jt.negated=jt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,a(t)},jt.plus=jt.add=function(t){var e,n,r,i,o,c,s,l,p,h,f=this,m=f.constructor;if(t=new m(t),!f.d||!t.d)return f.s&&t.s?f.d||(t=new m(t.d||f.s===t.s?f:NaN)):t=new m(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(p=f.d,h=t.d,s=m.precision,l=m.rounding,!p[0]||!h[0])return h[0]||(t=new m(f)),wt?a(t,s,l):t;if(o=Rt(f.e/Mt),r=Rt(t.e/Mt),p=p.slice(),i=o-r){for(i<0?(n=p,i=-i,c=h.length):(n=h,r=o,c=p.length),o=Math.ceil(s/Mt),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=p.length,i=h.length,c-i<0&&(i=c,n=h,h=p,p=n),e=0;i;)e=(p[--i]=p[i]+h[i]+e)/kt|0,p[i]%=kt;for(e&&(p.unshift(e),++r),c=p.length;0==p[--c];)p.pop();return t.d=p,t.e=u(p,r),wt?a(t,s,l):t},jt.precision=jt.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(_t+t);return n.d?(e=p(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},jt.round=function(){var t=this,e=t.constructor;return a(new e(t),t.e+1,e.rounding)},jt.sine=jt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Mt,r.rounding=1,n=x(r,C(r,n)),r.precision=t,r.rounding=e,a(ht>2?n.neg():n,t,e,!0)):new r(NaN)},jt.squareRoot=jt.sqrt=function(){var t,n,r,i,o,c,u=this,s=u.d,l=u.e,p=u.s,h=u.constructor;if(1!==p||!s||!s[0])return new h(!p||p<0&&(!s||s[0])?NaN:s?u:1/0);for(wt=!1,p=Math.sqrt(+u),0==p||p==1/0?(n=e(s),(n.length+l)%2==0&&(n+="0"),p=Math.sqrt(n),l=Rt((l+1)/2)-(l<0||l%2),p==1/0?n="1e"+l:(n=p.toExponential(),n=n.slice(0,n.indexOf("e")+1)+l),i=new h(n)):i=new h(p.toString()),r=(l=h.precision)+3;;)if(c=i,i=c.plus(Tt(u,c,r+2,1)).times(.5),e(c.d).slice(0,r)===(n=e(i.d)).slice(0,r)){if(n=n.slice(r-3,r+1),"9999"!=n&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(a(i,l+1,1),t=!i.times(i).eq(u));break}if(!o&&(a(c,l+1,0),c.times(c).eq(u))){i=c;break}r+=4,o=1}return wt=!0,a(i,l,h.rounding,t)},jt.tangent=jt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=Tt(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,a(2==ht||4==ht?n.neg():n,t,e,!0)):new r(NaN)},jt.times=jt.mul=function(t){var e,n,r,i,o,c,s,l,p,h=this,f=h.constructor,m=h.d,y=(t=new f(t)).d;if(t.s*=h.s,!(m&&m[0]&&y&&y[0]))return new f(!t.s||m&&!m[0]&&!y||y&&!y[0]&&!m?NaN:m&&y?0*t.s:t.s/0);for(n=Rt(h.e/Mt)+Rt(t.e/Mt),l=m.length,p=y.length,l<p&&(o=m,m=y,y=o,c=l,l=p,p=c),o=[],c=l+p,r=c;r--;)o.push(0);for(r=p;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+y[r]*m[i-r-1]+e,o[i--]=s%kt|0,e=s/kt|0;o[i]=(o[i]+e)%kt|0}for(;!o[--c];)o.pop();for(e?++n:o.shift(),r=o.length;!o[--r];)o.pop();return t.d=o,t.e=u(o,n),wt?a(t,f.precision,f.rounding):t},jt.toBinary=function(t,e){return R(this,2,t,e)},jt.toDecimalPlaces=jt.toDP=function(t,e){var r=this,i=r.constructor;return r=new i(r),void 0===t?r:(n(t,0,mt),void 0===e?e=i.rounding:n(e,0,8),a(r,t+r.e+1,e))},jt.toExponential=function(t,e){var r,i=this,o=i.constructor;return void 0===t?r=c(i,!0):(n(t,0,mt),void 0===e?e=o.rounding:n(e,0,8),i=a(new o(i),t+1,e),r=c(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+r:r},jt.toFixed=function(t,e){var r,i,o=this,u=o.constructor;return void 0===t?r=c(o):(n(t,0,mt),void 0===e?e=u.rounding:n(e,0,8),i=a(new u(o),t+o.e+1,e),r=c(i,!1,t+i.e+1)),o.isNeg()&&!o.isZero()?"-"+r:r},jt.toFraction=function(t){var n,r,i,o,a,c,u,s,l,h,f,m,y=this,g=y.d,d=y.constructor;if(!g)return new d(y);if(l=r=new d(1),i=s=new d(0),n=new d(i),a=n.e=p(g)-y.e-1,c=a%Mt,n.d[0]=It(10,c<0?Mt+c:c),null==t)t=a>0?n:l;else{if(u=new d(t),!u.isInt()||u.lt(l))throw Error(_t+u);t=u.gt(n)?a>0?n:l:u}for(wt=!1,u=new d(e(g)),h=d.precision,d.precision=a=g.length*Mt*2;f=Tt(u,n,0,1,1),o=r.plus(f.times(i)),1!=o.cmp(t);)r=i,i=o,o=l,l=s.plus(f.times(o)),s=o,o=n,n=u.minus(f.times(o)),u=o;return o=Tt(t.minus(r),i,0,1,1),s=s.plus(o.times(l)),r=r.plus(o.times(i)),s.s=l.s=y.s,m=Tt(l,i,a,1).minus(y).abs().cmp(Tt(s,r,a,1).minus(y).abs())<1?[l,i]:[s,r],d.precision=h,wt=!0,m},jt.toHexadecimal=jt.toHex=function(t,e){return R(this,16,t,e)},jt.toNearest=function(t,e){var r=this,i=r.constructor;if(r=new i(r),null==t){if(!r.d)return r;t=new i(1),e=i.rounding}else{if(t=new i(t),void 0!==e&&n(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(wt=!1,e<4&&(e=[4,5,7,8][e]),r=Tt(r,t,0,e,1).times(t),wt=!0,a(r)):(t.s=r.s,r=t),r},jt.toNumber=function(){return+this},jt.toOctal=function(t,e){return R(this,8,t,e)},jt.toPower=jt.pow=function(t){var n,i,o,c,u,s,l,p=this,h=p.constructor,m=+(t=new h(t));if(!(p.d&&t.d&&p.d[0]&&t.d[0]))return new h(It(+p,m));if(p=new h(p),p.eq(1))return p;if(o=h.precision,u=h.rounding,t.eq(1))return a(p,o,u);if(n=Rt(t.e/Mt),i=t.d.length-1,l=n>=i,s=p.s,l){if((i=m<0?-m:m)<=qt)return c=f(h,p,i,o),t.s<0?new h(1).div(c):a(c,o,u)}else if(s<0)return new h(NaN);return s=s<0&&1&t.d[Math.max(n,i)]?-1:1,i=It(+p,m),n=0!=i&&isFinite(i)?new h(i+"").e:Rt(m*(Math.log("0."+e(p.d))/Math.LN10+p.e+1)),n>h.maxE+1||n<h.minE-1?new h(n>0?s/0:0):(wt=!1,h.rounding=p.s=1,i=Math.min(12,(n+"").length),c=g(t.times(d(p,o+i)),o),c=a(c,o+5,1),r(c.d,o,u)&&(n=o+10,c=a(g(t.times(d(p,n+i)),n),n+5,1),+e(c.d).slice(o+1,o+15)+1==1e14&&(c=a(c,o+1,0))),c.s=s,wt=!0,h.rounding=u,a(c,o,u))},jt.toPrecision=function(t,e){var r,i=this,o=i.constructor;return void 0===t?r=c(i,i.e<=o.toExpNeg||i.e>=o.toExpPos):(n(t,1,mt),void 0===e?e=o.rounding:n(e,0,8),i=a(new o(i),t,e),r=c(i,t<=i.e||i.e<=o.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+r:r},jt.toSignificantDigits=jt.toSD=function(t,e){var r=this,i=r.constructor;return void 0===t?(t=i.precision,e=i.rounding):(n(t,1,mt),void 0===e?e=i.rounding:n(e,0,8)),a(new i(r),t,e)},jt.toString=function(){var t=this,e=t.constructor,n=c(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},jt.truncated=jt.trunc=function(){return a(new this.constructor(this),this.e+1,1)},jt.valueOf=jt.toJSON=function(){var t=this,e=t.constructor,n=c(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var Tt=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,c,u,s){var l,p,h,f,m,y,g,d,v,b,w,x,_,C,R,I,N,E,S,A,k=r.constructor,M=r.s==i.s?1:-1,q=r.d,P=i.d;if(!(q&&q[0]&&P&&P[0]))return new k(r.s&&i.s&&(q?!P||q[0]!=P[0]:P)?q&&0==q[0]||!P?0*M:M/0:NaN);for(s?(m=1,p=r.e-i.e):(s=kt,m=Mt,p=Rt(r.e/m)-Rt(i.e/m)),S=P.length,N=q.length,v=new k(M),b=v.d=[],h=0;P[h]==(q[h]||0);h++);if(P[h]>(q[h]||0)&&p--,null==o?(C=o=k.precision,c=k.rounding):C=u?o+(r.e-i.e)+1:o,C<0)b.push(1),y=!0;else{if(C=C/m+2|0,h=0,1==S){for(f=0,P=P[0],C++;(h<N||f)&&C--;h++)R=f*s+(q[h]||0),b[h]=R/P|0,f=R%P|0;y=f||h<N}else{for(f=s/(P[0]+1)|0,f>1&&(P=t(P,f,s),q=t(q,f,s),S=P.length,N=q.length),I=S,w=q.slice(0,S),x=w.length;x<S;)w[x++]=0;A=P.slice(),A.unshift(0),E=P[0],P[1]>=s/2&&++E;do f=0,l=e(P,w,S,x),l<0?(_=w[0],S!=x&&(_=_*s+(w[1]||0)),f=_/E|0,f>1?(f>=s&&(f=s-1),g=t(P,f,s),d=g.length,x=w.length,l=e(g,w,d,x),1==l&&(f--,n(g,S<d?A:P,d,s))):(0==f&&(l=f=1),g=P.slice()),d=g.length,d<x&&g.unshift(0),n(w,g,x,s),l==-1&&(x=w.length,l=e(P,w,S,x),l<1&&(f++,n(w,S<x?A:P,x,s))),x=w.length):0===l&&(f++,w=[0]),b[h++]=f,l&&w[0]?w[x++]=q[I]||0:(w=[q[I]],x=1);while((I++<N||void 0!==w[0])&&C--);y=void 0!==w[0]}b[0]||b.shift()}if(1==m)v.e=p,lt=y;else{for(h=1,f=b[0];f>=10;f/=10)h++;v.e=h+p*m-1,a(v,u?o+v.e+1:o,c,y)}return v}}();if(vt=B(vt),gt=new vt(gt),dt=new vt(dt),"function"==typeof define&&define.amd)define(function(){return vt});else if("undefined"!=typeof module&&module.exports){if(module.exports=vt,!bt)try{bt=require("crypto")}catch(t){}}else t||(t="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),pt=t.Decimal,vt.noConflict=function(){return t.Decimal=pt,vt},t.Decimal=vt}(this),function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Qty=e()}(this,function(){"use strict";function t(e,n){if(A.apply(null,arguments),!E(this))return new t(e,n);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=O,this.denominator=O,S(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:O,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:O):n?(tt.call(this,n),this.scalar=e):tt.call(this,e),
this.denominator.join("*").indexOf("temp")>=0)throw new k("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new k("Cannot multiply by temperatures");if(!s(this.denominator,O))throw new k("Cannot divide with temperatures")}if(this.initValue=e,Y.call(this),this.isTemperature()&&this.baseScalar<0)throw new k("Temperatures must not be less than absolute zero")}function e(t,e){return(t+" "+e).trim()}function n(){throw new k("Incompatible units")}function r(e,n){for(var r,i=[],o=[],a=1,c=0;c<e.length;c++)r=e[c],it[r]?a=b(a,it[r]):at[r]&&(a*=at[r].scalar,at[r].numerator&&i.push(at[r].numerator),at[r].denominator&&o.push(at[r].denominator));for(var u=0;u<n.length;u++)r=n[u],it[r]?a/=it[r]:at[r]&&(a/=at[r].scalar,at[r].numerator&&o.push(at[r].numerator),at[r].denominator&&i.push(at[r].denominator));return i=i.reduce(function(t,e){return t.concat(e)},[]),o=o.reduce(function(t,e){return t.concat(e)},[]),t({scalar:a,numerator:i,denominator:o})}function i(t){var e=et[t];if(e)return e;var n,r=[];if(!vt.test(t))throw new k("Unit not recognized");for(;n=dt.exec(t);)r.push(n.slice(1));return r=r.map(function(t){return ot[t[0]]?[ot[t[0]],ct[t[1]]]:[ct[t[1]]]}),r=r.reduce(function(t,e){return t.concat(e)},[]),r=r.filter(function(t){return t}),et[t]=r,r}function o(){}function a(t){var e=nt.get(t);if(e)return e;var n=s(t,O);return e=n?"1":u(c(t)).join("*"),nt.set(t,e),e}function c(t){for(var e,n,r=[],i=0;i<t.length;i++)e=t[i],n=t[i+1],it[e]?(r.push(ut[e]+ut[n]),i++):r.push(ut[e]);return r}function u(t){var e=t.reduce(function(t,e){var n=t[e];return n||t.push(n=t[e]=[e,0]),n[1]++,t},[]);return e.map(function(t){return t[0]+(t[1]>1?t[1]:"")})}function s(t,e){if(e.length!==t.length)return!1;for(var n=0;n<t.length;n++){if(e[n].compareArray&&!e[n].compareArray(t[n]))return!1;if(e[n]!==t[n])return!1}return!0}function l(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function p(e,n){var r=e.units(),i=n.to(r),o=t(m(r));return t({scalar:e.scalar-i.scalar,numerator:o.numerator,denominator:o.denominator})}function h(e,n){var r=n.to(m(e.units()));return t({scalar:e.scalar-r.scalar,numerator:e.numerator,denominator:e.denominator})}function f(e,n){var r=n.to(m(e.units()));return t({scalar:e.scalar+r.scalar,numerator:e.numerator,denominator:e.denominator})}function m(t){if("tempK"===t)return"degK";if("tempC"===t)return"degC";if("tempF"===t)return"degF";if("tempR"===t)return"degR";throw new k("Unknown type for temp conversion from: "+t)}function y(e,n){var r,i=g(e),o=n.units();if("degK"===o)r=i.scalar;else if("degC"===o)r=i.scalar;else if("degF"===o)r=9*i.scalar/5;else{if("degR"!==o)throw new k("Unknown type for degree conversion to: "+o);r=9*i.scalar/5}return t({scalar:r,numerator:n.numerator,denominator:n.denominator})}function g(e){var n,r=e.units();if(r.match(/(deg)[CFRK]/))n=e.baseScalar;else if("tempK"===r)n=e.scalar;else if("tempC"===r)n=e.scalar;else if("tempF"===r)n=5*e.scalar/9;else{if("tempR"!==r)throw new k("Unknown type for temp conversion from: "+r);n=5*e.scalar/9}return t({scalar:n,numerator:["<kelvin>"],denominator:O})}function d(e,n){var r,i=n.units();if("tempK"===i)r=e.baseScalar;else if("tempC"===i)r=e.baseScalar-273.15;else if("tempF"===i)r=9*e.baseScalar/5-459.67;else{if("tempR"!==i)throw new k("Unknown type for temp conversion to: "+i);r=9*e.baseScalar/5}return t({scalar:r,numerator:n.numerator,denominator:n.denominator})}function v(e){var n,r=e.units();if(r.match(/(deg)[CFRK]/))n=e.baseScalar;else if("tempK"===r)n=e.scalar;else if("tempC"===r)n=e.scalar+273.15;else if("tempF"===r)n=5*(e.scalar+459.67)/9;else{if("tempR"!==r)throw new k("Unknown type for temp conversion from: "+r);n=5*e.scalar/9}return t({scalar:n,numerator:["<temp-K>"],denominator:O})}function b(){for(var t=1,e=0,n=0;n<arguments.length;n++){var r=arguments[n];e+=x(r),t*=r}return 0!==e?l(t,e):t}function w(t,e){if(0===e)throw new k("Divide by zero");var n=Math.pow(10,x(e)),r=n/(n*e);return b(t,r)}function x(t){if(!rt(t))return 0;for(var e=0;t%1!==0;)t*=10,e++;return e}function _(t,e){t=t.filter(function(t){return t!==P}),e=e.filter(function(t){return t!==P});for(var n,r={},i=0;i<t.length;i++)it[t[i]]?(n=[t[i],t[i+1]],i++):n=t[i],n&&n!==P&&(r[n]?r[n][0]++:r[n]=[1,n]);for(var o=0;o<e.length;o++)it[e[o]]?(n=[e[o],e[o+1]],o++):n=e[o],n&&n!==P&&(r[n]?r[n][0]--:r[n]=[-1,n]);t=[],e=[];for(var a in r)if(r.hasOwnProperty(a)){var c,u=r[a];if(u[0]>0)for(c=0;c<u[0];c++)t.push(u[1]);else if(u[0]<0)for(c=0;c<-u[0];c++)e.push(u[1])}return 0===t.length&&(t=O),0===e.length&&(e=O),t=t.reduce(function(t,e){return t.concat(e)},[]),e=e.reduce(function(t,e){return t.concat(e)},[]),[t,e]}function C(t){return t}function R(t){var e={};return t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})}function I(t){return"string"==typeof t||t instanceof String}function N(t){return rt(t)}function E(e){return e instanceof t}function S(t){return t&&"object"==typeof t&&t.hasOwnProperty("scalar")}function A(t,e){if(e){if(!N(t)||!I(e))throw new k("Only number accepted as initialization value when units are explicitly provided")}else if(!(I(t)||N(t)||E(t)||S(t)))throw new k("Only string, number or quantity accepted as single initialization value")}function k(){var t;return this?(t=Error.apply(this,arguments),this.name="QtyError",this.message=t.message,void(this.stack=t.stack)):(t=Object.create(k.prototype),k.apply(t,arguments),t)}var M={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift"],1.302773e26,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1.660538921e-27,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1.660538921e-27,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<feet>","<feet>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit"],1.6667e-15,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<farad>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","bequerel","bequerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp"],1,"counting",["<each>"]],"<nucleotide>":[["nt"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},q=["<meter>","<kilogram>","<second>","<mole>","<farad>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],P="<1>",O=[P],j="[+-]",T="\\d+",Z=j+"?"+T,V="\\."+T,Q="(?:"+T+"(?:"+V+")?)|(?:"+V+")",B="[Ee]"+Z,D="(?:"+Q+")(?:"+B+")?",H=j+"?\\s*"+D,$="("+H+")?\\s*([^/]*)(?:/(.+))?",F=new RegExp("^"+$+"$"),L="\\^|\\*{2}",U=new RegExp("([^ \\*]+?)(?:"+L+")?(-?\\d+(?![a-zA-Z]))"),z=new RegExp("([^ \\*]+?)(?:"+L+")?(\\d+(?![a-zA-Z]))"),G=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle","capacitance"],X={"-312058":"resistance","-312038":"inductance","-152040":"magnetism","-152038":"magnetism","-152058":"potential","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7942:"power",7959:"pressure",7962:"energy",7979:"viscosity",7961:"force",7997:"mass_concentration",8000:"mass",159999:"magnetism",160000:"current",160020:"charge",312058:"conductance",3199980:"activity",3199997:"molar_concentration",3200000:"substance",63999998:"illuminance",64000000:"luminous_power",1280000000:"currency",25600000000:"information",25599999980:"information_rate",511999999980:"angular_velocity",512000000000:"angle",10240000000000:"capacitance"},K={};t.parse=function(e){if(!I(e))throw new k("Argument should be a string");try{return t(e)}catch(t){return null}},t.swiftConverter=function(e,n){var r=t(e),i=t(n);if(r.eq(i))return C;var o;return o=r.isTemperature()?function(t){return r.mul(t).to(i).scalar}:function(t){return t*r.baseScalar/i.baseScalar},function(t){var e,n,r;if(Array.isArray(t)){for(n=t.length,r=[],e=0;e<n;e++)r.push(o(t[e]));return r}return o(t)}},t.getKinds=function(){return R(Object.keys(X).map(function(t){return X[t]}))},t.getUnits=function(e){var n=[],r=Object.keys(M);if("undefined"==typeof e)for(var i=0;i<r.length;i++)["","prefix"].indexOf(M[r[i]][2])==-1&&n.push(r[i].substr(1,r[i].length-2));else{if(t.getKinds().indexOf(e)===-1)throw new k("Kind not recognized");for(var i=0;i<r.length;i++)M[r[i]][2]===e&&n.push(r[i].substr(1,r[i].length-2))}return n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0})},t.getAliases=function(t){if(!ct[t])throw new k("Unit not recognized");return M[ct[t]][0]},t.formatter=e;var Y=function(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=W.call(this);else{var t=this.toBase();this.baseScalar=t.scalar,this.signature=t.signature}},W=function(){if(this.signature)return this.signature;for(var t=J.call(this),e=0;e<t.length;e++)t[e]*=Math.pow(20,e);return t.reduce(function(t,e){return t+e},0)},J=function(){if(!this.isBase())return J.call(this.toBase());for(var t=new Array(G.length),e=0;e<t.length;e++)t[e]=0;for(var n,r,i=0;i<this.numerator.length;i++)(n=M[this.numerator[i]])&&(r=G.indexOf(n[2]),r>=0&&(t[r]=t[r]+1));for(var o=0;o<this.denominator.length;o++)(n=M[this.denominator[o]])&&(r=G.indexOf(n[2]),r>=0&&(t[r]=t[r]-1));return t},tt=function(t){if(I(t)||(t=t.toString()),t=t.trim(),0===t.length)throw new k("Unit not recognized");var e=F.exec(t);if(!e)throw new k(t+": Quantity not recognized");var n=e[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;for(var r,o,a,c=e[2],u=e[3];e=U.exec(c);){if(r=parseFloat(e[2]),isNaN(r))throw new k("Unit exponent is not a number");if(0===r&&!vt.test(e[1]))throw new k("Unit not recognized");o=e[1]+" ",a="";for(var s=0;s<Math.abs(r);s++)a+=o;r>=0?c=c.replace(e[0],a):(u=u?u+a:a,c=c.replace(e[0],""))}for(;e=z.exec(u);){if(r=parseFloat(e[2]),isNaN(r))throw new k("Unit exponent is not a number");if(0===r&&!vt.test(e[1]))throw new k("Unit not recognized");o=e[1]+" ",a="";for(var l=0;l<r;l++)a+=o;u=u.replace(e[0],a,"g")}c&&(this.numerator=i(c.trim())),u&&(this.denominator=i(u.trim()))};t.prototype={constructor:t,toFloat:function(){if(this.isUnitless())return this.scalar;throw new k("Can't convert to Float unless unitless.  Use Unit#scalar")},isUnitless:function(){return s(this.numerator,O)&&s(this.denominator,O)},isCompatible:function(e){return I(e)?this.isCompatible(t(e)):!!E(e)&&(void 0!==e.signature&&this.signature===e.signature)},isInverse:function(t){return this.inverse().isCompatible(t)},kind:function(){return X[this.signature.toString()]},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(t){t!==P&&q.indexOf(t)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return v(this);var t=K[this.units()];return t||(t=r(this.numerator,this.denominator),K[this.units()]=t),t.mul(this.scalar)},units:function(){if(void 0!==this._units)return this._units;var t=s(this.numerator,O),e=s(this.denominator,O);if(t&&e)return this._units="",this._units;var n=a(this.numerator),r=a(this.denominator);return this._units=n+(e?"":"/"+r),this._units},eq:function(t){return 0===this.compareTo(t)},lt:function(t){return this.compareTo(t)===-1},lte:function(t){return this.eq(t)||this.lt(t)},gt:function(t){return 1===this.compareTo(t)},gte:function(t){return this.eq(t)||this.gt(t)},toPrec:function(e){if(I(e)&&(e=t(e)),N(e)&&(e=t(e+" "+this.units())),this.isUnitless()?e.isUnitless()||n():e=e.to(this.units()),0===e.scalar)throw new k("Divide by zero");var r=b(Math.round(this.scalar/e.scalar),e.scalar);return t(r+this.units())},toString:function(t,e){var n;if(N(t))n=this.units(),e=t;else if(I(t))n=t;else if(E(t))return this.toPrec(t).toString(e);var r=this.to(n),i=void 0!==e?l(r.scalar,e):r.scalar;return r=(i+" "+r.units()).trim()},format:function(e,n){1===arguments.length&&"function"==typeof e&&(n=e,e=void 0),n=n||t.formatter;var r=this.to(e);return n.call(this,r.scalar,r.units())},compareTo:function(e){return I(e)?this.compareTo(t(e)):(this.isCompatible(e)||n(),this.baseScalar<e.baseScalar?-1:this.baseScalar===e.baseScalar?0:this.baseScalar>e.baseScalar?1:void 0)},same:function(t){return this.scalar===t.scalar&&this.units()===t.units()},inverse:function(){if(this.isTemperature())throw new k("Cannot divide with temperatures");if(0===this.scalar)throw new k("Divide by zero");return t({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})},isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&s(this.denominator,O)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)},to:function(e){var r,i;if(!e)return this;if(!I(e))return this.to(e.units());if(r=this._conversionCache[e])return r;if(i=t(e),i.units()===this.units())return this;if(this.isCompatible(i))if(i.isTemperature())i=d(this,i);else if(i.isDegrees())i=y(this,i);else{var o=w(this.baseScalar,i.baseScalar);i=t({scalar:o,numerator:i.numerator,denominator:i.denominator})}else this.isInverse(i)?i=this.inverse().to(e):n();return this._conversionCache[e]=i,i},add:function(e){if(I(e)&&(e=t(e)),this.isCompatible(e)||n(),this.isTemperature()&&e.isTemperature())throw new k("Cannot add two temperatures");return this.isTemperature()?f(this,e):e.isTemperature()?f(e,this):t({scalar:this.scalar+e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(e){if(I(e)&&(e=t(e)),this.isCompatible(e)||n(),this.isTemperature()&&e.isTemperature())return p(this,e);if(this.isTemperature())return h(this,e);if(e.isTemperature())throw new k("Cannot subtract a temperature from a differential degree unit");return t({scalar:this.scalar-e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(e){if(N(e))return t({scalar:b(this.scalar,e),numerator:this.numerator,denominator:this.denominator});if(I(e)&&(e=t(e)),(this.isTemperature()||e.isTemperature())&&!this.isUnitless()&&!e.isUnitless())throw new k("Cannot multiply by temperatures");var n=this,r=e;n.isCompatible(r)&&400!==n.signature&&(r=r.to(n));var i=_(n.numerator.concat(r.numerator),n.denominator.concat(r.denominator));return t({scalar:b(n.scalar,r.scalar),numerator:i[0],denominator:i[1]})},div:function(e){if(N(e)){if(0===e)throw new k("Divide by zero");return t({scalar:this.scalar/e,numerator:this.numerator,denominator:this.denominator})}if(I(e)&&(e=t(e)),0===e.scalar)throw new k("Divide by zero");if(e.isTemperature())throw new k("Cannot divide with temperatures");if(this.isTemperature()&&!e.isUnitless())throw new k("Cannot divide with temperatures");var n=this,r=e;n.isCompatible(r)&&400!==n.signature&&(r=r.to(n));var i=_(n.numerator.concat(r.denominator),n.denominator.concat(r.numerator));return t({scalar:n.scalar/r.scalar,numerator:i[0],denominator:i[1]})}};var et={};o.prototype.get=function(t){return arguments.length>1&&(t=Array.apply(null,arguments)),t.reduce(function(e,n,r){if(e){var i=e[n];return r===t.length-1?i?i.data:void 0:i}},this)},o.prototype.set=function(t,e){return arguments.length>2&&(t=Array.prototype.slice.call(arguments,0,-1),e=arguments[arguments.length-1]),t.reduce(function(n,r,i){var o=n[r];return void 0===o&&(o=n[r]={}),i===t.length-1?(o.data=e,e):o},this)};var nt=new o;t.mulSafe=b,t.divSafe=w;var rt=Number.isFinite||window.isFinite,it={},ot={},at={},ct={},ut={};for(var st in M)if(M.hasOwnProperty(st)){var lt=M[st];if("prefix"===lt[2]){it[st]=lt[1];for(var pt=0;pt<lt[0].length;pt++)ot[lt[0][pt]]=st}else{at[st]={scalar:lt[1],numerator:lt[3],denominator:lt[4]};for(var ht=0;ht<lt[0].length;ht++)ct[lt[0][ht]]=st}ut[st]=lt[0][0]}var ft=Object.keys(ot).sort(function(t,e){return e.length-t.length}).join("|"),mt=Object.keys(ct).sort(function(t,e){return e.length-t.length}).join("|"),yt="\\b|$",gt="("+ft+")??("+mt+")(?:"+yt+")",dt=new RegExp(gt,"g"),vt=new RegExp("^\\s*("+gt+"\\s*\\*?\\s*)+$");return k.prototype=Object.create(Error.prototype,{constructor:{value:k}}),t.Error=k,t}),function(){"use strict";if("undefined"==typeof module||"undefined"==typeof module.exports)return void(this.stem=this.stem||{});module.exports=this.stem={};var t=this.stem,e=this.Decimal||require("./decimal"),n=(this.Qty||require("./qty"),t.is=require("./is"));n.BigNumber||(n.BigNumber=function(t){return t instanceof e}),t.option=require("./option"),t.functor=require("./functor"),t.type=require("./type"),t.symbol=require("./symbol"),t.System=require("./system"),t.Expression=require("./expression"),t.Terminal=require("./terminal"),t.Variable=require("./variable"),t.Bag=require("./bag"),t.Bool=require("./boolean"),t.Numeric=require("./numeric"),t.Numerical=require("./numerical"),t.Real=require("./real"),t.Integer=require("./integer"),t.Rational=require("./rational"),t.Complexical=require("./complexical"),t.Complex=require("./complex"),t.Imaginary=require("./imaginary"),t.Polar=require("./polar"),t.Constant=require("./constant"),t.Matrix=require("./matrix"),t.Vector=require("./vector"),t.Quantity=require("./quantity"),t.Factorial=require("./factorial"),t.DoubleFactorial=require("./double_factorial"),t.Binomial=require("./binomial"),t.Infinite=require("./infinite"),t.ComplexInfinite=t.ComplexInfinity=require("./complex_infinite"),t.Relation=require("./relation"),t.And=require("./and"),t.Or=require("./or"),t.Not=require("./not"),t.Implies=require("./implies"),t.Equivalence=require("./equivalence"),t.Xor=require("./xor"),t.Nand=require("./nand"),t.Nor=require("./nor"),t.Xnor=require("./xnor"),t.Add=require("./add"),t.Multiply=require("./multiply"),t.chemistry=require("./chemistry"),t.Equal=require("./equal"),t.Unequal=require("./unequal"),t.Logarithm=require("./logarithm"),t.Exponential=require("./exponential"),t.CubeRoot=require("./cube_root"),t.Signum=require("./signum"),t.Floor=require("./floor"),t.Ceiling=require("./ceiling"),t.Maximum=require("./maximum"),t.Minimum=require("./minimum"),t.Hypot=require("./hypot"),t.Absolute=require("./absolute"),t.Minus=require("./minus"),t.Plus=require("./plus"),t.PlusMinus=require("./plus_minus"),t.Binary=require("./binary"),t.Equation=require("./equation"),t.Interval=require("./interval"),t.Subtract=require("./subtract"),t.Divide=require("./divide"),t.Power=require("./power"),t.Modulo=require("./modulo"),t.ArcTangent2=require("./arc_tangent2"),t.LessEqual=require("./less_equal"),t.GreaterEqual=require("./greater_equal"),t.Less=require("./less"),t.Greater=require("./greater"),t.Approximate=require("./approximate"),t.SquareRoot=require("./square_root"),t.Trigonometry=require("./trigonometry"),t.Coseant=require("./cosecant"),t.Cosine=require("./cosine"),t.Cotangent=require("./cotangent"),t.Secont=require("./secant"),t.Sine=require("./sine"),t.Tangent=require("./tangent"),t.HyperbolicSine=require("./hyperbolic_sine"),t.HyperbolicCosine=require("./hyperbolic_cosine"),t.HyperbolicTangent=require("./hyperbolic_tangent"),t.InverseTrigonometry=require("./inverse_trigonometry"),t.ArcHyperbolicCosine=require("./arc_cosh"),t.ArcHyperbolicSine=require("./arc_sinh"),t.ArcHyperbolicTangent=require("./arc_tanh"),t.ArcSine=require("./arc_sine"),t.Arcosine=require("./arc_cosine"),t.ArcTangent=require("./arc_tangent"),t.Differential=require("./differential"),t.Conditional=require("./conditional"),t.Cases=require("./cases"),t.Exception=require("./exception"),t.Indeterminate=require("./indeterminate"),t.Undefined=require("./undefined"),t.Unknown=require("./unknown"),t.parser=require("./parser"),t.method=require("./method"),require("./calculate"),require("./primitives"),require("./printable"),require("./derivative"),require("./ordered"),require("./canonical"),require("./simplify"),require("./identical"),require("./chemistry_parser"),
require("./cohen")}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is=e.is||{};this.Decimal&&(n.BigNumber=function(e){return e instanceof t}),n.object=function(t){return null!==t&&"object"==typeof t},n.array=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},n.empty=function(t){if(!n.object(t))return!1;Object.keys(t).length;return 0===Object.keys(t).length},n.not_empty=function(t){return!n.empty(t)},n.undef=function(t){return"undefined"==typeof t},n.unspecified=function(t){return"undefined"==typeof t||null===t},n.string=function(t){return"string"==typeof t},n.number=function(t){return"number"==typeof t},n.integer=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.infinite=function(t){return!isFinite(t)},n.non_negative_integer=function(t){return n.integer(t)&&t>=0},n.positive_integer=function(t){return n.integer(t)&&t>0},n.negative_integer=function(t){return n.integer(t)&&t<0},n.func=function(t){return"function"==typeof t},n.boolean=function(t){return"boolean"==typeof t},n.empty_array=function(t){return n.array(t)&&0===t.length},n.in_nodejs=function(){return"undefined"!=typeof module&&"undefined"!=typeof module.exports},n.normalize_whitespace=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")},n.sort_by_length=function(t,e){void 0===e?t.sort(function(t,e){return t.length<e.length?-1:t.length>e.length?1:0}):t.sort(function(t,n){return t[e].length<n[e].length?-1:t[e].length>n[e].length?1:0})},n.sort_by_key=function(t,e){t.sort(function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0})},n.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.option={};n.logic="propositional",n.convert_to_complex_domain=!0,n.set_option=function(e,r){n[e]=r,"logic"===e&&t.functor.set_option(e,r)},e.in_nodejs()&&(module.exports=t.option)}.call(this),function(){"use strict";var t,e,n,r,i,o,a,c,u,s,l,p,h,f,m,y=this.stem||require("./core"),g=y.is,d=y.type=y.type||{};t=function(t){for(var e in t)this[e]=t[e]},t.prototype.toString=function(){return"type = "+this.name},f=function(){t.call(this,{name:"factorial",description:"Factorial operator",symbol:"F",string:"F",html:"<b>F</b>",latex:"\\mathbb{F}"})};var v=function(){};v.prototype=t.prototype,f.prototype=new v,f.prototype.constructor=f,f.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),m=function(){t.call(this,{name:"double factorial",description:"Double factorial operator",symbol:"D",string:"D",html:"<b>D</b>",latex:"\\mathbb{D}"})};var v=function(){};v.prototype=t.prototype,m.prototype=new v,m.prototype.constructor=m,m.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),e=function(){t.call(this,{name:"natural",description:"All counting numbers: 0, 1, ...",symbol:"N",string:"N",html:"<b>N</b>",latex:"\\mathbb{N}"})};var v=function(){};v.prototype=t.prototype,e.prototype=new v,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n=function(){t.call(this,{name:"integer",description:"All positive and negative numbers including 0.",symbol:"Z",html:"<b>Z</b>",latex:"\\mathbb{Z}"})};var v=function(){};v.prototype=t.prototype,n.prototype=new v,n.prototype.constructor=n,n.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n.prototype.isInteger=function(){return!0},r=function(){t.call(this,{name:"rational",description:"A number that can be represented as a fraction of integers.",symbol:"Q",html:"<b>Q</b>",latex:"\\mathbb{Q}"})};var v=function(){};v.prototype=t.prototype,r.prototype=new v,r.prototype.constructor=r,r.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),i=function(){t.call(this,{name:"real",description:"All measurable numbers.",symbol:"R",html:"<b>R</b>",latex:"\\mathbb{R}"})};var v=function(){};v.prototype=t.prototype,i.prototype=new v,i.prototype.constructor=i,i.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),o=function(){t.call(this,{name:"complex",description:"Complex numbers.",symbol:"C",html:"<b>C</b>",latex:"\\mathbb{C}"})},p=function(){t.call(this,{name:"bool",description:"Booleans (true, false)",symbol:"B",html:"<b>B</b>",latex:"B"})},o.prototype.isReal=function(){return!1};var v=function(){};v.prototype=t.prototype,o.prototype=new v,o.prototype.constructor=o,o.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),u=function(){t.call(this,{name:"chemical",description:"Chemical elements",symbol:"A",html:"<b>A</b>",latex:"\\mathbb{A}"})};var v=function(){};v.prototype=t.prototype,u.prototype=new v,u.prototype.constructor=u,u.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),a=function(){t.call(this,{name:"quantity",description:"Physical (vector) quantities",symbol:"P",html:"<b>P</b>",latex:"\\mathbb{P}"})};var v=function(){};v.prototype=t.prototype,a.prototype=new v,a.prototype.constructor=a,a.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),c=function(){t.call(this,{name:"polar",description:"Polar coordinates expressed as a distance and an angle",symbol:"F",html:"<b>F</b>",latex:"\\mathbb{F}"})};var v=function(){};v.prototype=t.prototype,c.prototype=new v,c.prototype.constructor=c,c.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),s=function(){t.call(this,{name:"vector",description:"Vectors",symbol:"V",html:"<b>V</b>",latex:"\\mathbb{V}"})};var v=function(){};v.prototype=t.prototype,s.prototype=new v,s.prototype.constructor=s,s.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),l=function(){t.call(this,{name:"matrix",description:"Matrices",symbol:"M",html:"<b>M</b>",latex:"\\mathbb{M}"})};var v=function(){};v.prototype=t.prototype,l.prototype=new v,l.prototype.constructor=l,l.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),h=function(){t.call(this,{name:"imaginary",description:"Imaginary numbers",symbol:"I",html:"<b>I</b>",latex:"\\mathbb{I}"})};var v=function(){};v.prototype=t.prototype,l.prototype=new v,l.prototype.constructor=l,l.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),d.Type=new t({name:"base"}),d.Natural=new e,d.Integer=new n,d.Rational=new r,d.Real=new i,d.Complex=new o,d.Quantity=new a,d.Chemical=new u,d.Vector=new s,d.Matrix=new l,d.Bool=new p,d.Imaginary=new h,d.Factorial=new f,d.DoubleFactorial=new m,d.map={A:{name:"chemical",mnemonic:"atom",description:"Chemical elements",symbol:"A",domain:null,string:"A",latex:"A",html:"A"},B:{name:"unused",mnemonic:"",description:"",domain:null,symbol:"B",string:"B",latex:"B",html:"B"},C:{name:"complex number",mnemonic:"complex",description:"Complex number",domain:"C",symbol:"C",string:"C",latex:"\\mathrm{C}",html:"C"},D:{name:"double factorial",mnemonic:"",description:"double factorial",symbol:"D",string:"D",latex:"D",html:"D"},E:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},F:{name:"factorial",mnemonic:"",description:"factorial",symbol:"F",string:"F",latex:"F",html:"F"},G:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},H:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},I:{name:"imaginary",mnemonic:"",description:"",symbol:"I",string:"I",latex:"I",html:"I"},J:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},K:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},L:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},M:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},N:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},O:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},P:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},Q:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},R:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},S:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},T:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},U:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},V:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},W:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},X:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},Y:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"},Z:{name:"unused",mnemonic:"",description:"",symbol:"A",string:"A",latex:"A",html:"A"}},g.in_nodejs()&&(module.exports=d)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.functor={Add:{name:"add",ascii:"+",unicode:"+",latex:"+",html:"+",infix:!0,commutative:!0,associative:!0,precedence:4,arity:{minimum:1,maximum:1/0}},Plus:{name:"plus",ascii:"+",unicode:"+",latex:"+",html:"+",prefix:!0,precedence:2,arity:{minimum:1,maximum:1}},PlusMinus:{name:"plus or minus",ascii:"+/-",unicode:"±",latex:"\\pm",html:"&plusmn;",prefix:!0,precedence:2,arity:{minimum:1,maximum:1}},Conditional:{name:"conditional",ascii:"if",unicode:"if",latex:"if",html:"if",precedence:0,spacing:!0,arity:{minimum:2,maximum:2}},Cases:{name:"cases",ascii:"cases",unicode:"cases",latex:"cases",html:"cases",precedence:0,arity:{minimum:1,maximum:1/0}},Differential:{name:"differential",ascii:"d",unicode:"d",latex:"\\mathrm{d}",html:"d",prefix:!0,precedence:2,arity:{minimum:1,maximum:1}},Interval:{name:"interval",ascii:",",unicode:",",latex:",",html:",",precedence:2,arity:{minimum:2,maximum:2}},Subtract:{name:"subtract",ascii:"-",unicode:"−",latex:"-",html:"&minus;",infix:!0,commutative:!0,associative:!0,precedence:4,arity:{minimum:2,maximum:2}},Minus:{name:"minus",ascii:"-",unicode:"−",latex:"-",html:"&minus;",prefix:!0,precedence:2,arity:{minimum:1,maximum:1}},Multiply:{name:"multiply",ascii:"*",unicode:"⋅",latex:"{\\cdot}",html:"&bull;",infix:!0,commutative:!0,associative:!0,precedence:3,arity:{minimum:1,maximum:1/0}},Divide:{name:"divide",ascii:"/",unicode:"/",latex:"/",html:"/",infix:!0,precedence:3,arity:{minimum:2,maximum:2}},Fraction:{name:"fraction",ascii:"//",unicode:"//",latex:"//",html:"//",infix:!0,precedence:3,arity:{minimum:2,maximum:2}},Binomial:{name:"binomial",ascii:"binomial",unicode:"binomial",latex:"\\binom",html:"binomial",precedence:0,arity:{minimum:2,maximum:2}},Greater:{name:"greater",ascii:">",unicode:">",latex:">",html:"&gt;",infix:!0,spacing:!0,precedence:6,arity:{minimum:2,maximum:2}},Less:{name:"less",ascii:"<",unicode:"<",latex:"<",html:"&lt;",infix:!0,spacing:!0,commutative:!0,associative:!0,precedence:6,arity:{minimum:2,maximum:2}},GreaterEqual:{name:"greater or equal",ascii:">=",unicode:"≥",latex:"\\geq",html:"&#2265;",infix:!0,spacing:!0,commutative:!0,associative:!0,precedence:6,arity:{minimum:2,maximum:2}},LessEqual:{name:"less or equal",ascii:"=<",unicode:"≤",latex:"\\leq",html:"&#2264;",infix:!0,spacing:!0,commutative:!0,associative:!0,precedence:6,arity:{minimum:2,maximum:2}},Equation:{name:"equation",ascii:"=",unicode:"=",latex:"=",html:"=",infix:!0,spacing:!0,precedence:14,arity:{minimum:2,maximum:2}},Equal:{name:"equal",ascii:"==",unicode:"==",latex:"==",html:"==",infix:!0,spacing:!0,precedence:7,arity:{minimum:2,maximum:1/0}},Unequal:{name:"unequal",ascii:"!=",unicode:"≠",latex:"\\neq",html:"&#8800;",infix:!0,spacing:!0,precedence:7,arity:{minimum:2,maximum:1/0}},Approximate:{name:"approximate",ascii:"~=",unicode:"≈",latex:"\\approx",html:"&asymp;",infix:!0,spacing:!0,precedence:7,arity:{minimum:2,maximum:3}},Modulo:{name:"modulo",ascii:"mod",unicode:"mod",latex:"\\bmod",html:"mod",infix:!0,spacing:!0,commutative:!0,associative:!0,precedence:4,arity:{minimum:2,maximum:2}},Stoichiometric:{name:"stoichiometric",ascii:"=",unicode:"=",latex:"=",html:"=",infix:!0,spacing:!0,precedence:14,arity:{minimum:2,maximum:2}},Yields:{name:"yields",ascii:"->",unicode:"→",latex:"{\\longrightarrow}",html:"&#2192;",infix:!0,spacing:!0,precedence:14,arity:{minimum:2,maximum:2}},Reversible:{name:"reversible",ascii:"<->",unicode:"⇆",latex:"{\\leftrightarrows}",html:"&#21C6;",infix:!0,spacing:!0,precedence:14,arity:{minimum:2,maximum:2}},Equilibrium:{name:"equilibrium",ascii:"<=>",unicode:"⇌",latex:"{\\rightleftharpoons}",html:"&#21CC;",infix:!0,spacing:!0,precedence:14,arity:{minimum:2,maximum:2}},Power:{name:"power",ascii:"^",unicode:"^",latex:"^",html:void 0,infix:!0,precedence:1,arity:{minimum:2,maximum:2}},Logarithm:{name:"log",ascii:"log",unicode:"log",latex:"\\log",html:"log",precedence:0,arity:{minimum:1,maximum:2},range:{minimum:0,maximum:1/0}},Exponential:{name:"exp",ascii:"exp",unicode:"exp",latex:"\\exp",html:"exp",func:!0,precedence:0,arity:{minimum:1,maximum:1}},SquareRoot:{name:"sqrt",ascii:"sqrt",unicode:"√",latex:"\\sqrt",html:"&#8730;",curly:!0,precedence:0,arity:{minimum:1,maximum:1}},CubeRoot:{name:"cbrt",ascii:"cbrt",unicode:"∛",latex:"\\sqrt",html:"&#8731;",curly:!0,precedence:0,arity:{minimum:1,maximum:1}},Signum:{name:"signum",ascii:"sgn",unicode:"sgn",latex:"\\mathrm{sgn}",html:"sgn",precedence:0,arity:{minimum:1,maximum:1}},Absolute:{name:"absolute",ascii:"abs",unicode:"abs",latex:"\\mathrm{abs}",html:"abs",precedence:0,arity:{minimum:1,maximum:1}},Floor:{name:"floor",ascii:"floor",unicode:"floor",latex:"\\mathrm{floor}",html:"floor",precedence:0,arity:{minimum:1,maximum:1}},Ceiling:{name:"ceiling",ascii:"ceil",unicode:"ceil",latex:"\\mathrm{ceil}",html:"ceil",precedence:0,arity:{minimum:1,maximum:1}},Maximum:{name:"maximum",ascii:"max",unicode:"max",latex:"\\mathrm{max}",html:"max",precedence:0,arity:{minimum:1,maximum:1/0}},Hypot:{name:"hypot",ascii:"hypot",unicode:"hypot",latex:"\\mathrm{hypot}",html:"hypot",precedence:0,arity:{minimum:1,maximum:1/0}},Minimum:{name:"minimum",ascii:"min",unicode:"min",latex:"\\mathrm{min}",html:"min",precedence:0,arity:{minimum:1,maximum:1/0}},And:{name:"and",ascii:"and",unicode:"∧",latex:"{\\wedge}",html:"&and;",infix:!0,spacing:!0,commutative:!0,precedence:2,arity:{minimum:1,maximum:1/0}},Nand:{name:"nand",ascii:"nand",unicode:"⊼",latex:"{\\barwedge}",html:"&#8892;",infix:!0,commutative:!0,spacing:!0,precedence:2,arity:{minimum:2,maximum:1/0}},Not:{name:"not",ascii:"not",unicode:"¬",latex:"{\\neg}",html:"&not;",prefix:!0,spacing:!0,precedence:1,arity:{minimum:1,maximum:1}},Implies:{name:"implies",ascii:"implies",unicode:"⇒",latex:"{\\Rightarrow}",html:"&rArr;",infix:!0,spacing:!0,precedence:5,arity:{minimum:2,maximum:2}},Xor:{name:"xor",ascii:"xor",unicode:"⊕",latex:"{\\oplus}",html:"&oplus;",infix:!0,spacing:!0,precedence:4,arity:{minimum:2,maximum:2}},Nor:{name:"nor",ascii:"nor",unicode:"⊽",latex:"{\\veebar}",html:"&#8893;",infix:!0,commutative:!0,spacing:!0,precedence:3,arity:{minimum:2,maximum:1/0}},Xnor:{name:"xnor",ascii:"xnor",unicode:"xnor",latex:"xnor",html:"xnor",infix:!0,commutative:!0,spacing:!0,precedence:11,arity:{minimum:2,maximum:2}},Equivalence:{name:"equivalence",ascii:"equivalence",unicode:"⇔",latex:"{\\Leftrightarrow}",html:"&hArr;",infix:!0,spacing:!0,precedence:6,arity:{minimum:2,maximum:2}},Or:{name:"or",ascii:"or",unicode:"∨",latex:"{\\vee}",html:"&or;",infix:!0,spacing:!0,commutative:!0,precedence:3,arity:{minimum:1,maximum:1/0}},Sine:{name:"sin",ascii:"sin",unicode:"sin",latex:"\\sin",html:"sin",precedence:0,arity:{minimum:1,maximum:1}},HyperbolicSine:{name:"sinh",ascii:"sinh",unicode:"sinh",latex:"\\sinh",html:"sinh",precedence:0,arity:{minimum:1,maximum:1}},HyperbolicCosine:{name:"cosh",ascii:"cosh",unicode:"cosh",latex:"\\cosh",html:"cosh",precedence:0,arity:{minimum:1,maximum:1}},HyperbolicTangent:{name:"tanh",ascii:"tanh",unicode:"tanh",latex:"\\tanh",html:"tanh",precedence:0,arity:{minimum:1,maximum:1}},ArcHyperbolicSine:{name:"asinh",ascii:"asinh",unicode:"asinh",latex:"\\sinh^{-1}",html:"sinh<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},ArcHyperbolicCosine:{name:"acosh",ascii:"acosh",unicode:"acosh",latex:"\\cosh^{-1}",html:"cosh<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},ArcHyperbolicTangent:{name:"atanh",ascii:"atanh",unicode:"atanh",latex:"\\tanh^{-1}",html:"tanh<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},ArcSine:{name:"asin",ascii:"asin",unicode:"asin",latex:"\\sin^{-1}",html:"sin<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},Cosine:{name:"cos",ascii:"cos",unicode:"cos",latex:"\\cos",html:"cos",precedence:0,arity:{minimum:1,maximum:1}},ArcCosine:{name:"acos",ascii:"acos",unicode:"acos",latex:"\\cos^{-1}",html:"cos<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},Tangent:{name:"tan",ascii:"tan",unicode:"tan",latex:"\\tan",html:"tan",precedence:0,arity:{minimum:1,maximum:1}},Cosecant:{name:"csc",ascii:"csc",unicode:"csc",latex:"\\csc",html:"csc",precedence:0,arity:{minimum:1,maximum:1}},Secant:{name:"sec",ascii:"sec",unicode:"sec",latex:"\\sec",html:"sec",precedence:0,arity:{minimum:1,maximum:1}},Cotangent:{name:"cot",ascii:"cot",unicode:"cot",latex:"\\cot",html:"cot",precedence:0,arity:{minimum:1,maximum:1}},ArcTangent:{name:"atan",ascii:"atan",unicode:"atan",latex:"\\tan^{-1}",html:"tan<sup>&minus;1</sup>",precedence:0,arity:{minimum:1,maximum:1}},ArcTangent2:{name:"atan2",ascii:"atan2",unicode:"atan2",latex:"\\atan2",html:"tan<sup>&minus;1</sup>",precedence:0,arity:{minimum:2,maximum:2}}};n.Sine.order=110,n.Cosine.order=111,n.Tangent.order=112,n.Cosecant.order=113,n.Secant.order=114,n.Cotangent.order=115,n.HyperbolicSine.order=116,n.HyperbolicCosine.order=117,n.HyperbolicTangent.order=118,n.ArcSine.order=121,n.ArcCosine.order=122,n.ArcTangent.order=123,n.ArcHyperbolicSine.order=124,n.ArcHyperbolicCosine.order=125,n.ArcHyperbolicTangent.order=126,n.ArcTangent2.order=127,n.Signum.order=11,n.SquareRoot.order=12,n.CubeRoot.order=13,n.Power.order=14,n.Exponential.order=15,n.Logarithm.order=16,n.Absolute.order=17,n.Divide.order=1,n.Fraction.order=1,n.Equation.order=1,n.Equilibrium.order=1,n.Minus.order=1,n.Multiply.order=1,n.Plus.order=1,n.Reversible.order=1,n.Stoichiometric.order=1,n.Subtract.order=1,n.Yields.order=1;var r={And:{ascii:"and",unicode:"∧",latex:"{\\wedge}",html:"&and;"},Or:{ascii:"or",unicode:"∨",latex:"{\\vee}",html:"&or;"},Not:{ascii:"not",unicode:"¬",latex:"{\\neg}",html:"&not;"},Xor:{ascii:"xor",unicode:"⊕",latex:"{\\oplus}",html:"&oplus;"},Nand:{ascii:"nand",unicode:"⊼",latex:"{\\barwedge}",html:"&#8892;"},Nor:{ascii:"nor",unicode:"⊽",latex:"{\\veebar}",html:"&#8893;"},Xnor:{ascii:"xnor",unicode:"xnor",latex:"xnor",html:"xnor"}},i={And:{ascii:"*",unicode:"⋅",latex:"\\,{\\cdot}\\,",html:"&bull;"},Or:{ascii:"+",unicode:"+",latex:"+",html:"+"},Not:{ascii:"'",unicode:"'",latex:"'",html:"'"},Xor:{ascii:"xor",unicode:"⊕",latex:"{\\oplus}",html:"&oplus;"},Nand:{ascii:"nand",unicode:"⊼",latex:"{\\barwedge}",html:"&#8892;"},Nor:{ascii:"nor",unicode:"⊽",latex:"{\\veebar}",html:"&#8893;"},Xnor:{ascii:"xnor",unicode:"xnor",latex:"xnor",html:"xnor"}};t.functor.set_option=function(t,e){if("logic"===t){var o,a;if("propositional"===e){for(o in r)for(a in r[o])n[o][a]=r[o][a];return}if("circuit"===e)for(o in i)for(a in i[o])n[o][a]=i[o][a]}},t.functor.check=function(t){return t&&t.class_name&&n[t.class_name]===t},t.functor.arity=function(t,e){var n=t.arity.minimum,r=t.arity.maximum;return!(e<n)&&(!isFinite(r)||e<=r)},function(){for(var t in n)n[t].class_name=t}(),e.in_nodejs()&&(module.exports=t.functor)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.symbol={};n.greek=function(t){return r[t]||null};n.Greek=[];n.Infinite={latex:"\\infty",unicode:"∞",hex:"221E",html:"&infin;",ascii:"infinity"},n.ComplexInfinite=n.ComplexInfinity={latex:"\\tilde{\\infty}",unicode:"±∞",hex:"221E",html:"&plusmn;&infin;",ascii:"+/-infinity"},n.UnaryMinus={latex:"-",unicode:"-",hex:"002D",html:"-",ascii:"-"};var r=n.GreekMap={alpha:{latex:"\\alpha",unicode:"α",hex:"03B1",html:"&alpha;"},beta:{latex:"\\beta",unicode:"β",hex:"03B2",html:"&beta;"},gamma:{latex:"\\gamma",unicode:"γ",hex:"03B3",html:"&gamma;"},delta:{latex:"\\delta",unicode:"δ",hex:"03B4",html:"&delta;"},epsilon:{latex:"\\epsilon",unicode:"ε",hex:"03B5",html:"&epsilon;"},zeta:{latex:"\\zeta",unicode:"ζ",hex:"03B6",html:"&zeta;"},eta:{latex:"\\eta",unicode:"η",hex:"03B7",html:"&eta;"},theta:{latex:"\\theta",unicode:"θ",hex:"03B8",html:"&theta;"},iota:{latex:"\\iota",unicode:"ι",hex:"03B9",html:"&iota;"},kappa:{latex:"\\kappa",unicode:"κ",hex:"03BA",html:"&kappa;"},lambda:{latex:"\\lambda",unicode:"λ",hex:"03BB",html:"&lambda;"},mu:{latex:"\\mu",unicode:"μ",hex:"03BC",html:"&mu;"},nu:{latex:"\\nu",unicode:"ν",hex:"03BD",html:"&nu;"},xi:{latex:"\\xi",unicode:"ξ",hex:"03BE",html:"&xi;"},omicron:{latex:"\\omicron",unicode:"ο",hex:"03BF",html:"&omicron;"},pi:{latex:"\\pi",unicode:"π",hex:"03C0",html:"&pi;"},rho:{latex:"\\rho",unicode:"ρ",hex:"03C1",html:"&rho;"},sigma:{latex:"\\sigma",unicode:"σ",hex:"03C3",html:"&sigma;"},tau:{latex:"\\tau",unicode:"τ",hex:"03C4",html:"&tau;"},upsilon:{latex:"\\upsilon",unicode:"υ",hex:"03C5",html:"&upsilon;"},phi:{latex:"\\phi",unicode:"φ",hex:"03C6",html:"&phi;"},chi:{latex:"\\chi",unicode:"χ",hex:"03C7",html:"&chi;"},psi:{latex:"\\psi",unicode:"ψ",hex:"03C8",html:"&psi;"},omega:{latex:"\\omega",unicode:"ω",hex:"03C9",html:"&omega;"},Alpha:{latex:"A",unicode:"Α",hex:"0391",html:"&Alpha;"},Beta:{latex:"B",unicode:"Β",hex:"0392",html:"&Beta;"},Gamma:{latex:"\\Gamma",unicode:"Γ",hex:"0393",html:"&Gamma;"},Delta:{latex:"\\Delta",unicode:"Δ",hex:"0394",html:"&Delta;"},Epsilon:{latex:"E",unicode:"Ε",hex:"0395",html:"&Epsilon;"},Zeta:{latex:"Z",unicode:"Ζ",hex:"0396",html:"&Zeta;"},Eta:{latex:"H",unicode:"Η",hex:"0397",html:"&Eta;"},Theta:{latex:"\\Theta",unicode:"Θ",hex:"0398",html:"&Theta;"},Iota:{latex:"I",unicode:"Ι",hex:"0399",html:"&Iota;"},Kappa:{latex:"K",unicode:"Κ",hex:"039A",html:"&Kappa;"},Lambda:{latex:"\\Lambda",unicode:"Λ",hex:"039B",html:"&Lambda;"},Mu:{latex:"M",unicode:"Μ",hex:"039C",html:"&Mu;"},Nu:{latex:"N",unicode:"Ν",hex:"039D",html:"&Nu;"},Xi:{latex:"\\Xi",unicode:"Ξ",hex:"039E",html:"&Xi;"},Omicron:{latex:"O",unicode:"Ο",hex:"039F",html:"&Omicron;"},Pi:{latex:"\\Pi",unicode:"Π",hex:"03A0",html:"&Pi;"},Rho:{latex:"P",unicode:"Ρ",hex:"03A1",html:"&Rho;"},Sigma:{latex:"\\Sigma",unicode:"Σ",hex:"03A3",html:"&Sigma;"},Tau:{latex:"T",unicode:"Τ",hex:"03A4",html:"&Tau;"},Upsilon:{latex:"\\Upsilon",unicode:"Υ",hex:"03A5",html:"&Upsilon;"},Phi:{latex:"\\Phi",unicode:"Φ",hex:"03A6",html:"&Phi;"},Chi:{latex:"X",unicode:"Χ",hex:"03A7",html:"&Chi;"},Psi:{latex:"\\Psi",unicode:"Ψ",hex:"03A8",html:"&Psi;"},Omega:{latex:"\\Omega",unicode:"Ω",hex:"03A9",html:"&Omega;"}};!function(){for(var t in n.GreekMap){var e=n.GreekMap[t];e.name=t,e.description=void 0===e.description?"":e.description,n.Greek.push(e)}}(),n.special=function(t){return i[t]||null};var i=(n.Special=[],n.SpecialMap={micro:{description:"SI unit prefix",latex:"\\mathrm{\\mu}",unicode:"µ",hex:"00B5",html:"&micro;"},degree:{description:"Temperature",latex:"^{\\circ}",unicode:"°",hex:"00B0",html:"&deg;"},deg:{description:"Angles",latex:"^{\\circ}",unicode:"°",hex:"00B0",html:"&deg;"}});!function(){for(var t in n.SpecialMap){var e=n.SpecialMap[t];e.name=t,e.description=void 0===e.description?"":e.description,n.Special.push(e)}}(),n.math=function(t){return o[t]||null};var o=(n.Math=[],n.MathMap={multiplication:{description:"Multiplication (centered dot)",string:"*",latex:"\\cdot",unicode:"⋅",hex:"22C5",html:"&bull;"},minus:{description:"Minus sign",string:"-",latex:"-",unicode:"−",hex:"2212",html:"&minus;"},sqrt:{description:"Sqrt symbol",string:"sqrt",latex:"\\sqrt",unicode:"√",hex:"221A",html:"&sqrt;"},times:{description:"Times (sans serif cross)",string:"*",latex:"\\times",unicode:"⋅",hex:"22C5",html:"&times;"},crossproduct:{description:"Cross product (same as times)",string:"*",latex:"\\times",unicode:"×",hex:"00D7",html:"&times;"}});!function(){for(var t in n.MathMap){var e=n.MathMap[t];e.name=t,e.description=void 0===e.description?"":e.description,n.Math.push(e)}}(),e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Variable,t.System=function(t){return e.System(this)?(this.name=t,void this.clear()):new n(t)});e.System=function(t){return t instanceof n},n.prototype.clear=function(){this.variables={}},n.prototype.add_variable=function(t){return this.lookup_variable(t)||(this.variables[t.symbol]=t),this},n.prototype.assign=function(t,n){for(var r in t){var i=this.lookup_variable(r);if(i){var o=t[r];i.assign(o)}else n&&(console.log("System.assign: variable "+r+" not found"),e.string(r)?console.log('  declare it with: new Variable("'+r+'");'):console.log('  declare it with: new Variable("'+r.symbol+'");'))}return this},n.prototype.lookup_variable=function(n){var r;if(e.string(n))r=n;else{if(!e.Variable(n))return t.failure("System.lookup_variable "+n);r=n.symbol}return this.variables[r]||t.NoValue},n.prototype.same_variable=function(t,n){return e.Variable(t)?e.Variable(n)?t===n:(e.string(n)&&(n=this.lookup_variable(n)),t===n):(e.string(t)&&(t=this.lookup_variable(t)),t===n)},n.current=function(){return n.current_system?n.current_system:(n.current_system=new n("default"),n.current_system)},e.in_nodejs()&&(module.exports=t.System)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n={};t.statistics=function(){for(var t in n)console.log(t+" "+n[t])};var r=t.Expression=function(){if(!e.Expression(this))return new r;var t=this.class_name();n[t]?n[t]++:n[t]=1};e.Expression=function(t){return t instanceof r},r.prototype.class_name=function(){return"Expression"},r.prototype.commutative=function(){return!1},r.prototype.type_symbol=function(){if(this.type)return this.type.symbol;if(e.Expression(this))return"E";if(e.Terminal(this))return"R";throw"Expression.type_symbol failed for "+this},r.prototype.contains_variable=function(){return!1},r.prototype.inside_trigonometry=function(){return!1},r.prototype.isComplex=function(){return!1},r.prototype.isInteger=function(){return!1},r.prototype.isNumerical=function(){return!1},r.prototype.isReal=function(){return!1},r.prototype.isRational=function(){return!1},r.prototype.isZero=function(){return!1},r.prototype.isMinusOne=function(){return!1},r.prototype.isOne=function(){return!1},r.prototype.isPositive=function(){return!1},r.prototype.isNegative=function(){return!1},r.prototype.isDefined=function(){return!0},r.prototype.calculate=function(){return t.failure("Expression.calculate() not defined: "+this.toString())},r.prototype.precedence=function(){return-1},r.prototype.compute=function(t){var e=this.variables();for(var n in t){var r=e[n];r&&r.assign(t[n])}return this.calculate()},r.prototype.variables=function(){return this._variables({})},r.prototype._variables=function(t){return t},r.prototype._print_variables=function(t){console.log("_print_variables: "+this.toString());for(var e in t)console.log("   "+e)},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Expression,r=t.Terminal=function(){return e.Terminal(this)?void n.call(this):new r};e.Terminal=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Terminal"},r.prototype.isBig=function(){return this.big},r.prototype.isRadians=function(){return!0},r.prototype.isDegrees=function(){return!1},r.prototype.calculate=function(){return this._calculate()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.System,i=t.Variable=function(o,a){if(!e.Variable(this))return new i(o,a);a=void 0===a?{}:a,o=t.toVariable(o,a);var c,u=void 0!==a.overwrite&&a.overwrite;a.expression&&(c=t.toExpression(a.expression),a.overwrite!==!1&&(u=!0)),n.call(this);var s=void 0===a.system?r.current():a.system,l=s.lookup_variable(o),p=this;if(l){if(a.value&&(l.value=a.value),!u)return c&&(l.expression=c),a.value&&l.assign(a.value),l;p=l}for(var h in a)void 0===p[h]&&(p[h]=a[h]);return p.assign(void 0===a.value?null:a.value),p.symbol=o,p.html=a.html||p.symbol,p.greek=void 0!==a.greek&&a.greek,p.latex=void 0===a.latex?null:a.latex,p.unicode=void 0===a.unicode?null:a.unicode,p.subscript=void 0===a.subscript?null:a.subscript,p.system=s,l||s.add_variable(p),p};e.Variable=function(t){return t instanceof i};var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i.prototype.class_name=function(){return"Variable"},i.prototype.toFixed=function(t){null!==this.value||this.calculate();return null===this.value?"null":this.value.toFixed(t)},i.prototype.toNumber=function(){null!==this.value||this.calculate();return null===this.value?"null":this.value.toNumber()},i.prototype.print_structure=function(e,n){var r=null===this.value?"stem.NoValue":this.value.print_structure();t.print_structure(e,n,"Variable",this.symbol+", "+r)},i.prototype.type_symbol=function(){return"E"},i.prototype.copy=function(){return new i(this)},i.prototype.contains_variable=function(t){return this===t},i.prototype.compute=function(t){if((e.undef(t)||e.empty(t))&&this.expression){if(null===this.expression)throw"Variable.compute";return this.value=this.expression.calculate(),this}if(t&&!e.empty(t)&&this.expression){var n=this.expression.variables();for(var r in t){var i=n[r];i&&i.assign(t[r])}var o=this.expression.calculate();null!==o&&(this.value=o)}return this},i.prototype.computable=function(){if(!e.Terminal(this.value))throw"Variable "+this.toString()+" has no value."},i.prototype._calculate=function(){return e.Terminal(this.value)?this.value:t.failure("Variable.calculate: "+this.symbol+" has no value")},i.prototype._variables=function(t){return t[this.symbol]=this,t},i.prototype.assign=function(n){return null===n?(this.value=null,this):e.Terminal(n)?(this.value=n,this):e.Relation(n)?(this.value=n.calculate(),this):void(this.value=t.toTerminal(n))},e.in_nodejs()&&(module.exports=i)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Bag=function(){return e.Bag(this)?(n.call(this),1===arguments.length?e.array(arguments[0])?this.values=arguments[0]:e.object(arguments[0])&&arguments[0][0]?this.values=Array.prototype.slice.call(arguments[0]):this.values=[arguments[0]]:this.values=Array.prototype.slice.call(arguments),void(this.arity=this.values.length)):new r};e.Bag=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t.push(this.values[e].copy());return new r(t)},r.prototype.class_name=function(){return"Bag"},r.prototype._calculate=function(){return this.bag.copy()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Bool=function(e,r){return this instanceof t.Bool?(n.call(this),
this.type=t.type.Bool,void(this.value=r?e:t.toBool(e))):new t.Bool(e,r)};e.Bool=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Bool"},r.prototype.copy=function(){return new r(this.value)},r.prototype.computable=function(){return!0},r.prototype._calculate=function(){return this},t.True=new r((!0),(!0)),t.False=new r((!1),(!0)),e.in_nodejs()&&(module.exports=t.Bool)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Numeric=function(t,e){n.call(this)};e.Numeric=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),e.in_nodejs()&&(module.exports=t.Numeric)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Numeric,r=t.Numerical=function(r,i){return e.Numerical(this)?(n.call(this),0!==arguments.length?t.toNumerical(r,i):void 0):new t.Numerical(r,i)};e.Numerical=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Numerical"},r.prototype.toNativeNumber=function(){throw this.toString()+": Numerical.toNativeNumber: abstract method"},r.prototype.negate=function(){return t.Minus.calculate(this)},r.prototype.computable=function(){return!0},e.in_nodejs()&&(module.exports=t.Numerical)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Integer,o=e.Rational,a=e.Real=function(t,i){return n.Real(this)?(r.call(this),t=e.toRealValue(t,i),this.value===e.NoValue?e.failure("new Real: not convertible to a real "+t):(this.type=e.type.Real,Object.defineProperty(this,"value",{enumerable:!0,writable:!1,value:t}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:n.BigNumber(t)}))):new a(t,i)};n.inReal=function(t){return t instanceof a||t instanceof o||t instanceof i},n.Real=function(t){return t instanceof a};var c=function(){};c.prototype=r.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),a.prototype.isReal=function(){return!0},a.prototype.isNumerical=function(){return!0},a.prototype.isZero=function(){return this.big?this.value.isZero():0===this.value},a.prototype.isOne=function(){return this.big?this.value.eq(1):1===this.value},a.prototype.isMinusOne=function(){return this.big?this.value.eq(-1):this.value===-1},a.prototype.isPositive=function(){return this.big?this.value.isPositive():this.value>=0},a.prototype.isNegative=function(){return this.big?this.value.isNegative():this.value<0},a.prototype.isInteger=function(){return!(!this.big||!this.value.isInt())||!!n.integer(this.value)},a.prototype.toInteger=function(){return this.isInteger()?new i(this.value,this.big):e.NoValue},a.prototype.fromString=function(e,r){if(n.string(e))return r?this.value=new t(e):this.value=parseFloat(e),this.string=e,this;throw"Real.fromString(): not a string "+e},a.prototype.class_name=function(){return"Real"},a.prototype.copy=function(){return this},a.prototype.toNumber=function(){return this.big?this.value.toNumber():this.value},a.prototype.print_structure=function(t,n){t=void 0===t?0:t;var r=this.big?"Real/b":"Real";e.print_structure(t,n,r,this.value.toString())},a.prototype.toFixed=function(t){return this.value.toFixed(t)},a.prototype.toComplex=function(){return new e.Complex(this.value,0)},a.prototype.toNativeNumber=function(){return this.big?this.value.toNumber():this.value},a.prototype.toReal=function(){return this},a.prototype.toSign=function(){return this.isZero()?0:this.isPositive()?1:-1},a.prototype._calculate=function(){return this},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=(e.Complex,e.Equal,e.Greater,e.Subtract,e.Integer=function(t,o){if(!n.Integer(this))return new i(t,o);var a=e.toIntegerValue(t,o);return null===a?new e.Undefined(t,"Integer: argument not convertible to a Integer "):n.Exception(a)?a:(r.call(this),this.type=e.type.Integer,Object.defineProperty(this,"value",{enumerable:!0,writable:!1,value:a}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:n.BigNumber(a)}))});n.Integer=function(t){return t instanceof i};var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i.prototype.fromString=function(e){if(n.string(e))return this.big?this.value=new t(e):this.value=parseFloat(e),this;throw"Integer.fromString(): not a string "+e},i.prototype.class_name=function(){return"Integer"},i.prototype.copy=function(){return this},i.prototype.print_structure=function(t,n){t=void 0===t?0:t;var r=this.big?"Integer/b":"Integer";e.print_structure(t,n,r,this.value.toString())},i.prototype.toNumber=function(){return this.big?this.value.toNumber():this.value},i.prototype.toFixed=function(t){return this.value.toFixed(t)},i.prototype.toComplex=function(){return new e.Complex(this.copy(),0)},i.prototype.toNativeNumber=function(){return this.big?this.value.toNumber():this.value},i.prototype.toRational=function(){return new e.Rational(this.value,1)},i.prototype.toSign=function(){return this.isZero()?0:this.isPositive()?1:-1},i.prototype.isInteger=function(){return!0},i.prototype.isNumerical=function(){return!0},i.prototype.isOdd=function(){return e.Modulo.calculate(this,new i(2)).isOne()},i.prototype.isEven=function(){return e.Modulo.calculate(this,new i(2)).isZero()},i.prototype.isReal=function(){return!0},i.prototype.isRational=function(){return!0},i.prototype.isZero=function(){return this.big?this.value.isZero():0===this.value},i.prototype.isOne=function(){return this.big?this.value.eq(1):1===this.value},i.prototype.isMinusOne=function(){return this.big?this.value.eq(-1):this.value===-1},i.prototype.isPositive=function(){return this.big?this.value.isPositive():this.value>=0},i.prototype.isNegative=function(){return this.big?this.value.isNegative():this.value<0},i.prototype.equal=function(e){return!!n.Integer(e)&&(this.big||e.big?new t(this.value).eq(e.value):this.value===e.value)},i.prototype._calculate=function(){return this},n.in_nodejs()&&(module.exports=i)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Integer,o=(e.Complex,e.Rational=function(t,a,c){if(!n.Rational(this))return new o(t,a,c);if(n.unspecified(t))return e.failure("new Rational: numerator not specified");if(n.unspecified(a))return e.failure("new Rational: denominator not specified");r.call(this);var u=new i(t,c);if(u===e.NoValue)return e.failure("new Rational: numerator not an integer "+t);var s=new i(a,c);return s===e.NoValue?e.failure("new Rational: denominator not an integer "+a):s.isZero()?e.failure("new Rational: denominator is zero (0)"):(this.type=e.type.Rational,Object.defineProperty(this,"numerator",{enumerable:!0,writable:!1,value:u}),Object.defineProperty(this,"denominator",{enumerable:!0,writable:!1,value:s}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:u.big||s.big||!1}))});n.Rational=function(t){return t instanceof o};var a=function(){};a.prototype=r.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),o.prototype.class_name=function(){return"Rational"},o.prototype.copy=function(){return this},o.prototype.isReal=function(){return!0},o.prototype.isNumerical=function(){return!0},o.prototype.isInteger=function(){return!this.denominator.isZero()&&this.numerator.equal(this.denominator)},o.prototype.isRational=function(){return this.isDefined()},o.prototype.isDefined=function(){return!this.numerator.isZero()},o.prototype.isZero=function(){return this.isDefined()&&this.numerator.isZero()},o.prototype.isOne=function(){return!this.isZero()&&(this.numerator.big?this.numerator.equals(this.denominator):this.denominator.big?this.denominator.equals(this.numerator):this.numerator.value===this.denominator.value)},o.prototype.isMinusOne=function(){return!this.isZero()&&(this.numerator.big?this.numerator.equals(new t(this.denominator).neg()):this.denominator.big?this.denominator.equals(new t(this.numerator).neg()):this.numerator.value===-this.denominator.value)},o.prototype.isPositive=function(){if(this.denominator.isZero())return!1;if(this.numerator.isZero())return!0;var t=this.numerator.isPositive(),e=this.denominator.isPositive();return t===e},o.prototype.isNegative=function(){if(this.denominator.isZero())return!1;if(this.numerator.isZero())return!1;var t=this.numerator.isPositive(),e=this.denominator.isPositive();return t!==e},o.prototype.numerator=function(){return this.numerator.copy()},o.prototype.denominator=function(){return this.denominator.copy()},o.prototype.toSign=function(){return this.isZero()?0:this.isPositive()?1:-1},o.prototype.toNumerical=function(){return this.numerator.big?new r(this.numerical.value.div(this.denominator.value),(!0)):this.denominator.big?new r(new t(this.numerator.value).div(this.denominator.value),(!0)):new r(this.numerator.value/this.denominator.value)},o.prototype.print_structure=function(t,n){t=void 0===t?0:t;var r=this.big?"Rational/b":"Rational";e.print_structure(t,n,r,this.numerator.toString()+" / "+this.denominator.toString())},o.prototype.toComplex=function(){return new e.Complex(this.toNumerical(),0)},o.prototype.toNativeNumber=function(){return this.toNumerical().toNativeNumber()},o.prototype._calculate=function(){return this.toNumerical()},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Numeric,r=t.Integer,i=t.Complexical=function(e,n){var i=t.toExpression(e),o=t.toExpression(n);return i.isZero()?o.isZero()?new r(0):new t.Imaginary(n):o.isZero()?new t.Numerical(e):new t.Complex(i,o)};e.Complexical=function(t){return t instanceof i};var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i.prototype.class_name=function(){return"Complexical"},e.in_nodejs()&&(module.exports=t.Complexical)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Add,i=t.Divide,o=t.Power,a=t.Minus,c=(t.SquareRoot,t.Hypot,t.Numerical,t.Complex=function(e,r,i){return this instanceof t.Complex?(this.re=t.toExpression(e))?(this.im=t.toExpression(r))?(n.call(this),this.type=t.type.Complex,void(this.big=void 0!==i&&i)):new t.Undefined(r,"new Complex: invalid imaginary part "):new t.Undefined(e,"new Complex: invalid real part "):new c(e,r)});e.Complex=function(t){return t instanceof c};var u=function(){};u.prototype=t.Complexical.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=t.Complexical.prototype,t.Complexical.prototype.constructor==Object.prototype.constructor&&(t.Complexical.prototype.constructor=t.Complexical),c.prototype.class_name=function(){return"Complex"},c.prototype.copy=function(){return new c(this.re,this.im,this.big)},c.prototype._variables=function(t){return this.re._variables(t),this.im._variables(t)},c.prototype.isOne=function(){return this.re.isOne()&&this.im.isZero()},c.prototype.isMinusOne=function(){return this.re.isMinusOne()&&this.im.isZero()},c.prototype.isZero=function(){return this.re.isZero()&&this.im.isZero()},c.prototype.isNumerical=function(){return!0},c.prototype.isComplex=function(){return!0},c.prototype.print_structure=function(e,n){e=void 0===e?0:e;var r=this.big?"Complex/b":"Complex";t.print_structure(e,n,r,this.re.toString()+" + i "+this.im.toString())},c.prototype.Re=function(){return this.re},c.prototype.Im=function(){return this.im},c.prototype.toComplex=function(){return this},c.prototype.toPolar=function(){return new t.Polar(t.Hypot.calculate(this.re,this.im),t.ArcTangent2.calculate(this.im,this.re),this.big)},c.prototype.conjugate=function(){return e.Minus(this.im)?new c(this.re.copy(),this.im.arg(0).copy()):new c(this.re.copy(),new a(this.im.copy()))},c.prototype.modulus=function(){var e=this.re,n=this.im;return new t.Hypot(e,n)},c.prototype.reciprocal=function(){var t=this.re,e=this.im,n=new i(t,new r(new o(t,2),new o(e,2))),u=new a(new i(e,new r(new o(t,2),new o(e,2))));return new c(n,u)},c.prototype.computable=function(){return!0},c.prototype._calculate=function(){return new t.Complexical(this.re.calculate(),this.im.calculate())},e.in_nodejs()&&(module.exports=t.Complex)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Complex,i=t.Imaginary=function(e){return this instanceof t.Imaginary?(n.call(this),this.value=t.toExpression(e),null===this.value?t.failure("new Imaginary: invalid  argument: "+e):void(this.type=t.type.Imaginary)):new t.Imaginary(e)};e.Imaginary=function(t){return t instanceof i};var o=function(){};o.prototype=t.Complexical.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=t.Complexical.prototype,t.Complexical.prototype.constructor==Object.prototype.constructor&&(t.Complexical.prototype.constructor=t.Complexical),i.prototype.class_name=function(){return"Imaginary"},i.prototype.copy=function(){return new i(this.value)},i.prototype._variables=function(t){return this.value._variables(t)},i.prototype.isZero=function(){return this.value.isZero()},i.prototype.isOne=function(){return this.value.isOne()},i.prototype.isPositive=function(){return this.value.isPositive()},i.prototype.isNegative=function(){return this.value.isNegative()},i.prototype.isInfinite=function(){return e.Infinite(this.value)},i.prototype.isNumerical=function(){return!0},i.prototype.isComplex=function(){return!0},i.prototype.print_structure=function(e,n){e=void 0===e?0:e;var r=this.big?"B":"";t.print_structure(e,n,"Imaginary","I"+r+"[i "+this.value+"]")},i.prototype.print_structure=function(){return"I["+this.value.print_structure()+"]"},i.prototype.toComplex=function(){return new r(0,this.value)},i.prototype.toNumerical=function(){return this.value.calculate()},i.prototype.computable=function(){return!0},i.prototype._calculate=function(){return e.Infinite(this.value)&&this.value.isNegative()?new t.Infinite:new i(this.value.calculate())},e.in_nodejs()&&(module.exports=t.Imaginary)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=(t.Numerical,t.Complex),i=(t.Multiply,t.Sine,t.Cosine,t.Polar=function(r,o,a){if(!(this instanceof t.Polar))return new i(r,o);if((1===arguments.length||2===arguments.length)&&e.Complex(arguments[0]))return arguments[0].toPolar(arguments[0],arguments[1]);var c,u;return(c=t.toExpression(r))?(u=t.toExpression(o))?(n.call(this,this.distance,this.angle),Object.defineProperty(this,"distance",{enumerable:!0,writable:!1,value:c}),Object.defineProperty(this,"angle",{enumerable:!0,writable:!1,value:u}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:void 0!==a&&a})):t.failure("new Polar: invalid angle ",o):t.failure("new Polar: invalid distance ",r)});e.Polar=function(t){return t instanceof i};var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i.prototype.class_name=function(){return"Polar"},i.prototype.copy=function(){return new i(this.distance,this.angle)},i.prototype._variables=function(t){return this.distance._variables(t),this.angle._variables(t)},i.prototype.isZero=function(){return this.distance.isZero()&&this.angle.isZero()},i.prototype.isNumerical=function(){return!0},i.prototype.print_structure=function(e,n){e=void 0===e?0:e;var r=this.big?"B":"";t.print_structure(e,n,"Polar","p"+r+"["+this.distance.toString()+", "+this.angle.toString()+"]")},i.prototype.toComplex=function(){var e=this.distance,n=this.angle;return new r(new t.Multiply(e,new t.Cosine(n)),new t.Multiply(e,new t.Sine(n)))},i.prototype._calculate=function(){return this.toComplex().calculate()},e.in_nodejs()&&(module.exports=t.Polar)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Terminal,i=e.Numerical,o=e.symbol,a=e.Constant=function(t){return n.Constant(this)?(t=t||{},this.description=void 0===t.description?"":t.description,this.symbol=t.symbol,this.ascii=void 0===t.ascii?this.symbol:t.ascii,this.latex=void 0===t.latex?this.symbol:t.latex,this.html=void 0===t.html?this.symbol:t.html,this.unicode=void 0===t.unicode?this.symbol:t.unicode,void Object.defineProperty(this,"value",{enumerable:!0,writable:!1,value:t.value})):new a(t)};n.Constant=function(t){return t instanceof a};var c=function(){};c.prototype=r.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),a.prototype.class_name=function(){return"Constant"},a.prototype.copy=function(){return this},a.prototype.print_structure=function(t,n){this.big?"B":"";e.print_structure(t,n,"Constant",this.symbol+", "+this.toString())},a.prototype.computable=function(){return!0},a.prototype._calculate=function(){return null!==this.value?new i(this.value):e.calculate_null(this,0)};var u=e.PI=new a({description:"To be written.",symbol:"pi",ascii:"pi",unicode:o.greek("pi").unicode,latex:o.greek("pi").latex,html:o.greek("pi").html,value:Math.PI,big:t.PI}),s=e.E=new a({description:"Euler's constant",symbol:"e",ascii:"e",unicode:"e",latex:"\\mathrm{e}",html:"e",value:Math.E,big:t.E});e.constant={PI:u,E:s},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Integer,i=t.Matrix=function(i){var o,a;if(n.call(this),this.type=t.type.Matrix,2===arguments.length){var c=this.rows=arguments[0],u=this.columns=arguments[1];if(!e.positive_integer(c)||!e.positive_integer(u)){var s=[];return console.log(JSON.stringify(i,function(t,e){if("object"==typeof e&&null!==e){if(s.indexOf(e)!==-1)return;s.push(e)}return e},4)),t.trace("ms")}for(this.array=[],o=0;o<c;o++){for(l=[],a=0;a<u;a++)l.push(new r(0));this.array.push(l)}return this}if(1===arguments.length&&e.array(i)){if(!e.array(i))throw"Matrix: argument not an array";for(this.columns=null,o=0;o<i.length;o++){if(!e.array(i[o]))throw"Matrix: argument "+(o+1)+" not an array";if(null!==this.columns){if(this.columns!==i[o].length)throw"Matrix: row "+(o+1)+" has a different number of columns"}else this.columns=i[o].length}for(this.rows=i.length,this.array=[],o=0;o<i.length;o++){var l=[];for(a=0;a<i[o].length;a++)l.push(t.toNumerical(i[o][a]));this.array.push(l)}return this}return t.failure("incorrect Matrix definition")};e.Matrix=function(t){return t instanceof i};var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i.prototype.class_name=function(){return"Matrix"},i.prototype.copy=function(){for(var t=[],e=0;e<this.rows;e++){for(var n=[],r=0;r<this.columns;r++)n.push(this.array[e][r].copy());t.push(n)}return new i(t)},i.prototype._variables=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.array[e][n]._variables(t);return t},i.prototype.element=function(t,e){return t>=1&&t<=this.rows&&e>=1&&e<=this.columns?this.array[t-1][e-1]:null},i.prototype.element0=function(t,e){return t>=0&&t<this.rows&&e>=0&&e<this.columns?this.array[t][e]:null},i.prototype.assign=function(t,e,n){return t>=1&&t<=this.rows&&e>=1&&e<=this.columns?(this.array[t-1][e-1]=n,this):null},i.prototype.assign0=function(t,e,n){return t>=0&&t<this.rows&&e>=0&&e<this.columns?(this.array[t][e]=n,this):null},i.prototype.print_structure=function(e,n){var r=void 0===this.big?"":this.big;t.print_structure(e,n,"Matrix","M"+r+"["+this.toString()+"]")},e.in_nodejs()&&(module.exports=i)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Vector=function(r){var i;if(n.call(this),this.array=[],1===arguments.length&&e.array(r))for(i=0;i<r.length;i++)this.array.push(t.toExpression(r[i]));else for(i in arguments)this.array.push(t.toExpression(arguments[i]));this.type=t.type.Vector,this.arity=this.array.length};e.Vector=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Vector"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t.push(this.array[e].copy());return new r(t)},r.prototype._variables=function(t){for(var e=0;e<this.arity;e++)this.array[e]._variables(t);return t},r.prototype.arg=function(t){return t>=0&&t<this.arity?this.array[t]:null},r.prototype.element=function(t){return t>=1&&t<=this.arity?this.array[t-1]:null},r.prototype.element0=function(t){return t>=0&&t<this.arity?this.array[t]:null},r.prototype.assign=function(t,e){return t>=1&&t<=this.arity?this.array[t-1]=e:null},r.prototype.assign0=function(t,e){return t>=0&&t<this.arity?this.array[t]=e:null},r.prototype.print_structure=function(e,n){var r=void 0===this.big?"":this.big;t.print_structure(e,n,"Integer","V"+r+"["+this.toString()+"]")},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(){var t=function(t,e){return{scalar:t,units:e}};r.formatter=t}var e=this.stem||require("./core"),n=e.is,r=this.Qty||require("./qty"),i=e.Numerical,o=e.Vector,a=e.Terminal,c=e.Quantity=function(t,u,s){return n.Quantity(this)?(a.call(this),this.type=e.type.Quantity,this.magnitude=new i(t),null===this.magnitude&&(console.log("new Quantity: setting magnitude to an expression"),this.magnitude=e.toExpression(t)),this.unit=u?new r("1 "+u):null,void(s?this.direction=new o(s):this.direction=null)):new c(t,u,s)};n.Quantity=function(t){return t instanceof c};var u=function(){};u.prototype=e.Terminal.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=e.Terminal.prototype,e.Terminal.prototype.constructor==Object.prototype.constructor&&(e.Terminal.prototype.constructor=e.Terminal),c.prototype.copy=function(){return new c(this.magnitude,this.unitString(),this.direction)},c.prototype._variables=function(t){return this.direction&&this.direction._variables(t),this.magnitude._variables(t)},c.prototype.toNumber=function(){return parseFloat(this.magnitude.toString())},c.prototype.unitString=function(){if(null===this.unit)return null;var t=this.unit.format();return t.units},c.prototype.isDegrees=function(){return"deg"===this.unitString()},c.prototype.isRadians=function(){return"rad"===this.unitString()},c.prototype.print_structure=function(t,n){t=void 0===t?0:t;var r=this.big?"B":"",i=this.magnitude.toString(),o=this.unitString();this.direction?this.direction.print_structure():"";e.print_structure(t,n,"Quantity","P"+r+"["+i+", "+o+", ]")},c.prototype.toQty=function(){var t,e=this.magnitude;return t=n.Numerical(e)?e.value:e.calculate(),null!==t?this.unit.mul(t):null},t(),n.in_nodejs()&&(module.exports=c)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Integer,t.Terminal),r=t.Factorial=function(i,o){if(!e.Factorial(this))return new r(i,o);var a;return(a=t.toExpression(i))?(n.call(this),this.type=t.type.Factorial,Object.defineProperty(this,"n",{enumerable:!0,writable:!1,value:a}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:void 0!==o&&o})):t.failure("new Factorial: argument not an expression ",i)};e.Factorial=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.type_symbol=function(){return"E"},r.prototype.class_name=function(){return"Factorial"},r.prototype.copy=function(){return this},r.prototype._variables=function(t){return this.n._variables(t)},r.prototype.isReal=function(){return!0},r.prototype.isNumerical=function(){return!0},r.prototype.isDefined=function(){return!0},r.prototype.isZero=function(){return!1},r.prototype.isOne=function(){return this.n.isOne()||this.n.isZero()},r.prototype.isMinusOne=function(){return!1},r.prototype.isPositive=function(){return!0},r.prototype.isNegative=function(){return!1},r.prototype.toNumerical=function(){return t.method.factorial(this.n)},r.prototype.print_structure=function(){return"!["+this.big+", "+this.n.toString()+"]"},r.prototype.toComplex=function(){return new t.Complex(this.toNumerical(),0)},r.prototype._calculate=function(){return this.toNumerical()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.Binomial=function(i,o,a){if(!e.Binomial(this))return new r(i,o);var c=t.functor.Binomial;if(!t.functor.arity(c,arguments.length))return t.incorrect_arity(this,c,arguments.length,arguments);var u=t.toExpression(i,!1);if(e.NoValue(u))return t.expected_expression("new Binomial("+i.toString()+", ...)");var s=t.toExpression(o,!1);return e.NoValue(s)?t.expected_expression("new Binomial(..., "+o.toString()+")"):(n.call(this),Object.defineProperty(this,"n",{enumerable:!0,writable:!1,value:u}),Object.defineProperty(this,"k",{enumerable:!0,writable:!1,value:s}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:void 0!==a&&a}))};e.Binomial=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Binomial"},r.prototype.copy=function(){return new r(this.n.copy(),this.k.copy(),this.big)},r.prototype._variables=function(t){return this.n._variables(t),this.k._variables(t)},r.calculate=function(t,e){return new r(t,e).calculate()},r.prototype._calculate=function(){var n=this.n.calculate();if(e.NoValue(n))return t.calculate_null(this,0);var r=this.k.calculate();return e.NoValue(r)?t.calculate_null(this,1):n.isInteger()?r.isInteger()?t.method.binomial(n,r,this.big):t.type_error(this,".calculate()","Integer","k",r):t.type_error(this,".calculate()","Integer","n",n)},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Terminal,r=t.DoubleFactorial=function(i,o){if(!e.DoubleFactorial(this))return new r(i,o);var a;return(a=t.toExpression(i))?(n.call(this),this.type=t.type.DoubleFactorial,Object.defineProperty(this,"n",{enumerable:!0,writable:!1,value:a}),void Object.defineProperty(this,"big",{enumerable:!0,writable:!1,value:void 0!==o&&o})):t.failure("new DoubleFactorial: argument not an expression ",i)};e.DoubleFactorial=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.type_symbol=function(){return"E"},r.prototype.class_name=function(){return"DoubleFactorial"},r.prototype.copy=function(){return this},r.prototype._variables=function(t){return this.n._variables(t)},r.prototype.isReal=function(){return!0},r.prototype.isNumerical=function(){return!0},r.prototype.isDefined=function(){return!0},r.prototype.isZero=function(){return!1},r.prototype.isOne=function(){return this.n.isOne()||this.n.isZero()},r.prototype.isMinusOne=function(){return!1},r.prototype.isPositive=function(){return!0},r.prototype.isNegative=function(){return!1},r.prototype.toNumerical=function(){return t.method.double_factorial(this.n,this.big)},r.prototype.print_structure=function(t,e){return"!!["+this.big+", "+this.n.toString()+"]"},r.prototype.toComplex=function(){return new t.Complex(this.toNumerical(),0)},r.prototype._calculate=function(){return this.toNumerical()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Infinite=function(r){if(!e.Infinite(this))return new n(r);if(t.Terminal.call(this),e.undef(r))return void(this.sign=1);if(r=t.toNumerical(r),!e.Numerical(r))return t.failure("new Infinite("+r+") illegal argument");if(r.isNegative())return void(this.sign=-1);if(r.isPositive())return void(this.sign=1);throw"Infinite "+r};e.Infinite=function(t){return t instanceof n};var r=function(){};r.prototype=t.Terminal.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=t.Terminal.prototype,t.Terminal.prototype.constructor==Object.prototype.constructor&&(t.Terminal.prototype.constructor=t.Terminal),n.prototype.class_name=function(){return"Infinite"},n.prototype.copy=function(){return new n(this.sign)},n.prototype.type_symbol=function(){return t.symbol.Infinite.unicode},n.prototype.isInfinite=function(){return!0},n.prototype.isPositive=function(){return 1===this.sign},n.prototype.isNegative=function(){return this.sign===-1},n.prototype.toNativeNumber=function(){return this.sign===-1?-(1/0):1/0},n.prototype._calculate=function(){return this},n.prototype.computable=function(){return!0},e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.ComplexInfinite=t.ComplexInfinity=function(){return e.ComplexInfinite(this)?void t.Terminal.call(this):new n};e.ComplexInfinite=function(t){return t instanceof n};var r=function(){};r.prototype=t.Terminal.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=t.Terminal.prototype,t.Terminal.prototype.constructor==Object.prototype.constructor&&(t.Terminal.prototype.constructor=t.Terminal),n.prototype.class_name=function(){return"ComplexInfinite"},n.prototype.copy=function(){return new n},n.prototype.type_symbol=function(){return t.symbol.Infinite.unicode},n.prototype.isInfinite=function(){return!0},n.prototype.toNativeNumber=function(){return 1/0},n.prototype._calculate=function(){return this},n.prototype.computable=function(){return!0},e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.symbol,t.Numerical,t.Integer,t.Real,t.Variable,t.Expression),r=t.Relation=function(){var r,i=arguments.length;if(0===i)return t.failure("new Relation: at least one argument required (functor)","");var o=arguments[0];if(!t.functor.check(o))return t.failure("new Relation: first argument not a functor");Object.defineProperty(this,"functor",{enumerable:!0,writable:!1,value:o}),n.call(this);var a;if(this.args=[],2===i&&e.array(arguments[1])){if(a=arguments[1].length,!t.functor.arity(o,a))return t.incorrect_arity(this,o,a);var c=arguments[1];for(r=0;r<c.length;r++)this.args.push(t.toExpression(c[r]))}else{if(a=i-1,!t.functor.arity(o,a))return t.incorrect_arity(this,o,a);for(r=1;r<i;r++)this.args.push(t.toExpression(arguments[r]))}for(r=0;r<a;r++)if(e.unspecified(this.arg(r)))return t.failure("new "+o.class_name+": unspecified arg number "+r);this.arity=a};e.Relation=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Relation"},r.prototype.depth=function(){
for(var t,n=1,r=0;r<this.arity;r++)e.Relation(this.arg(r))&&(t=this.arg(r).depth()+1),t>n&&(n=t);return n},r.prototype.print_structure=function(e,n){e=void 0===e?0:e,t.print_structure(e,n,this.class_name(),this.toString());for(var r=0;r<this.arity;r++)this.arg(r).print_structure(e+2,r+1)},r.prototype.arg=function(t){return this.args[t]},r.prototype._add_argument=function(t){this.args.push(t),this.arity++},r.prototype._delete_argument=function(t){for(var e=[],n=0;n<this.arity;n++)n!==t&&e.push(this.arg(n));this.args=e,this.arity--},r.prototype._insert_argument=function(t,e){if(t>=this.arity)this.args.push(e);else{for(var n=[],r=0;r<this.arity;r++)r===t&&n.push(e),n.push(this.arg(r));this.args=n}this.arity++},r.prototype.commutative=function(){return this.functor.commutative===!0},r.prototype.permutations=function(){var t=this.flatten();console.log(t);var e=[];return t._permutations(t.arity,t,e),e},r.prototype._permutations=function(t,e,n){function r(t,e,n){var r=n[t];n[t]=n[e],n[e]=r}var i,o=this;if(1===t){var a=!1;for(i=0;i<o.arity;i++){var c=o.arg(i);c.commutative()&&(c._permutations(c.arity,e,n),a=!0)}a===!1&&n.push(e.copy())}else{for(i=0;i<t-1;i++)o._permutations(t-1,e,n),t%2===0?r(i,t-1,o.args):r(0,t-1,o.args);o._permutations(t-1,e,n)}},r.prototype.leaves=function(){var t=[];return this._leaves(t)},r.prototype._leaves=function(t){for(var n=0;n<this.arity;n++){var r=this.arg(n);e.Relation(r)?r._leaves(t):t.push(r)}return t},r.prototype.precedence=function(){if(this.functor&&void 0!==this.functor.precedence)return this.functor.precedence},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t.push(this.arg(e).copy());return new r(this.functor,t)},r.prototype.compute=function(e,n){var r=this.variables();for(var i in e){var o=r[i];if(o){var a=e[i];o.assign(a)}}if(n){var c=this.calculate();if(null===c||isNaN(c))return console.log("Relation.compute failed on "),this.print_structure(),t.NoValue}return this.calculate()},r.prototype.calculate=function(){try{this.computable()}catch(t){console.log(".calculate() failed for "+this.toString()),console.log("   ... "+t)}return this._calculate()},r.prototype.computable=function(){for(var t=0;t<this.arity;t++){var e=this.arg(t);e.computable()}},r.prototype._variables=function(t){for(var e=0;e<this.arity;e++)this.arg(e)._variables(t);return t},r.prototype.flatten=function(){return this.copy()._flatten()},r.prototype._flatten=function(t){var n,r,i;if(this.functor.commutative)for(var o=!1;!o;)for(o=!0,r=0;r<this.arity;r++)if(n=this.arg(r),e.Relation(n)&&n.functor===this.functor){for(this._delete_argument(r),i=0;i<n.arity;i++)this._insert_argument(r+i,n.arg(i));o=!1;break}for(r=0;r<this.arity;r++)n=this.arg(r),e.Relation(n)&&(n=n._flatten());return this},r.prototype.inside_trigonometry=function(t){var n=!1;if(e.Trigonometry(this)&&this.contains_variable(t))return!0;for(var r=0;r<this.arity&&!n;r++){var i=this.arg(r);if(e.Trigonometry(i)&&i.contains_variable(t))return!0;e.Relation(i)&&(n=i.inside_trigonometry(t))}return console.log(this+"contains_trigonometric "+t+" -> "+n),n},r.prototype.contains_variable=function(t){for(var n=!1,r=0;r<this.arity&&!n;r++){var i=this.arg(r);e.Relation(i)&&(n=i.contains_variable(t))}return n},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Integer,t.Real,t.Complex,t.Quantity,t.Vector,t.Matrix,t.Relation),r=t.And=function(){if(!e.And(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.And,i)};e.And=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"And"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){for(var n=null,r=0;r<this.arity;r++){if(n=this.arg(r)._calculate(),console.log("result "+n),!e.Bool(n))return t.failure("And.calculate argument not a Bool ",this.arg(r));if(n.value===!1)return n}return n},e.in_nodejs()&&(module.exports=t.And)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Not=function(i){if(!e.Not(this))return new r(i);var o=t.functor.Not;if(!t.functor.arity(o,arguments.length))return t.incorrect_arity(this,o,arguments.length);var a=t.toExpression(i,!1);return e.NoValue(a)?t.expected_expression("new Not("+a+")"):void n.call(this,o,a)};e.Not=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Not"},r.prototype.copy=function(){return new r(this.arg(0).copy())},r.prototype._calculate=function(){var n=this.arg(0)._calculate();return e.Bool(n)?new t.Bool((!n.value)):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Not)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Or=function(){if(!e.Or(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Or,i)};e.Or=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Or"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){for(var n=null,r=0;r<this.arity;r++){n=this.arg(r)._calculate();{if(!e.Bool(n))return t.failure("Or.calculate argument not a Bool ",this.arg(r));if(n.value===!0)return n}}return n},e.in_nodejs()&&(module.exports=t.Or)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Implies=function(i,o){if(!e.Implies(this))return new r(i,o);var a=t.functor.Implies;if(!t.functor.arity(a,arguments.length))return t.incorrect_arity(this,a,arguments.length);var c=t.toExpression(i,!1);if(e.NoValue(c))return t.expected_expression("new Implies("+i.toString()+", ...)");var u=t.toExpression(o,!1);return e.NoValue(u)?t.expected_expression("new Implies(..., "+o.toString()+")"):void n.call(this,a,c,u)};e.Implies=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Implies"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value===!0&&r.value===!1?new t.Bool((!1)):new t.Bool((!0)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Implies)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Equivalence=function(i,o){if(!e.Equivalence(this))return new r(i,o);var a=t.functor.Equivalence;if(!t.functor.arity(a,arguments.length))return t.incorrect_arity(this,a,arguments.length);var c=t.toExpression(i,!1);if(e.NoValue(c))return t.expected_expression("new Equivalence("+i.toString()+", ...)");var u=t.toExpression(o,!1);return e.NoValue(u)?t.expected_expression("new Equivalence(..., "+o.toString()+")"):void n.call(this,a,c,u)};e.Equivalence=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Equivalence"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value===r.value?new t.Bool((!0)):new t.Bool((!1)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Equivalence)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Xor=function(i,o){if(!e.Xor(this))return new r(i,o);var a=t.functor.Xor;if(!t.functor.arity(a,arguments.length))return t.incorrect_arity(this,a,arguments.length);var c=t.toExpression(i,!1);if(e.NoValue(c))return t.expected_expression("new Xor("+i.toString()+", ...)");var u=t.toExpression(o,!1);return e.NoValue(u)?t.expected_expression("new Xor(..., "+o.toString()+")"):void n.call(this,a,c,u)};e.Xor=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Xor"},r.prototype.copy=function(){return new r(this.arg(0).copy(),this.arg(1).copy())},r.prototype._calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value!==r.value?new t.Bool((!0)):new t.Bool((!1)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Xor)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Nand=function(){if(!e.Nand(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Nand,i)};e.Nand=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Nand"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value===!0&&r.value===!0?new t.Bool((!1)):new t.Bool((!0)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Nand)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Nor=function(){if(!e.Nor(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Nor,i)};e.Nor=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Nor"},r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value===!1&&r.value===!1?new t.Bool((!0)):new t.Bool((!1)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Nor)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Xnor=function(i,o){if(!e.Xnor(this))return new r(i,o);console.log("new Xnor "+i+" "+o),console.log("arguments "+arguments.length),2!==arguments.length&&console.trace("xnor");var a=t.functor.Xnor;if(!t.functor.arity(a,arguments.length))return t.incorrect_arity(this,a,arguments.length);var c=t.toExpression(i,!1);if(e.NoValue(c))return t.expected_expression("new Xnor("+i.toString()+", ...)");var u=t.toExpression(o,!1);return e.NoValue(u)?t.expected_expression("new Xnor(..., "+o.toString()+")"):void n.call(this,a,c,u)};e.Xnor=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Xnor"},r.prototype.copy=function(){return new r(this.arg(0).copy(),this.arg(1).copy())},r.prototype.calculate=function(){var n=this.arg(0)._calculate(),r=this.arg(1)._calculate();return e.Bool(n)&&e.Bool(r)?n.value===r.value?new t.Bool((!0)):new t.Bool((!1)):e.Bool(n)?t.not_boolean(this,n):t.not_boolean(this,n)},e.in_nodejs()&&(module.exports=t.Xnor)}.call(this),function(){"use strict";function t(r,i){if(null===r||null===i)throw"INTERNAL ERROR: Add("+r+", "+i+")";if(n.Expression(r)&&n.Expression(i)){var o=r.type_symbol(),a=i.type_symbol(),u=e.symbol.Infinite.unicode;if("E"===o)return t(r.calculate(),i);if("E"===a)return t(r,i.calculate());if(o===u||a===u)return c.infinite(r,i);var l=s.calculate;if(l[o]&&l[o][a])return l[o][a](r,i)}return new e.Undefined(new c(r,i),"Source: add.js line: 196")}var e=(this.Decimal||require("./decimal"),this.stem||require("./core")),n=e.is,r=(e.Integer,e.Real,e.Complex,e.Complexical,e.Quantity),i=e.Vector,o=e.Matrix,a=(e.Imaginary,e.Relation),c=e.Add=function(){if(!n.Add(this))return new c(arguments);var t;t=1===arguments.length?n.array(arguments[0])?arguments[0]:n.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),a.call(this,e.functor.Add,t)};n.Add=function(t){return t instanceof c};var u=function(){};u.prototype=a.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),c.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new c(t)},c.prototype._calculate=function(){if(1===this.arity)return this.arg(0)._calculate();var n=t(this.arg(0),this.arg(1));if(n===e.NoValue)return e.NoValue;for(var r=2;n!==e.NoValue&&r<this.arity;r++)n=t(n,this.arg(r));return n};var s={};s.calculate={},s.calculate.C={},s.calculate.C.C=function(t,n){return e.calculate.add.CC(t,n)},s.calculate.C.I=function(t,n){return e.calculate.add.CC(t,n.toComplex())},s.calculate.C.Q=function(t,n){return e.calculate.add.CQ(t,n)},s.calculate.C.R=function(t,n){return e.calculate.add.CR(t,n)},s.calculate.C.Z=function(t,n){return e.calculate.add.CZ(t,n)},s.calculate.I={},s.calculate.I.C=function(t,n){return e.calculate.add.CC(t.toComplex(),n)},s.calculate.I.I=function(t,n){return e.calculate.add.CC(t.toComplex(),n.toComplex())},s.calculate.I.Q=function(t,n){return e.calculate.add.CQ(t.toComplex(),n)},s.calculate.I.R=function(t,n){return e.calculate.add.CR(t.toComplex(),n)},s.calculate.I.Z=function(t,n){return e.calculate.add.CZ(t.toComplex(),n)},s.calculate.Q={},s.calculate.Q.C=function(t,n){return e.calculate.add.CQ(n,t)},s.calculate.Q.I=function(t,n){return e.calculate.add.CQ(n.toComplex(),t)},s.calculate.Q.Q=function(t,n){return e.calculate.add.QQ(t,n)},s.calculate.Q.R=function(t,n){return e.calculate.add.QR(t,n)},s.calculate.Q.Z=function(t,n){return e.calculate.add.QQ(t,n.toRational())},s.calculate.R={},s.calculate.R.C=function(t,n){return e.calculate.add.CR(n,t)},s.calculate.R.I=function(t,n){return e.calculate.add.CR(n.toComplex(),t)},s.calculate.R.Q=function(t,n){return e.calculate.add.QR(n,t)},s.calculate.R.R=function(t,n){return e.calculate.add.RR(t,n)},s.calculate.R.Z=function(t,n){return e.calculate.add.RZ(t,n)},s.calculate.Z={},s.calculate.Z.C=function(t,n){return e.calculate.add.CZ(n,t)},s.calculate.Z.I=function(t,n){return e.calculate.add.CZ(n.toComplex(),t)},s.calculate.Z.Q=function(t,n){return e.calculate.add.QQ(t.toRational(),n)},s.calculate.Z.R=function(t,n){return e.calculate.add.RZ(n,t)},s.calculate.Z.Z=function(t,n){return e.calculate.add.ZZ(t,n)},s.calculate.M={},s.calculate.M.M=function(n,r){if(n.rows===r.rows&&n.columns===r.columns){for(var i=new o(n.rows,n.columns),a=0;a<n.rows;a++)for(var c=0;c<n.columns;c++)i.assign0(a,c,t(n.element0(a,c),r.element0(a,c)));return i}return e.failure("Matrix addition incompatible length rows / columns",n)},s.calculate.P={},s.calculate.P.P=function(t,e){var n=t.unit.mul(t.toNumber()),i=e.unit.mul(e.toNumber()),o=n.add(i),a=o.toString(),c=a.split(" ");return new r(parseFloat(c[0]),c[1])},s.calculate.V={},s.calculate.V.V=function(e,n){if(e.arity!==n.arity)return null;for(var r=[],o=0;o<e.arity;o++){var a=t(e.arg(o),n.arg(o));if(null===a)throw"INTERNAL ERROR Vector element null "+e.toString();r[o]=a}return new i(r)},c.infinite=function(t,r){return n.ComplexInfinite(t)||n.ComplexInfinite(r)?new e.Indeterminate(new c(t,r),"Adding Complex Infinity"):n.Infinite(t)&&n.Infinite(r)?t.sign!==r.sign?new e.Indeterminate(new c(t,r),"Adding Positive and Negative Infinity"):t:n.Infinite(r)?c.infinite(r,t):n.Infinite(t)&&n.Numerical(r)?t:t.isZero()?r:r.isZero()?t:new e.Undefined(new c(t,r),"Source: add.js line: 226")},n.in_nodejs()&&(module.exports=c)}.call(this),function(){"use strict";function t(r,i){if(null===r||null===i)throw"calculate null";if(n.Expression(r)&&n.Expression(i)){var o=r.type_symbol(),a=i.type_symbol(),c=e.symbol.Infinite.unicode;if("E"===o)return t(r.calculate(),i);if("E"===a)return t(r,i.calculate());if(o===c||a===c)return l.infinite(r,i);var u=h.calculate;if(u[o]&&u[o][a])return u[o][a](r,i)}return e.Undefined(new l(r,i),"Source: multiply.js line: 386")}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=(e.Real,e.Complex,e.Quantity),o=e.Vector,a=e.Matrix,c=e.Numerical,u=e.Add,s=(e.Subtract,e.Relation),l=e.Multiply=function(){if(!n.Multiply(this))return new l(arguments);var t;t=1===arguments.length?n.array(arguments[0])?arguments[0]:n.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),s.call(this,e.functor.Multiply,t)};n.Multiply=function(t){return t instanceof l};var p=function(){};p.prototype=s.prototype,l.prototype=new p,l.prototype.constructor=l,l.superclass=s.prototype,s.prototype.constructor==Object.prototype.constructor&&(s.prototype.constructor=s),l.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t.push(this.arg(e).copy());return new l(t)},l.calculate=function(){return new l(arguments).calculate()},l.prototype._calculate=function(){if(1===this.arity)return this.arg(0)._calculate();var n=t(this.arg(0),this.arg(1));if(null===n)return e.calculate_null(this,0);for(var r=2;null!==n&&r<this.arity;r++)if(n=t(n,this.arg(r)),null===n)return e.calculate_null(this,r);return n};var h={};h.calculate={},h.calculate.C={},h.calculate.C.C=function(t,n){var r=t.re,i=t.im,o=n.re,a=n.im,c=new e.Subtract(new l(r,o),new l(i,a)),s=new u(new l(i,o),new l(r,a)),p=c.calculate(),h=s.calculate();return null!==p&&null!==h?new e.Complexical(p,h):null},h.calculate.C.I=function(t,e){return h.calculate.C.C(t,e.toComplex())},h.calculate.C.M=function(t,e){return h.calculate.M.C(e,t)},h.calculate.C.Q=function(t,e){return h.calculate.C.C(t,e.toComplex())},h.calculate.C.R=function(t,e){return h.calculate.C.C(t,e.toComplex())},h.calculate.C.V=function(t,e){return h.calculate.V.C(e,t)},h.calculate.C.Z=function(t,e){return h.calculate.C.C(t,e.toComplex())},h.calculate.I={},h.calculate.I.C=function(t,n){var r=0,i=t.value,o=n.re,a=n.im,c=new e.Subtract(new l(r,o),new l(i,a)),s=new u(new l(i,o),new l(r,a)),p=c.calculate(),h=s.calculate();return null!==p&&null!==h?new e.Complexical(p,h):null},h.calculate.I.I=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.I.M=function(t,e){return h.calculate.M.C(e,t.toComplex())},h.calculate.I.Q=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.I.R=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.I.V=function(t,e){return h.calculate.V.C(e,t.toComplex())},h.calculate.I.Z=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.M={},h.calculate.M.C=function(t,e){return h.calculate.M.scalar(t,e)},h.calculate.M.I=function(t,e){return h.calculate.M.scalar(t,e.toComplex())},h.calculate.M.M=function(t,e){if(t.columns!==e.rows)return null;for(var n=t.rows,r=t.columns,i=e.columns,o=new a(n,i),c=0;c<n;c++)for(var s=0;s<i;s++){for(var p=0,h=0;h<r;h++)p=new u(p,new l(t.element0(c,h),e.element0(h,s)));o.assign0(c,s,p.calculate())}return o},h.calculate.M.Q=function(t,e){return h.calculate.M.scalar(t,e)},h.calculate.M.R=function(t,e){return h.calculate.M.scalar(t,e)},h.calculate.M.Z=function(t,e){return h.calculate.M.scalar(t,e)},h.calculate.M.scalar=function(e,n){for(var r=new a(e.rows,e.columns),i=0;i<e.rows;i++)for(var o=0;o<e.columns;o++){var c=e.element0(i,o),u=t(c,n);if(!u)return null;r.assign0(i,o,u)}return r},h.calculate.P={},h.calculate.P.P=function(t,e){var n=t.toQty().mul(e.toQty()),r=n.format();return new i(r.scalar,r.units)},h.calculate.P.Q=function(t,e){return h.calculate.P.scalar(t,e.toNumerical())},h.calculate.P.R=function(t,e){return h.calculate.P.scalar(t,e)},h.calculate.P.Z=function(t,e){return h.calculate.P.scalar(t,e)},h.calculate.P.scalar=function(e,n){console.log("P.scalar "+e.toString());var r=e.unitString(),o=t(e.magnitude,n);return new i(o,r,e.direction)},h.calculate.Q={},h.calculate.Q.C=function(t,e){return h.calculate.C.C(t.toComplex(),e)},h.calculate.Q.I=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.Q.P=function(t,e){return h.calculate.R.P(t.toNumerical(),e)},h.calculate.Q.R=function(t,e){return h.calculate.R.R(t.toNumerical(),e)},h.calculate.Q.M=function(t,e){return h.calculate.M.scalar(e,t.toNumerical())},h.calculate.Q.Q=function(t,e){return h.calculate.R.R(t.toNumerical(),e.toNumerical())},h.calculate.Q.V=function(t,e){return h.calculate.V.scalar(e,t.toNumerical())},h.calculate.Q.Z=function(t,e){return h.calculate.R.Z(t.toNumerical(),e)},h.calculate.R={},h.calculate.R.C=function(t,e){return h.calculate.C.C(e,t.toComplex())},h.calculate.R.I=function(t,e){return h.calculate.C.C(t.toComplex(),e.toComplex())},h.calculate.R.M=function(t,e){return h.calculate.M.R(e,t)},h.calculate.R.P=function(e,n){var r=n.unit.toString(),o=t(n.magnitude,e);return new i(o,r,n.direction)},h.calculate.R.Q=function(t,e){return h.calculate.Q.R(e,t)},h.calculate.R.R=function(t,e){return new c(t.big?t.value.mul(e.value):e.big?e.value.mul(t.value):t.value*e.value)},h.calculate.R.V=function(t,e){return h.calculate.V.R(e,t)},h.calculate.R.Z=function(t,e){return h.calculate.R.R(t,e)},h.calculate.V={},h.calculate.V.C=function(t,e){return h.calculate.V.scalar(t,e)},h.calculate.V.I=function(t,e){return h.calculate.V.scalar(t,e.toComplex())},h.calculate.V.R=function(t,e){return h.calculate.V.scalar(t,e)},h.calculate.V.Q=function(t,e){return h.calculate.V.scalar(t,e.toNumerical())},h.calculate.V.V=function(t,e){return console.log("V * V not implemented"),null},h.calculate.V.Z=function(t,e){return h.calculate.V.scalar(t,e)},h.calculate.V.scalar=function(e,n){for(var r=new o(e.arity),i=0;i<e.arity;i++){var a=e.element0(i),c=t(a,n);if(!c)return null;e.assign0(i,c)}return r},h.calculate.Z={},h.calculate.Z.C=function(t,e){return h.calculate.C.C(e,t.toComplex())},h.calculate.Z.I=function(t,e){return h.calculate.C.C(e.toComplex(),t.toComplex())},h.calculate.Z.M=function(t,e){return h.calculate.M.scalar(e,t)},h.calculate.Z.P=function(t,e){return h.calculate.P.scalar(e,t)},h.calculate.Z.R=h.calculate.R.R,h.calculate.Z.Q=function(t,e){return h.calculate.Z.R(t,e.toNumerical())},h.calculate.Z.V=function(t,e){return h.calculate.V.scalar(e,t)},h.calculate.Z.Z=function(t,e){return new r(t.big?t.value.mul(e.value):e.big?e.value.mul(t.value):t.value*e.value)},l.infinite=function(t,r){if(n.Infinite(t)&&n.Infinite(r))return n.ComplexInfinite(t)||n.ComplexInfinite(r)?new e.ComplexInfinite:new e.Infinite(t.sign*r.sign);if(n.Infinite(r))return l.infinite(r,t);if(t.isInfinite()){if(r.isZero())return new e.Indeterminate(new l(t,r),"Multiply Infinity by zero");if(n.ComplexInfinite(t)&&n.Numeric(r))return t;if(n.Infinite(t)&&n.Numerical(r))return r.isPositive()?new e.Infinite(t.sign):new e.Infinite((-t.sign))}return new e.Undefined(new l(t,r),"Source: multiply.js line: 417")},n.in_nodejs()&&(module.exports=l)}.call(this),function(){"use strict";function t(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}var e=this.stem||require("./core"),n=e.is,r=e.chemistry=e.chemistry||{},i=e.Relation;n.chemistry={};var o,a,c,u,s,l=e.Terminal;n.Chemical=function(t){return n.chemistry.Electron(t)||n.chemistry.Chemical(t)||n.chemistry.Element(t)},u=r.Add=function(){if(!n.chemistry.Add(this))return new u(arguments);var t,r=arguments.length,o=[];if(1===r&&n.array(arguments[0])){var c=arguments[0];for(t=0;t<c.length;t++)o.push(c[t])}else for(t=0;t<r;t++)o.push(arguments[t]);for(this.args=[],this.arity=o.length,t=0;t<o.length;t++)this.args[t]=n.string(o[t])?new a(o[t]):o[t];i.call(this,e.functor.Add,this.args)},n.chemistry.Add=function(t){return t instanceof u};var p=function(){};p.prototype=i.prototype,u.prototype=new p,u.prototype.constructor=u,u.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),u.prototype.class_name=function(){return"chemistry.Add"},u.prototype.arg=function(t){return this.args[t]},u.prototype.charge=function(){for(var t=0,e=0;e<this.arity;e++)t+=this.arg(e).charge;return t},u.prototype.atom_frequencies=function(t,e){t=void 0===t?{}:t,e=void 0===e?1:e;for(var n=0;n<this.arity;n++)t=this.arg(n).atom_frequencies(t,e);return t},u.prototype.equivalent=function(t){if(console.log("Add.equivalent"),console.log("  "+this),console.log("  "+t),this.arity!==t.arity)return console.log("    --> false because of different arity"),!1;var e,n;for(e=0;e<this.arity;e++){var r=this.arg(e);for(n=0;n<t.arity;n++){var i=t.arg(n);if(!i.seen&&r.equivalent(i)){i.seen=!0;break}}}var o=!0;for(n=0;n<t.arity;n++)t.seen?delete t.seen:o=!1;return console.log("   --> "+o),o},s=r.Electron=function(){return n.chemistry.Electron(this)?void l.call(this):new s},n.chemistry.Electron=function(t){return t instanceof s};var p=function(){};p.prototype=l.prototype,s.prototype=new p,s.prototype.constructor=s,s.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),s.prototype.type_symbol=function(){return"A"},s.prototype.class_name=function(){return"chemistry.Electron"},s.prototype.copy=function(){return new s},c=r.Reaction=function(t,r,o){if(!n.chemistry.Reaction(this))return new c(t,r,o);var a={stoichiometric:e.functor.Stoichiometric,equilibrium:e.functor.Equilibrium,reversible:e.functor.Reversible,yields:e.functor.Yields};return a[r]?i.call(this,a[r],t,o):(console.log("Reaction operator should be one of these"),console.log("using: yields"),i.call(this,e.functor.Yields,t,o)),n.chemistry.Add(t)||(t=new u(t)),n.chemistry.Add(o)||(o=new u(o)),this.args=[t,o],this.arity=2,this.operator=r,this},n.chemistry.Reaction=function(t){return t instanceof c};var p=function(){};p.prototype=i.prototype,c.prototype=new p,c.prototype.constructor=c,c.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),c.prototype.class_name=function(){return"chemistry.Reaction"},c.prototype.left=function(){return this.arg(0)},c.prototype.right=function(){return this.arg(1)},c.prototype.balanced=function(){var e=this.arg(0).charge(),n=this.arg(1).charge();if(e!==n)return!1;var r=this.arg(0).atom_frequencies(),i=this.arg(1).atom_frequencies();return t(r,i)},c.prototype.equivalent=function(t){if(this.operator!==t.operator)return!1;var e=this.arg(0),n=t.arg(0),r=this.arg(1),i=t.arg(1);return"YIELDS"===this.operator?(console.log("  YIELDS"),e.equivalent(n)&&r.equivalent(i)):(console.log("  "+this.operator),e.equivalent(n)&&r.equivalent(i)||e.equivalent(i)&&r.equivalent(n))},a=r.Chemical=function(t,r){if(!n.chemistry.Chemical(this))return new a(t,r);return l.call(this),this.arity=0,this.args=[],this.coefficient=1,this.charge=0,this.brackets=null,this.subscript=1,r=void 0===r?{}:r,n.object(r)?n.array(t)?(this._parts(t),this._specification(r),void this._normalize()):n.string(t)?(this.fromString(t),this._specification(r),void this._normalize()):n.chemistry.Chemical(t)?(this._parts(t.args),this._specification(t),this._specification(r),this._normalize(),this):n.chemistry.Element(t)?new a([t],r):n.chemistry.Electron(t)?new a([t],{charge:-1,coefficient:void 0===r.coefficient?1:r.coefficient}):n.object(t)?(this._parts(t.args),this._specification(t),void this._normalize()):e.failure("new Chemical illegal arguments",t+" "+r):e.failure("new Chemical(..., arg2): ",r)},n.chemistry.Chemical=function(t){return t instanceof a};var p=function(){};p.prototype=l.prototype,a.prototype=new p,a.prototype.constructor=a,a.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),a.prototype.type_symbol=function(){return"A"},a.prototype.class_name=function(){return"chemistry.Chemical"},a.prototype.arg=function(t){return this.arg(t)},a.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new a(t,{coefficient:this.coefficient,charge:this.charge,subscript:this.subscript,brackets:this.brackets})};a.prototype.atom_frequencies=function(t,e){t=void 0===t?{}:t,e=(void 0===e?1:e)*this.coefficient*this.subscript;for(var n=0;n<this.arity;n++)t=this.arg(n).atom_frequencies(t,e);return t},a.prototype.identical=function(t){var e=this.toString(),n=t.toString();return e===n},a.prototype.equivalent=function(e){if(this.charge!==e.charge)return!1;var n=this.atom_frequencies(),r=e.atom_frequencies();return t(n,r)},a.prototype._args_replace=function(t){this.args.splice(0,this.arity);for(var e=0;e<t.length;e++)this.args.push(t[e]);return this.arity=this.args.length,this},a.prototype._arg_delete=function(t){return this.arity--,this.args.splice(t,1),this},a.prototype._arg_insert=function(t,e){return this.arity++,this.args.splice(t,0,e),this},a.prototype._arg_replace=function(t,e){return this.args[t]=e,this},a.prototype._arg_append=function(t){return this.arg[this.arity++]=t,this},a.prototype._normalize=function(){var t,e,r,i=[];for(e=0;e<this.arity;e++)t=this.arg(e),t.charge=0,t.coefficient&&(t.subscript*=t.coefficient,t.coefficient=1);for(e=0;e<this.arity;e++)if(t=this.arg(e),n.chemistry.Element(t))i.push(t);else if(n.chemistry.Electron(t))i.push(t);else if(n.chemistry.Chemical(t)){if(t.subscript>1||t.brackets){i.push(t);continue}for(r=0;r<t.arity;r++)i.push(t.arg(r))}return this._args_replace(i)},a.prototype.fromString=function(t){var e=r.parse(t);if(e)return this.args=e.args,this.coefficient=e.coefficient,this.brackets=e.brackets,this.subscript=e.subscript,this.charge=e.charge,this;throw new Error("Chemical.fromString could not be parsed: "+t)},a.prototype._parts=function(t){if(n.array(t)){this.arity=t.length;for(var e=0;e<this.arity;e++){var i=t[e];if(n.chemistry.Element(i)||n.chemistry.Chemical(i)||n.chemistry.Electron(i))this.args.push(i.copy());else{if(!n.string(i))throw new TypeError("new Chemical([...,part,...): "+i);this.args.push(r.parse(i))}}return this}throw new TypeError("new Chemical chemicals not an array")},a.prototype._specification=function(t){return this.coefficient=void 0===t.coefficient?this.coefficient:t.coefficient,this.brackets=void 0===t.brackets?this.brackets:t.brackets,this.subscript=void 0===t.subscript?this.subscript:t.subscript,this.charge=void 0===t.charge?this.charge:t.charge,
this},o=r.Element=function(t,r){if(!n.chemistry.Element(this))return new o(t,r);if(l.call(this),this.atom=null,this.subscript=1,r=void 0===r?{}:r,n.object(t))this.atom=t.atom,this.subscript=void 0===t.subscript?1:t.subscript;else if(n.object(r))if(n.chemistry.Element(t))this.atom=t.atom,this.subscript=void 0===r.subscript?t.subscript:r.subscript;else{if(!n.string(t))return e.failure("new chemistry.Element(arg1, ...): "+t);this.atom=t,this.subscript=void 0===r.subscript?1:r.subscript}return n.string(this.atom)?this.atom.match(/[A-Z][a-z]*/)?n.non_negative_integer(this.subscript)?void 0:e.failure("new Element: subscript must be a non-negative integer ("+this.subscript+")"):e.failure("new Element: atom not valid "+this.atom):e.failure("new Element: atom not a string "+t)},n.chemistry.Element=function(t){return t instanceof r.Element};var p=function(){};p.prototype=l.prototype,o.prototype=new p,o.prototype.constructor=o,o.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),o.prototype.type_symbol=function(){return"A"},o.prototype.class_name=function(){return"chemistry.Element"},o.prototype.copy=function(){return new o(this.atom,{subscript:this.subscript})},o.prototype.atom_frequencies=function(t,e){var n=e*this.subscript;return t[this.atom]?t[this.atom]+=n:t[this.atom]=n,t},n.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Bool,r=t.Relation,i=t.Equal=function(){if(!e.Equal(this))return new i(arguments);var n;n=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),r.call(this,t.functor.Equal,n)};e.Equal=function(t){return t instanceof i};var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new i(t)},i.compare=function(){var t=new i(arguments).calculate();return t.value},i.calculate=function(){return new i(arguments).calculate()},i.prototype._calculate=function(){var e=this.arg(0)._calculate();if(e===t.NoValue)return t.calculate_null(this,0);for(var r=1;r<this.arity;r++){var i=this.arg(r)._calculate();if(i===t.NoValue)return t.calculate_null(this,r);if(!e.identical(i))return new n((!1))}return new n((!0))},e.in_nodejs()&&(module.exports=i)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Bool,r=t.Relation,i=t.Unequal=function(n,o,a,c){if(!e.Unequal(this))return new i(arguments);var u;u=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),r.call(this,t.functor.Unequal,u)};e.Unequal=function(t){return t instanceof i};var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i,i.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new i(t)},i.prototype._calculate=function(){var e=this.arg(0)._calculate();if(e===t.NoValue)return t.calculate_null(this,0);for(var r=1;r<this.arity;r++){var i=this.arg(r)._calculate();if(i===t.NoValue)return t.calculate_null(this,r);if(!e.identical(i))return new n((!0))}return new n((!1))},e.in_nodejs()&&(module.exports=i)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=c.calculate;return i[r]?i[r](e):null}return console.log("Internal Logarithm: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Relation,o=e.Logarithm=function(t,r){return n.Logarithm(this)?(this.base=void 0===r?e.e:r,void i.call(this,e.functor.Logarithm,t)):new o(t,r)};n.Logarithm=function(t){return t instanceof o};var a=function(){};a.prototype=i.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o.prototype.copy=function(){return new o(this.arg(0).copy(),this.base)},o.prototype._calculate=function(){return t(this.arg(0))};var c={};c.calculate={},c.calculate.C=function(t){return console.log("Logarithm not implemented for Complex numbers"),null},c.calculate.Q=function(t){return c.calculate.R(t.toNumerical())},c.calculate.R=function(t){return new r(t.base!==e.e?t.big?t.value.log(t.value,t.base.value):Math.log(t.value)/Math.log(t.base.value):t.big?t.value.ln():Math.log(t.value))},c.calculate.Z=function(t){return c.calculate.R(t)},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=l.calculate;return i[r]?i[r](e):null}return console.log("Internal Exponential: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Relation,o=e.Multiply,a=(e.Cosine,e.Sine,e.Add),c=e.Imaginary,u=e.Exponential=function(t){return n.Exponential(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Exponential,1):void i.call(this,e.functor.Exponential,t):new u(t)};n.Exponential=function(t){return t instanceof u};var s=function(){};s.prototype=i.prototype,u.prototype=new s,u.prototype.constructor=u,u.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),u.prototype.copy=function(){return new u(this.arg(0).copy())},u.calculate=function(e){return t(e)},u.prototype._calculate=function(){return t(this.arg(0))};var l={};l.calculate={},l.calculate.C=function(n){var r=n.re,i=n.im,u=t(r),s=new c(1);return o.calculate(u,new a(new e.Cosine(i),new o(s,new e.Sine(i))))},l.calculate.Q=function(t){return l.calculate.R(t.toNumerical())},l.calculate.R=function(t){return new r(t.big?t.value.exp():Math.exp(t.value))},l.calculate.Z=function(t){return l.calculate.R(t)},n.in_nodejs()&&(module.exports=u)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=c.calculate;return i[r]?i[r](e):(console.log("CubeRoot not defined for "+r),null)}return console.log("Internal CubeRoot: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Relation,o=e.CubeRoot=function(t){return n.CubeRoot(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.CubeRoot,1):void i.call(this,e.functor.CubeRoot,t):new o(t)};n.CubeRoot=function(t){return t instanceof o};var a=function(){};a.prototype=i.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o.prototype.copy=function(){return new o(this.arg(0).copy(),this.degree)},o.prototype._calculate=function(){return t(this.arg(0))},Math.cbrt=Math.cbrt||function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e};var c={};c.calculate={},c.calculate.Q=function(t){return c.calculate.R(t.toNumerical())},c.calculate.R=function(t){return new r(t.big?t.value.cbrt():Math.cbrt(t.value))},c.calculate.Z=function(t){return new r(t.big?t.value.cbrt():Math.cbrt(t.value))},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";function t(r){if(null===r)return null;if(n.Expression(r)){var i=r.type_symbol();if("E"===i)return t(r.calculate());var o=c.calculate;return o[i]?o[i](r):e.failure("Signum.calculate() not defined for ",i)}return console.log("Internal Signum: calculate not object arguments"),console.log("    "+r+" "+typeof r),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Relation,o=e.Signum=function(t){return n.Signum(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Signum,1):void i.call(this,e.functor.Signum,t):new o(t)};n.Signum=function(t){return t instanceof o};var a=function(){};a.prototype=i.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype._calculate=function(){return t(this.arg(0))};var c={};c.calculate={},Math.sign=Math.sign||function(t){return 0===t||isNaN(t)?t:t>0?1:-1},c.calculate.C=function(t){if(t.isZero())return new r(0);throw"Signum.calculate not defined for complex numbers"},c.calculate.Q=function(t){return c.calculate.R(t.toNumerical())},c.calculate.R=function(t){return new r(t.big?t.value.sign():Math.sign(t.value))},c.calculate.Z=function(t){return new r(t.big?t.value.sign():Math.sign(t.value))},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";function t(r){if(null===r)return null;if(n.Expression(r)){var i=r.type_symbol();if("E"===i)return t(r.calculate());var o=u.calculate;return o[i]?o[i](r):e.failure("Absolute.calculate() not defined for ",i)}return console.log("Internal Absolute: calculate not object arguments"),console.log("    "+r+" "+typeof r),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Relation,o=(e.Complex,e.Numerical),a=e.Absolute=function(t){return n.Absolute(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Absolute,1):void i.call(this,e.functor.Absolute,t):new a(t)};n.Absolute=function(t){return t instanceof a};var c=function(){};c.prototype=i.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},Math.sign=Math.sign||function(t){return 0===t||isNaN(t)?t:t>0?1:-1},u.calculate.C=function(t){return t.isZero()?new r(0):t.modulus().calculate()},u.calculate.I=function(t){return u.calculate.R(t.value.calculate())},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new o(t.big?t.value.abs():Math.abs(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.abs():Math.abs(t.value))},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(r){if(null===r)return null;if(n.Expression(r)){var i=r.type_symbol();if("E"===i)return t(r.calculate());var o=c.calculate;return o[i]?o[i](r):e.failure("Floor.calculate() not defined for ",i)}return console.log("Internal Floor: calculate not object arguments"),console.log("    "+r+" "+typeof r),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Relation,o=e.Floor=function(t){return n.Floor(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Floor,1):void i.call(this,e.functor.Floor,t):new o(t)};n.Floor=function(t){return t instanceof o};var a=function(){};a.prototype=i.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype._calculate=function(){return t(this.arg(0))};var c={};c.calculate={},Math.sign=Math.sign||function(t){return 0===t||isNaN(t)?t:t>0?1:-1},c.calculate.C=function(t){return t.isZero()?new r(0):t.modulus.calculate()},c.calculate.Q=function(t){return c.calculate.R(t.toNumerical())},c.calculate.R=function(t){return new r(t.big?t.value.floor():Math.floor(t.value))},c.calculate.Z=function(t){return new r(t.value,t.big)},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";function t(r){if(null===r)return null;if(n.Expression(r)){var i=r.type_symbol();if("E"===i)return t(r.calculate());var o=c.calculate;return o[i]?o[i](r):e.failure("Ceiling.calculate() not defined for ",i)}return console.log("Internal Ceiling: calculate not object arguments"),console.log("    "+r+" "+typeof r),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Relation,o=e.Ceiling=function(t){return n.Ceiling(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Ceiling,1):void i.call(this,e.functor.Ceiling,t):new o(t)};n.Ceiling=function(t){return t instanceof o};var a=function(){};a.prototype=i.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype._calculate=function(){return t(this.arg(0))};var c={};c.calculate={},Math.sign=Math.sign||function(t){return 0===t||isNaN(t)?t:t>0?1:-1},c.calculate.C=function(t){return t.isZero()?new r(0):t.modulus.calculate()},c.calculate.Q=function(t){return c.calculate.R(t.toNumerical())},c.calculate.R=function(t){return new r(t.big?t.value.ceil():Math.ceil(t.value))},c.calculate.Z=function(t){return new r(t.value,t.big)},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Relation,o=e.Hypot=function(){if(!n.Hypot(this))return new o(arguments);var t;t=1===arguments.length?n.array(arguments[0])?arguments[0]:n.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),i.call(this,e.functor.Hypot,t)};n.Hypot=function(t){return t instanceof o};var a=function(){};a.prototype=e.Relation.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=e.Relation.prototype,e.Relation.prototype.constructor==Object.prototype.constructor&&(e.Relation.prototype.constructor=e.Relation),o.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new o(t)},Math.hypot=Math.hypot||function(){for(var t=0,e=arguments.length,n=0;n<e;n++){if(arguments[n]===1/0||arguments[n]===-(1/0))return 1/0;t+=arguments[n]*arguments[n]}return Math.sqrt(t)},o.calculate=function(){return new o(arguments)._calculate()},o.prototype._calculate=function(){if(1===this.arity)return this.arg(0)._calculate();for(var i=[],o=!1,a=!1,c=0;!a&&c<this.arity;c++){var u=this.arg(c)._calculate();if(null===u||!n.Numerical(u)){a=!0;break}u.big&&(o=!0),i[c]=u.value}if(a)return null;if(o)switch(i.length){case 2:return new r(t.hypot(i[0],i[1]),(!0));case 3:return new r(t.hypot(i[0],i[1],i[2]),(!0));case 4:return new r(t.hypot(i[0],i[1],i[2],i[3]),(!0));default:return e.NoValue("Hypot._calculate: too many arguments")}return new r(Math.hypot.apply(null,i))},n.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Integer,t.Real,t.Complex,t.Quantity,t.Vector,t.Matrix,t.Relation),r=t.Minimum=function(){if(!e.Minimum(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Minimum,i)};e.Minimum=function(t){return t instanceof r};var i=function(){};i.prototype=t.Relation.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=t.Relation.prototype,t.Relation.prototype.constructor==Object.prototype.constructor&&(t.Relation.prototype.constructor=t.Relation),r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){if(1===this.arity)return this.arg(0)._calculate();for(var t=this.arg(0)._calculate(),e=1;e<this.arity;e++){var n=this.arg(e)._calculate();null!==n&&n.value<t.value&&(t=n)}return t},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Integer,t.Real,t.Complex,t.Quantity,t.Vector,t.Matrix,t.Relation),r=t.Maximum=function(){if(!e.Maximum(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Maximum,i)};e.Maximum=function(t){return t instanceof r};var i=function(){};i.prototype=t.Relation.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=t.Relation.prototype,t.Relation.prototype.constructor==Object.prototype.constructor&&(t.Relation.prototype.constructor=t.Relation),r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){if(1===this.arity)return this.arg(0)._calculate();for(var t=this.arg(0)._calculate(),e=1;e<this.arity;e++){var n=this.arg(e)._calculate();null!==n&&n.value>t.value&&(t=n)}return t},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=s.calculate;return i[r]?i[r](e):null}return console.log("Internal Minus: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Numerical,o=e.Real,a=(e.Subtract,e.Relation),c=e.Minus=function(t){return n.Minus(this)?n.Infinite(t)?t.isZero()?t:new e.Infinite((-t.sign)):void a.call(this,e.functor.Minus,t):new c(t)};n.Minus=function(t){return t instanceof c};var u=function(){};u.prototype=a.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),c.calculate=function(t){return new c(t).calculate()},c.prototype.copy=function(){return new c(this.arg(0).copy())},c.prototype._calculate=function(){return t(this.arg(0))};var s={};s.calculate={},s.calculate.C=function(t){return new e.Multiply((-1),t).calculate()},s.calculate.I=function(t){return new e.Multiply((-1),t).calculate()},s.calculate.P=function(t){return new e.Multiply((-1),t).calculate()},s.calculate.Q=function(t){return new e.Multiply((-1),t).calculate()},s.calculate.R=function(t){return new o(t.big?t.value.minus():-t.value)},s.calculate.Z=function(t){return t.big?new i(t.value.minus()):new r((-t.value))},n.in_nodejs()&&(module.exports=c)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=s.calculate;return i[r]?i[r](e):null}return console.log("Internal Plus: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Numerical,o=e.Real,a=e.Relation,c=e.Plus=function(t){return n.Plus(this)?void a.call(this,e.functor.Plus,t):new c(t)};n.Plus=function(t){return t instanceof c};var u=function(){};u.prototype=a.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),c.prototype.copy=function(){return new c(this.arg(0).copy())},c.prototype._calculate=function(){return t(this.arg(0))};var s={};s.calculate={},s.calculate.C=function(t){return t.copy()},s.calculate.M=function(t){return t.copy()},s.calculate.P=function(t){return t.copy()},s.calculate.Q=function(t){return s.calculate.R(t.toNumerical())},s.calculate.R=function(t){return new o(t.big?t.value.plus():t.value)},s.calculate.V=function(t){return t.copy()},s.calculate.Z=function(t){return t.big?new i(t.value.plus()):new r(t.value)},n.in_nodejs()&&(module.exports=c)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Integer,t.Numerical,t.Real,t.Relation),r=t.Minus,i=t.Bag,o=t.PlusMinus=function(r){return e.PlusMinus(this)?void n.call(this,t.functor.PlusMinus,r):new o(r)};e.PlusMinus=function(t){return t instanceof o};var a=function(){};a.prototype=n.prototype,o.prototype=new a,o.prototype.constructor=o,o.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),o.prototype.copy=function(){return new o(this.arg(0).copy())},o.prototype._calculate=function(){var n=this.arg(0)._calculate();if(e.Terminal(n)){var o=new r(n).calculate();return e.Terminal(o)?new i(n,o):new i(n)}return t.calculate_null(this,0)},e.in_nodejs()&&(module.exports=o)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Trigonometry=function(t,e){n.call(this,t,e)};e.Trigonometry=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("Cosecant not defined for "+r),null)}return console.log("Internal Cosecant: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Trigonometry),a=e.Cosecant=function(t){return n.Cosecant(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Cosecant,1):void o.call(this,e.functor.Cosecant,t):new a(t)};n.Cosecant=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){new e.Imaginary(1);throw"cosecant.Calculate Complex number not yet implemented"},u.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?u.calculate.R(new i(e/180*Math.PI)):u.calculate.R(e)},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){if(t.big)return new r(t.value.cosecant());var e=Math.sin(t.value);return 0===e?NaN:new r(1/e)},u.calculate.Z=function(t){if(t.big)return new r(t.value.cosecant());var e=Math.sin(t.value);return 0===e?NaN:new r(1/e)},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=m.calculate;return i[r]?i[r](e):(console.log("Cosine not defined for "+r),null)}return console.log("Internal Cosine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Real,i=e.Numerical,o=(e.Complex,e.Trigonometry),a=(e.Divide,e.Multiply),c=e.Subtract,u=e.Sine,s=e.HyperbolicSine,l=e.HyperbolicCosine,p=e.Imaginary,h=e.Cosine=function(t){return n.Cosine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Cosine,1):void o.call(this,e.functor.Cosine,t):new h(t)};n.Cosine=function(t){return t instanceof h};var f=function(){};f.prototype=o.prototype,h.prototype=new f,h.prototype.constructor=h,h.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),h.prototype.copy=function(){return new h(this.arg(0).copy())},h.prototype._calculate=function(){return t(this.arg(0))};var m={};m.calculate={},m.calculate.C=function(t){var e=t.re,n=t.im,r=new c(new a(new h(e),new l(n)),new a(new p(1),new u(e),new s(n)));return r.calculate()},m.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?m.calculate.R(new r(e/180*Math.PI)):m.calculate.R(e)},m.calculate.Q=function(t){return m.calculate.R(t.toNumerical())},m.calculate.R=function(t){return new i(t.big?t.value.cosine():Math.cos(t.value))},m.calculate.Z=function(t){return new i(t.big?t.value.cosine():Math.cos(t.value))},n.in_nodejs()&&(module.exports=h)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("Cotangent not defined for "+r),null)}return console.log("Internal Cotangent: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Sine,e.Cosine,e.Divide,e.Trigonometry),a=e.Cotangent=function(t){return n.Cotangent(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Cotangent,1):void o.call(this,e.functor.Cotangent,t):new a(t)};n.Cotangent=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){return new e.Divide(new e.Cosine(t),new e.Sine(t)).calculate()},u.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?u.calculate.R(new i(e/180*Math.PI)):u.calculate.R(e)},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){if(t.big)return new r(t.value.cotangent());var e=Math.tan(t.value);return 0===e?NaN:new i(1/e)},u.calculate.Z=function(t){if(t.big)return new r(t.value.cotangent());var e=Math.tan(t.value);return 0===e?NaN:new r(1/e)},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=s.calculate;return i[r]?i[r](e):(console.log("Secant not defined for "+r),null)}return console.log("Internal Secant: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=e.Complex,a=e.Trigonometry,c=e.Secant=function(t){return n.Secant(this)?void a.call(this,e.functor.Secant,t):new c(t)};n.Secant=function(t){return t instanceof c};var u=function(){};u.prototype=a.prototype,c.prototype=new u,c.prototype.constructor=c,c.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),c.prototype.copy=function(){return new c(this.arg(0).copy())},c.prototype._calculate=function(){return t(this.arg(0))};var s={};s.calculate={},s.calculate.C=function(t){new o(0,1);throw"secant.Calculate Complex number not yet implemented"},s.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?s.calculate.R(new i(e/180*Math.PI)):s.calculate.R(e)},s.calculate.Q=function(t){return s.calculate.R(t.toNumerical())},s.calculate.R=function(t){if(t.big)return new r(t.value.secant());var e=Math.cos(t.value);return 0===e?NaN:new r(1/e)},s.calculate.Z=function(t){if(t.big)return new r(t.value.secant());var e=Math.cos(t.value);return 0===e?NaN:new r(1/e)},n.in_nodejs()&&(module.exports=c)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=m.calculate;return i[r]?i[r](e):(console.log("Sine not defined for "+r),null)}return console.log("Internal Sine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Real,i=e.Numerical,o=(e.Complex,e.Imaginary),a=(e.Divide,e.Multiply),c=e.Subtract,u=e.HyperbolicSine,s=e.HyperbolicCosine,l=e.Cosine,p=e.Trigonometry,h=e.Sine=function(t){return n.Sine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Sine,1):void p.call(this,e.functor.Sine,t):new h(t)};n.Sine=function(t){return t instanceof h};var f=function(){};f.prototype=p.prototype,h.prototype=new f,h.prototype.constructor=h,h.superclass=p.prototype,p.prototype.constructor==Object.prototype.constructor&&(p.prototype.constructor=p),h.prototype.copy=function(){return new h(this.arg(0).copy())},h.prototype._calculate=function(){return t(this.arg(0))};var m={};m.calculate={},m.calculate.C=function(t){var e=t.re,n=t.im,r=new c(new a(new h(e),new s(n)),new a(new o(1),new l(e),new u(n)));return r.calculate()},m.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?m.calculate.R(new r(e/180*Math.PI)):t.isRadians()?m.calculate.R(e):null},m.calculate.Q=function(t){return m.calculate.R(t.toNumerical())},m.calculate.R=function(t){return new i(t.big?t.value.sine():Math.sin(t.value))},m.calculate.Z=function(t){return new i(t.big?t.value.sine():Math.sin(t.value))},n.in_nodejs()&&(module.exports=h)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("Tangent not defined for "+r),null)}return console.log("Internal Tangent: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Trigonometry),a=e.Tangent=function(t){return n.Tangent(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.Tangent,1):void o.call(this,e.functor.Tangent,t):new a(t)};n.Tangent=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){return new e.Divide(new e.Sine(t),new e.Cosine(t)).calculate()},u.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?u.calculate.R(new i(e/180*Math.PI)):u.calculate.R(e)},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.tangent():Math.tan(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.tangent():Math.tan(t.value))},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=l.calculate;return i[r]?i[r](e):(console.log("HyperbolicSine not defined for "+r),null)}return console.log("Internal HyperbolicSine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Trigonometry),c=e.Subtract,u=e.HyperbolicSine=function(t){return n.HyperbolicSine(this)?void o.call(this,e.functor.HyperbolicSine,t):new u(t)};n.HyperbolicSine=function(t){return t instanceof u};var s=function(){};s.prototype=o.prototype,u.prototype=new s,u.prototype.constructor=u,u.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),u.prototype.copy=function(){return new u(this.arg(0).copy())},u.prototype._calculate=function(){return t(this.arg(0))};var l={};l.calculate={},l.calculate.C=function(t){var e=new c(new Multiply(new u(a),new Cosine(b)),new Multiply(new Imaginary(1),new HyperbolicCosine(a),new Sine(b)));return e.calculate()},l.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?l.calculate.R(new i(e/180*Math.PI)):l.calculate.R(e)},l.calculate.Q=function(t){return l.calculate.R(t.toNumerical())},l.calculate.R=function(t){return new r(t.big?t.value.hyperbolicSine():Math.sinh(t.value))},l.calculate.Z=function(t){return new r(t.big?t.value.hyperbolicSine():Math.sinh(t.value));
},Math.sinh=Math.sinh||function(t){var e=Math.exp(t);return(e-1/e)/2},n.in_nodejs()&&(module.exports=u)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("HyperbolicCosine not defined for "+r),null)}return console.log("Internal HyperbolicCosine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Trigonometry),a=e.HyperbolicCosine=function(t){return n.HyperbolicCosine(this)?void o.call(this,e.functor.HyperbolicCosine,t):new a(t)};n.HyperbolicCosine=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){var n=t.re,r=t.im,i=new e.Subtract(new e.Multiply(new a(n),new e.Cosine(r)),new e.Multiply(new e.Imaginary(1),new e.HyperbolicSine(n),new e.Sine(r)));return i.calculate()},u.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?u.calculate.R(new i(e/180*Math.PI)):u.calculate.R(e)},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.hyperbolicCosine():Math.cosh(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.hyperbolicCosine():Math.cosh(t.value))},Math.cosh=Math.cosh||function(t){var e=Math.exp(t);return(e+1/e)/2},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("HyperbolicTangent not defined for "+r),null)}return console.log("Internal HyperbolicTangent: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Real,o=(e.Complex,e.Trigonometry),a=e.HyperbolicTangent=function(t){return n.HyperbolicTangent(this)?void o.call(this,e.functor.HyperbolicTangent,t):new a(t)};n.HyperbolicTangent=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){return new e.Divide(new e.HyperbolicSine(t),new e.HyperbolicCosine(t)).calculate()},u.calculate.P=function(t){var e=t.magnitude.calculate();return null===e?null:t.isDegrees()?u.calculate.R(new i(e/180*Math.PI)):u.calculate.R(e)},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.hyperbolicTangent():Math.tanh(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.hyperbolicTangent():Math.tanh(t.value))},Math.tanh=Math.tanh||function(t){if(t===1/0)return 1;if(t===-(1/0))return-1;var e=Math.exp(2*t);return(e-1)/(e+1)},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.InverseTrigonometry=function(t,e){n.call(this,t,e)};e.InverseTrigonometry=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("ArcHyperbolicCosine not defined for "+r),null)}return console.log("Internal ArcHyperbolicCosine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Complex,o=e.InverseTrigonometry,a=e.ArcHyperbolicCosine=function(t){return n.ArcHyperbolicCosine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcHyperbolicCosine,1):void o.call(this,e.functor.ArcHyperbolicCosine,t):new a(t)};n.ArcHyperbolicCosine=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){new i(0,1);throw"inverseHyperbolicCosine.Calculate Complex number not yet implemented"},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.inverseHyperbolicCosine():Math.acosh(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.inverseHyperbolicCosine():Math.acosh(t.value))},Math.acosh=Math.acosh||function(t){return Math.log(t+Math.sqrt(t*t-1))},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=m.calculate;return i[r]?i[r](e):(console.log("ArcCosine not defined for "+r),null)}return console.log("Internal ArcCosine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=(e.Complex,e.Imaginary),o=e.SquareRoot,a=e.Power,c=e.Subtract,u=e.Logarithm,s=e.Multiply,l=(e.Add,e.PlusMinus),p=e.InverseTrigonometry,h=e.ArcCosine=function(t){return n.ArcCosine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcCosine,1):void p.call(this,e.functor.ArcCosine,t):new h(t)};n.ArcCosine=function(t){return t instanceof h};var f=function(){};f.prototype=p.prototype,h.prototype=new f,h.prototype.constructor=h,h.superclass=p.prototype,p.prototype.constructor==Object.prototype.constructor&&(p.prototype.constructor=p),h.prototype.copy=function(){return new h(this.arg(0).copy())},h.prototype._calculate=function(){return t(this.arg(0))};var m={};m.calculate={},m.calculate.C=function(t){var e=new i(1),n=new o(new c(1,new a(t,2))),r=new s(new i((-1)),new u(new l(t,new s(e,n))));return r.calculate()},m.calculate.Q=function(t){return m.calculate.R(t.toNumerical())},m.calculate.R=function(t){return new r(t.big?t.value.inverseCosine():Math.acos(t.value))},m.calculate.Z=function(t){return new r(t.big?t.value.inverseCosine():Math.acos(t.value))},n.in_nodejs()&&(module.exports=h)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=m.calculate;return i[r]?i[r](e):(console.log("ArcSine not defined for "+r),null)}return console.log("Internal ArcSine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=(e.Complex,e.InverseTrigonometry),o=e.Imaginary,a=e.SquareRoot,c=e.Power,u=e.Subtract,s=e.Logarithm,l=e.Multiply,p=(e.Add,e.PlusMinus),h=e.ArcSine=function(t){return n.ArcSine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcSine,1):void i.call(this,e.functor.ArcSine,t):new h(t)};n.ArcSine=function(t){return t instanceof h};var f=function(){};f.prototype=i.prototype,h.prototype=new f,h.prototype.constructor=h,h.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),h.prototype.copy=function(){return new h(this.arg(0).copy())},h.prototype._calculate=function(){return t(this.arg(0))};var m={};m.calculate={},m.calculate.C=function(t){var e=new o(1),n=new a(new u(1,new c(t,2))),r=new l(new o((-1)),new s(new p(new l(new o(1),t),new l(e,n))));return r.calculate()},m.calculate.Q=function(t){return m.calculate.R(t.toNumerical())},m.calculate.R=function(t){return new r(t.big?t.value.inverseSine():Math.asin(t.value))},m.calculate.Z=function(t){return new r(t.big?t.value.inverseSine():Math.asin(t.value))},n.in_nodejs()&&(module.exports=h)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("ArcHyperbolicSine not defined for "+r),null)}return console.log("Internal ArcHyperbolicSine: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Complex,o=e.InverseTrigonometry,a=e.ArcHyperbolicSine=function(t){return n.ArcHyperbolicSine(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcHyperbolicSine,1):void o.call(this,e.functor.ArcHyperbolicSine,t):new a(t)};n.ArcHyperbolicSine=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){new i(0,1);throw"inverseHyperbolicSine.Calculate Complex number not yet implemented"},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.inverseHyperbolicSine():Math.asinh(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.inverseHyperbolicSine():Math.asinh(t.value))},Math.asinh=Math.asinh||function(t){return t===-(1/0)?t:Math.log(t+Math.sqrt(t*t+1))},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("ArcTangent not defined for "+r),null)}return console.log("Internal ArcTangent: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Complex,o=e.InverseTrigonometry,a=e.ArcTangent=function(t){return n.ArcTangent(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcTangent,1):void o.call(this,e.functor.ArcTangent,t):new a(t)};n.ArcTangent=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){new i(0,1);throw"inverseTangent.Calculate Complex number not yet implemented"},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.inverseTangent():Math.atan(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.inverseTangent():Math.atan(t.value))},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=u.calculate;return i[r]?i[r](e):(console.log("ArcHyperbolicTangent not defined for "+r),null)}return console.log("Internal ArcHyperbolicTangent: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Complex,o=e.InverseTrigonometry,a=e.ArcHyperbolicTangent=function(t){return n.ArcHyperbolicTangent(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.ArcHyperbolicTangent,1):void o.call(this,e.functor.ArcHyperbolicTangent,t):new a(t)};n.ArcHyperbolicTangent=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy())},a.prototype._calculate=function(){return t(this.arg(0))};var u={};u.calculate={},u.calculate.C=function(t){new i(0,1);throw"inverseHyperbolicTangent.Calculate Complex number not yet implemented"},u.calculate.Q=function(t){return u.calculate.R(t.toNumerical())},u.calculate.R=function(t){return new r(t.big?t.value.inverseHyperbolicTangent():Math.atanh(t.value))},u.calculate.Z=function(t){return new r(t.big?t.value.inverseHyperbolicTangent():Math.atanh(t.value))},Math.atanh=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},n.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Relation,r=t.Binary=function(i,o,a){if(!e.Binary(this))return new r(o,a);if(!t.functor.check(i))return t.failure("new Binary: first argument not a functor");var c;return e.unspecified(o)?(c=i.class_name||"Binary",t.failure("new "+c+": left not specified")):e.unspecified(a)?(c=i.class_name||"Binary",t.failure("new "+c+": right not specified")):void n.call(this,i,o,a)};e.Binary=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Binary"},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Binary,r=t.Equation=function(i,o){return e.Equation(this)?t.functor.arity(t.functor.Equation,arguments.length)?void n.call(this,t.functor.Equation,i,o):t.incorrect_arity(this,t.functor.Equation,arguments.length):new r(arguments)};e.Equation=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype.assign=function(){var t=this.arg(0),n=this.arg(1).calculate();return e.Terminal(n)?e.func(t.assign)?t.assign(n):null:n},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(e,i){if(null===e||null===i)throw"calculate null";if(r.Expression(e)&&r.Expression(i)){var o=e.type_symbol(),a=i.type_symbol(),c=n.symbol.Infinite.unicode;if("E"===o)return t(e.calculate(),i);if("E"===a)return t(e,i.calculate());if(o===c||a===c)return f.infinite(e,i);if(e.isZero()&&i.isZero())return new n.Indeterminate(new f(e,i));var u=y.calculate;if(u[o]&&u[o][a])return u[o][a](e,i)}return new n.Undefined(new f(e,i),"Source: divide.js line: 364")}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Numerical,o=n.Complex,a=n.Matrix,c=n.Quantity,u=n.Vector,s=n.Add,l=n.Binary,p=n.Multiply,h=n.Complexical,f=n.Divide=function(t,e){return r.Divide(this)?n.functor.arity(n.functor.Divide,arguments.length)?void l.call(this,n.functor.Divide,t,e):n.incorrect_arity(this,n.functor.Divide,arguments.length):new f(t,e)};r.Divide=function(t){return t instanceof f};var m=function(){};m.prototype=l.prototype,f.prototype=new m,f.prototype.constructor=f,f.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),f.calculate=function(t,e){return new f(t,e).calculate()},f.prototype.copy=function(){return new f(this.arg(0).copy(),this.arg(1).copy())},f.prototype.isDefined=function(){return!r.Terminal(this.arg(1))||this.arg(1).isDefined()},f.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var y={};y.calculate={},y.calculate.C={},y.calculate.C.C=function(t,e){var i=t.re.calculate(),o=t.im.calculate(),a=e.re.calculate(),c=e.im.calculate(),u=!1,l=!1;if(r.Infinite(o)&&o.isNegative()&&(u=!0),r.Infinite(c)&&c.isNegative()&&(l=!0),u&&l)return new n.Indeterminate(new f(t,e));if(u)return new n.Infinite;if(l)return new n.Integer(0);if(a.isZero()&&c.isZero())return new n.Indeterminate(new f(t,e));var m=new s(new p(a,a),new p(c,c)),y=new f(new s(new p(i,a),new p(o,c)),m),g=new f(new n.Subtract(new p(o,a),new p(i,c)),m),d=y.calculate(),v=g.calculate();return r.Numerical(d)&&r.Numerical(v)?new h(d,v):new n.Undefined(new f(t,e))},y.calculate.C.I=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.C.M=function(t,e){return y.calculate.M.C(e,t)},y.calculate.C.Q=function(t,e){return y.calculate.C.C(t,new o(e.toNumerical(),0))},y.calculate.C.R=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.C.V=function(t,e){return y.calculate.V.C(e,t)},y.calculate.C.Z=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.I={},y.calculate.I.C=function(t,e){return y.calculate.C.C(t.toComplex(),e)},y.calculate.I.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.M=function(t,e){return y.calculate.M.C(e,t.toComplex())},y.calculate.I.Q=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.R=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.V=function(t,e){return y.calculate.V.C(e,t.toComplex())},y.calculate.I.Z=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.M={},y.calculate.M.C=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.I=function(t,e){return y.calculate.M.scalar(t,e.toComplex())},y.calculate.M.M=function(t,e){var n=(e.inverse(),new p(t,e));return n.calculate()},y.calculate.M.Q=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.R=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.Z=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.scalar=function(e,n){for(var r=new a(e.rows,e.columns),i=0;i<e.rows;i++)for(var o=0;o<e.columns;o++){var c=e.element0(i,o),u=t(c,n);if(!u)return null;r.assign0(i,o,u)}return r},y.calculate.P={},y.calculate.P.P=function(t,e){var n=t.toQty().div(e.toQty()),r=n.format();return n.isUnitless()?new i(r.scalar):new c(r.scalar,r.units)},y.calculate.P.Q=function(t,e){return y.calculate.P.scalar(t,e.toNumerical())},y.calculate.P.R=function(t,e){return y.calculate.P.scalar(t,e)},y.calculate.P.Z=function(t,e){return y.calculate.P.scalar(t,e)},y.calculate.P.scalar=function(e,n){var r=e.unit.toString(),i=t(e.magnitude,n);return new c(i,r,e.direction)},y.calculate.Q={},y.calculate.Q.C=function(t,e){return y.calculate.C.C(t.toComplex(),e)},y.calculate.Q.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.Q.P=function(t,e){return y.calculate.R.P(t.toNumerical(),e)},y.calculate.Q.R=function(t,e){return y.calculate.R.R(t.toNumerical(),e)},y.calculate.Q.M=function(t,e){return y.calculate.M.scalar(e,t.toNumerical())},y.calculate.Q.Q=function(t,e){return y.calculate.R.R(t.toNumerical(),e.toNumerical())},y.calculate.Q.V=function(t,e){return y.calculate.V.scalar(e,t.toNumerical())},y.calculate.Q.Z=function(t,e){return y.calculate.R.Z(t.toNumerical(),e)},y.calculate.R={},y.calculate.R.C=function(t,e){return y.calculate.C.C(e,t.toComplex())},y.calculate.R.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.R.M=function(t,e){return y.calculate.M.R(e,t)},y.calculate.R.P=function(e,n){var r=n.unit.toString(),i=t(n.magnitude,e);return new c(i,r,n.direction)},y.calculate.R.Q=function(t,e){return y.calculate.Q.R(e,t)},y.calculate.R.R=function(t,n){return t.big||n.big?new i(e.div(t.value,n.value),(!0)):new i(t.value/n.value)},y.calculate.R.V=function(t,e){return y.calculate.V.R(e,t)},y.calculate.R.Z=function(t,e){return y.calculate.R.R(t,e)},y.calculate.V={},y.calculate.V.C=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.I=function(t,e){return y.calculate.V.scalar(t,e.toComplex())},y.calculate.V.R=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.Q=function(t,e){return y.calculate.V.scalar(t,e.toNumerical())},y.calculate.V.V=function(t,e){return console.log("V / V not implemented"),null},y.calculate.V.Z=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.scalar=function(e,n){for(var r=new u(e.arity),i=0;i<e.arity;i++){var o=e.element0(i),a=t(o,n);if(!a)return null;e.assign0(i,a)}return r},y.calculate.Z={},y.calculate.Z.C=function(t,e){return y.calculate.C.C(e,t.toComplex())},y.calculate.Z.I=function(t,e){return y.calculate.C.C(e.toComplex(),t.toComplex())},y.calculate.Z.M=function(t,e){return y.calculate.M.scalar(e,t)},y.calculate.Z.P=function(t,e){return y.calculate.P.scalar(e,t)},y.calculate.Z.R=y.calculate.R.R,y.calculate.Z.Q=function(t,e){return y.calculate.Z.R(t,e.toNumerical())},y.calculate.Z.V=function(t,e){return y.calculate.V.scalar(e,t)},y.calculate.Z.Z=function(t,r){return t.big||r.big?new n.Numerical(e.div(t.value,r.value)):new n.Numerical(t.value/r.value)},f.infinite=function(t,e){if(r.Infinite(t)&&r.Infinite(e))return new n.Indeterminate(new f(t,e),"Divide Infinity by Infinity");if(r.ComplexInfinite(t)&&r.ComplexInfinite(e))return new n.Indeterminate(new f(t,e),"Divide Infinity by Infinity");if(r.Infinite(t)){if(e.isZero())return new n.ComplexInfinite;if(r.Numeric(e))return e.isPositive()?new n.Infinite(t.sign):new n.Infinite((-t.sign))}return r.ComplexInfinite(t)&&r.Numeric(e)?new n.ComplexInfinite:(r.Infinite(e)||r.ComplexInfinite())&&r.Numeric(t)?new n.Integer(0):new n.Undefined(new f(t,e),"Source: divide.js line: 394")},r.in_nodejs()&&(module.exports=f)}.call(this),function(){"use strict";function t(e,n){if(null===e||null===n)return null;if(r.Expression(e)&&r.Expression(n)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),n);var o=n.type_symbol();if("E"===o)return t(e,n.calculate());var a=y.calculate;if(a[i]&&a[i][o]){var c=a[i][o](e,n);return null===c&&console.log("Fraction.calculate null "+e.toString()+"/"+n.toString()),c}return console.log("Fraction.calculate undef "+e.toString()+"/"+n.toString()),null}return console.log("Internal Fraction: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+n+" "+typeof n),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Numerical,o=n.Complex,a=n.Matrix,c=n.Quantity,u=n.Vector,s=n.Add,l=n.Binary,p=n.Multiply,h=(n.Subtract,n.Complexical),f=n.Fraction=function(t,e){return r.Fraction(this)?n.functor.arity(n.functor.Fraction,arguments.length)?void l.call(this,n.functor.Fraction,t,e):n.incorrect_arity(this,n.functor.Fraction,arguments.length):new f(t,e)};r.Fraction=function(t){return t instanceof f};var m=function(){};m.prototype=l.prototype,f.prototype=new m,f.prototype.constructor=f,f.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),f.calculate=function(t,e){return new f(t,e).calculate()},f.prototype.copy=function(){return new f(this.arg(0).copy(),this.arg(1).copy())},f.prototype.isDefined=function(){return!r.Terminal(this.arg(1))||this.arg(1).isDefined()},f.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var y={};y.calculate={},y.calculate.C={},y.calculate.C.C=function(t,e){var r=t.re,i=t.im,o=e.re,a=e.im;if(o.isZero()&&a.isZero())return NaN;var c=new s(new p(o,o),new p(a,a)),u=new f(new s(new p(r,o),new p(i,a)),c),l=new f(new n.Subtract(new p(i,o),new p(r,a)),c),m=u.calculate(),y=l.calculate();if(null!==m&&null!==y)return new h(m,y);throw"C/C returns null"},y.calculate.C.I=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.C.M=function(t,e){return y.calculate.M.C(e,t)},y.calculate.C.Q=function(t,e){return y.calculate.C.C(t,new o(e.toNumerical(),0))},y.calculate.C.R=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.C.V=function(t,e){return y.calculate.V.C(e,t)},y.calculate.C.Z=function(t,e){return y.calculate.C.C(t,e.toComplex())},y.calculate.I={},y.calculate.I.C=function(t,e){return y.calculate.C.C(t.toComplex(),e)},y.calculate.I.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.M=function(t,e){return y.calculate.M.C(e,t.toComplex())},y.calculate.I.Q=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.R=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.I.V=function(t,e){return y.calculate.V.C(e,t.toComplex())},y.calculate.I.Z=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.M={},y.calculate.M.C=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.I=function(t,e){return y.calculate.M.scalar(t,e.toComplex())},y.calculate.M.M=function(t,e){var n=(e.inverse(),new p(t,e));return n.calculate()},y.calculate.M.Q=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.R=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.Z=function(t,e){return y.calculate.M.scalar(t,e)},y.calculate.M.scalar=function(e,n){for(var r=new a(e.rows,e.columns),i=0;i<e.rows;i++)for(var o=0;o<e.columns;o++){var c=e.element0(i,o),u=t(c,n);if(!u)return null;r.assign0(i,o,u)}return r},y.calculate.P={},y.calculate.P.P=function(t,e){var n=t.toQty().div(e.toQty()),r=n.format();return n.isUnitless()?new i(r.scalar):new c(r.scalar,r.units)},y.calculate.P.Q=function(t,e){return y.calculate.P.scalar(t,e.toNumerical())},y.calculate.P.R=function(t,e){return y.calculate.P.scalar(t,e)},y.calculate.P.Z=function(t,e){return y.calculate.P.scalar(t,e)},y.calculate.P.scalar=function(e,n){var r=e.unit.toString(),i=t(e.magnitude,n);return new c(i,r,e.direction)},y.calculate.Q={},y.calculate.Q.C=function(t,e){return y.calculate.C.C(t.toComplex(),e)},y.calculate.Q.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.Q.P=function(t,e){return y.calculate.R.P(t.toNumerical(),e)},y.calculate.Q.R=function(t,e){return y.calculate.R.R(t.toNumerical(),e)},y.calculate.Q.M=function(t,e){return y.calculate.M.scalar(e,t.toNumerical())},y.calculate.Q.Q=function(t,e){return y.calculate.R.R(t.toNumerical(),e.toNumerical())},y.calculate.Q.V=function(t,e){return y.calculate.V.scalar(e,t.toNumerical())},y.calculate.Q.Z=function(t,e){return y.calculate.R.Z(t.toNumerical(),e)},y.calculate.R={},y.calculate.R.C=function(t,e){return y.calculate.C.C(e,t.toComplex())},y.calculate.R.I=function(t,e){return y.calculate.C.C(t.toComplex(),e.toComplex())},y.calculate.R.M=function(t,e){return y.calculate.M.R(e,t)},y.calculate.R.P=function(e,n){var r=n.unit.toString(),i=t(n.magnitude,e);return new c(i,r,n.direction)},y.calculate.R.Q=function(t,e){return y.calculate.Q.R(e,t)},y.calculate.R.R=function(t,n){return t.big?new i(t.value.div(n.value)):n.big?new i(e.div(t.value,n.value),(!0)):new i(t.value/n.value)},y.calculate.R.V=function(t,e){return y.calculate.V.R(e,t)},y.calculate.R.Z=function(t,e){return y.calculate.R.R(t,e)},y.calculate.V={},y.calculate.V.C=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.I=function(t,e){return y.calculate.V.scalar(t,e.toComplex())},y.calculate.V.R=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.Q=function(t,e){return y.calculate.V.scalar(t,e.toNumerical())},y.calculate.V.V=function(t,e){return console.log("V / V not implemented"),null},y.calculate.V.Z=function(t,e){return y.calculate.V.scalar(t,e)},y.calculate.V.scalar=function(e,n){for(var r=new u(e.arity),i=0;i<e.arity;i++){var o=e.element0(i),a=t(o,n);if(!a)return null;e.assign0(i,a)}return r},y.calculate.Z={},y.calculate.Z.C=function(t,e){return y.calculate.C.C(e,t.toComplex())},y.calculate.Z.I=function(t,e){return y.calculate.C.C(e.toComplex(),t.toComplex())},y.calculate.Z.M=function(t,e){return y.calculate.M.scalar(e,t)},y.calculate.Z.P=function(t,e){return y.calculate.P.scalar(e,t)},y.calculate.Z.R=y.calculate.R.R,y.calculate.Z.Q=function(t,e){return y.calculate.Z.R(t,e.toNumerical())},y.calculate.Z.V=function(t,e){return y.calculate.V.scalar(e,t)},y.calculate.Z.Z=function(t,r){return t.big?n.toNumerical(t.value.div(r.value),!0):r.big?n.toNumerical(e.div(t.value,r.value),!0):n.toNumerical(t.value/r.value,!1)},r.in_nodejs()&&(module.exports=f)}.call(this),function(){"use strict";function t(r,i){if(null===r||null===i)throw"calculate null";if(n.Expression(r)&&n.Expression(i)){var o=r.type_symbol(),a=i.type_symbol(),c=e.symbol.Infinite.unicode;if("E"===o)return t(r.calculate(),i);if("E"===a)return t(r,i.calculate());if(o===c||a===c)return d.infinite(r,i);if(r.isZero()&&i.isZero())return new e.Indeterminate(new d(r,i),"Power 0^0");if(i.isZero()&&n.Numeric(r))return new e.Integer(1);if(r.isZero())return i.isPositive()?new e.Integer(0):new e.Indeterminate(new d(r,i));var u=b.calculate;if(u[o]&&u[o][a])return u[o][a](r,i)}return new e.Undefined(new d(r,i))}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Multiply,o=e.Binary,a=e.Integer,c=e.Subtract,u=e.Plus,s=e.Minus,l=e.Exponential,p=e.Logarithm,h=e.Polar,f=(e.Complex,e.Modulo,e.Equal),m=e.Imaginary,y=e.Add,g=e.Rational,d=(e.Cosine,e.Sine,e.Complexical,e.Power=function(t,r){return n.Power(this)?void o.call(this,e.functor.Power,t,r):new d(t,r)});n.Power=function(t){return t instanceof d};var v=function(){};v.prototype=o.prototype,d.prototype=new v,d.prototype.constructor=d,d.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),d.prototype.copy=function(){return new d(this.arg(0).copy(),this.arg(1).copy())},d.prototype.isDefined=function(){return!this.arg(0).isZero()||!this.arg(1).isReal()||!this.arg(0).isZero()&&this.arg(1).isPositive()},d.prototype._calculate=function(){var n=t(this.arg(0),this.arg(1));return null===n?e.calculate_null(this,0):n};var b={};b.calculate={},b.calculate.C={},b.calculate.C.C=function(t,e){var n=t.toPolar(),r=e.re,o=e.im,a=n.distance,c=n.angle,f=new i(new d(a,r),new l(new s(new i(o,c)))),m=new u(new i(o,new p(a)),new i(r,c)),y=new h(f.calculate(),m.calculate());return y.toComplex().calculate()},b.calculate.C.I=function(t,e){return b.calculate.C.C(t,e.toComplex())},b.calculate.C.Q=function(t,e){return b.calculate.C.C(t,e.toComplex())},b.calculate.C.R=function(t,e){return b.calculate.C.C(t,e.toComplex())},b.calculate.C.Z=function(t,n){if(n.isZero())return new a(1);if(n.isOne())return t.copy();if(n.isNegative())return e.failure("Complex numbers and negative Integer powers");var r=c.calculate(n,1);return new i(t.copy(),new d(t.copy(),r)).calculate()},b.calculate.I={},b.calculate.I.C=function(t,n){var r=(t.value.calculate(),n.re.calculate()),o=n.im.calculate(),a=new l(new i(new g((-1),2),e.PI,o)),c=new e.Cosine(new i(new g(1,2),e.PI,r)),u=new e.Sine(new i(new g(1,2),e.PI,r)),s=new m(1);return new y(new i(a,c),new i(s,a.copy(),u)).calculate()},b.calculate.I.I=function(t,n){var r=t.value.calculate(),o=n.value.calculate();if(r.isOne())return l.calculate(new i(e.PI,new g((-1),2),o));if(r.isMinusOne())return l.calculate(new i(e.PI,new g(1,2),o));var a=new l(new i(e.PI,o,new g(1,2))),c=new d(r,new i(new m(o)));return new i(a,c).calculate()},b.calculate.I.Q=function(t,e){return b.calculate.C.C(t.toComplex(),e.toComplex())},b.calculate.I.R=function(t,n){var r=(t.calculate(),new e.Cosine(new i(e.PI,n,new g(1,2)))),o=new i(new m(1),new e.Sine(new i(e.PI,n,new g(1,2))));return new y(r,o).calculate()},b.calculate.I.Z=function(t,n){if(t.value.isOne()&&n.isPositive()){var r=e.Modulo.calculate(n,new a(4));if(r.isZero())return new a(1);if(r.isOne())return new m(1);if(f.compare(r,2))return new a((-1));if(f.compare(r,3))return new m((-1));throw"Cannot happen"}var o=new d(t.value,n).calculate(),c=b.calculate.I.Z(new m(1),n);return new i(o,c).calculate()},b.calculate.M={},b.calculate.P={},b.calculate.P.R=function(t,e){var i=new r(e.value);return n.Integer(i)?b.calculate.P.Z(t,i):null},b.calculate.P.Z=function(t,e){for(var n=t.copy(),r=e.big?e.value.toNumber():e.value,o=1;o<r;o++){var a=new i(n,t);n=a.calculate();
}return n},b.calculate.Q={},b.calculate.Q.C=function(t,e){return b.calculate.C.C(t.toComplex(),e)},b.calculate.Q.I=function(t,e){return b.calculate.R.C(t.toNumerical(),e.toComplex())},b.calculate.Q.Q=function(t,e){return b.calculate.R.R(t.toNumerical(),e.toNumerical())},b.calculate.Q.R=function(t,e){return b.calculate.R.R(t.toNumerical(),e)},b.calculate.Q.Z=function(t,e){return b.calculate.R.Z(t.toNumerical(),e)},b.calculate.R={},b.calculate.R.C=function(t,e){return t.isNegative()?l.calculate(new s(new i(e,new p(new s(t))))):l.calculate(new i(e,new p(t)))},b.calculate.R.I=function(t,n){var r,o,a=new m(1),c=n.value.calculate();return t.isNegative()?(r=new e.Cosine(new i(c,new p(new s(t)))).calculate(),o=new e.Sine(new i(c,new p(new s(t)))).calculate(),new y(r,new i(a,o)).calculate()):(r=new e.Cosine(new i(c,new p(t))).calculate(),o=new e.Sine(new i(c,new p(t))).calculate(),new y(r,new i(a,o)).calculate())},b.calculate.R.Q=function(t,e){return b.calculate.R.R(t,e.toNumerical())},b.calculate.R.R=function(t,n){var i;return t.big?i=t.value.pow(n.value):n.big&&(i=n.value.pow(t.value)),i?i.isNaN()?new e.Undefined(new d(t,n),"Cannot be calculated by Decimal.js"):new r(i,(!0)):(i=Math.pow(t.value,n.value),isNaN(i)?new e.Undefined(new d(t,n),"Cannot be calculated by Math.pow()"):new r(i))},b.calculate.R.Z=b.calculate.R.R,b.calculate.V={},b.calculate.Z={},b.calculate.Z.C=function(t,n){return t.isNegative()?e.Unknown(new d(t,n),"Power of negative Integer and Complex exponent"):l.calculate(new i(n,new p(t)))},b.calculate.Z.I=function(t,n){var r,o,a=new m(1);return t.isNegative()?(r=new e.Cosine(new i(n.value,new p(new s(t)))),o=new i(a,new e.Sine(new i(n.value,new p(new s(t))))),new s(new y(r,o)).calculate()):(r=new e.Cosine(new i(n.value,new p(t))),o=new i(a,new e.Sine(new i(n.value,new p(t)))),new y(r,o).calculate())},b.calculate.Z.Q=function(t,e){return b.calculate.R.R(t,e.toNumerical())},b.calculate.Z.R=b.calculate.R.R,b.calculate.Z.Z=b.calculate.R.R,d.infinite=function(t,r){return n.ComplexInfinite(t)||n.ComplexInfinite(r)?new e.Indeterminate(new d(t,r),"Power involving Complex Infinity"):n.Complexical(t)||n.Complexical(r)?new e.Unknown(new d(t,r),"Source: power.js line: 344"):n.Infinite(t)&&n.Infinite(r)?r.sign===-1?new e.Integer(0):new e.Infinite:n.Infinite(t)&&n.Numeric(r)?r.isZero()?new e.Indeterminate(new d(t,r),"Power Infinity ^ 0"):new e.Infinite(0):n.Infinite(r)&&r.isZero()&&n.Numeric(t)?new e.Indeterminate(new d(t,r),"Power ComplexInfinity"):t.isZero()&&n.Infinite(r)?r.isPositive()?new e.Integer(0):new e.Infinite:n.Numerical(t)&&n.Infinite(r)&&r.isNegative()?new e.Integer(0):t.isPositive()&&n.Infinite(r)?r.isPositive()?r:new e.Integer(0):t.isNegative()&&n.Infinite(r)?t.isMinusOne()?new e.Indeterminate(new d(t,r)):new e.Less(t,(-1)).calculate().value===!0?new e.Infinite((-1)):new e.Integer(0):new e.Undefined(new d(t,r))},n.in_nodejs()&&(module.exports=d)}.call(this),function(){"use strict";function t(e,r){if(null===e||null===r)return null;if(n.Expression(e)&&n.Expression(r)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),r);var o=r.type_symbol();if("E"===o)return t(e,r.calculate());var a=u.calculate;return a[i]&&a[i][o]?a[i][o](e,r):null}return console.log("Internal Modulo: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+r+" "+typeof r),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Integer,o=(e.Real,e.Complex,e.Quantity,e.Vector,e.Matrix,e.Relation,e.Binary),a=e.Modulo=function(t,r){return n.Modulo(this)?void o.call(this,e.functor.Modulo,t,r):new a(t,r)};n.Modulo=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.calculate=function(e,n){return t(e,n)},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.Q={},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.R={},u.calculate.R.Q=function(t,e){return u.calculate.R.R(e.toNumerical(),t)},u.calculate.R.R=function(t,e){return new r(t.big?t.value.modulo(e.value):e.big?e.value.modulo(t.value):t.value%e.value)},u.calculate.R.Z=u.calculate.R.R,u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.Z(e.toNumerical(),t)},u.calculate.Z.R=u.calculate.R.R,u.calculate.Z.Z=function(t,e){return new i(t.big?t.value.modulo(e.value):e.big?e.value.modulo(t.value):t.value%e.value)},n.in_nodejs()&&(module.exports=e.Modulo)}.call(this),function(){"use strict";function t(e,i){if(null===e||null===i)throw"null";if(r.Expression(e)&&r.Expression(i)){var o=e.type_symbol(),a=i.type_symbol(),c=n.symbol.Infinite.unicode;if("E"===o)return t(e.calculate(),i);if("E"===a)return t(e,i.calculate());if(o===c||a===c)return p.infinite(e,i);var u=f.calculate;if(u[o]&&u[o][a])return u[o][a](e,i)}return new n.Undefined(new p(e,i),"Source: subtract.js line: 222")}var e=this.Decimal||require("./decimal.js"),n=this.stem||require("./core"),r=n.is,i=n.Integer,o=n.Numerical,a=(n.Complex,n.Complexical),c=n.Quantity,u=n.Vector,s=n.Matrix,l=n.Binary,p=n.Subtract=function(t,e){return r.Subtract(this)?void l.call(this,n.functor.Subtract,t,e):new p(t,e)};r.Subtract=function(t){return t instanceof p};var h=function(){};h.prototype=l.prototype,p.prototype=new h,p.prototype.constructor=p,p.superclass=l.prototype,l.prototype.constructor==Object.prototype.constructor&&(l.prototype.constructor=l),p.calculate=function(t,e){return new p(t,e).calculate()},p.prototype.copy=function(){return new p(this.arg(0).copy(),this.arg(1).copy())},p.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var f={};f.calculate={},f.calculate.C={},f.calculate.C.C=function(e,n){return new a(t(e.re,n.re),t(e.im,n.im))},f.calculate.C.I=function(t,e){return new p(t,e.toComplex()).calculate()},f.calculate.C.Q=function(e,n){return new a(t(e.re,n.toNumerical()),e.im)},f.calculate.C.R=function(e,n){return new a(t(e.re,n),e.im)},f.calculate.C.Z=function(e,n){return new a(t(e.re,n),e.im)},f.calculate.I={},f.calculate.I.C=function(t,e){return new a(new n.Minus(e.re).calculate(),p.calculate(t.toNumerical(),e.im))},f.calculate.I.I=function(t,e){return new a(0,p.calculate(t.toNumerical(),e.toNumerical()))},f.calculate.I.Q=function(t,e){return new a(new n.Minus(e.toNumerical()).calculate(),t.toNumerical())},f.calculate.I.R=function(t,e){return new a(new n.Minus(e).calculate(),t.toNumerical())},f.calculate.I.Z=function(t,e){return new a(new n.Minus(e).calculate(),t.toNumerical())},f.calculate.M={},f.calculate.M.M=function(e,n){if(e.rows===n.rows&&e.columns===n.columns){for(var r=new s(e.rows,e.columns),i=0;i<e.rows;i++)for(var o=0;o<e.columns;o++)r.assign0(i,o,t(e.element0(i,o),n.element0(i,o)));return r}throw"Matrix subtraction incompatible rows / columns"},f.calculate.P={},f.calculate.P.P=function(t,e){var n=t.unit.mul(t.toNumber()),r=e.unit.mul(e.toNumber()),i=n.sub(r),o=i.toString(),a=o.split(" ");return new c(parseFloat(a[0]),a[1])},f.calculate.Q={},f.calculate.Q.C=function(t,e){return f.calculate.C.C(t.toComplex(),e)},f.calculate.Q.I=function(t,e){return new p(t.toComplex(),e.toComplex()).calculate()},f.calculate.Q.R=function(t,e){return f.calculate.R.R(t.toNumerical(),e)},f.calculate.Q.Z=function(t,e){return f.calculate.R.Z(t.toNumerical(),e)},f.calculate.Q.Q=function(t,e){return f.calculate.R.R(t.toNumerical(),e.toNumerical())},f.calculate.R={},f.calculate.R.C=function(e,n){return new a(t(n.re,e),n.im)},f.calculate.R.I=function(t,e){return new p(t.toComplex(),e.toComplex()).calculate()},f.calculate.R.Q=function(t,e){return f.calculate.R.R(t,e.toNumerical())},f.calculate.R.R=function(t,n){return new o(t.big||n.big?e.sub(t.value,n.value):t.value-n.value)},f.calculate.R.Z=f.calculate.R.R,f.calculate.V={},f.calculate.V.V=function(e,n){if(e.arity!==n.arity)return null;for(var r=[],i=0;i<e.arity;i++){var o=t(e.arg(i),n.arg(i));if(null===o)return null;r[i]=o}return new u(r)},f.calculate.Z={},f.calculate.Z.C=function(e,n){return new a(t(e,n.re),n.im)},f.calculate.Z.I=function(t,e){return new p(t.toComplex(),e.toComplex()).calculate()},f.calculate.Z.Q=function(t,e){return f.calculate.R.Z(e.toNumerical(),t)},f.calculate.Z.R=f.calculate.R.R,f.calculate.Z.Z=function(t,n){return t.big||n.big?new o(e.sub(t.value,n.value)):new i(t.value-n.value)},p.infinite=function(t,e){if(r.ComplexInfinite(t)||r.ComplexInfinite(e))return new n.Indeterminate(new p(t,e),"Subtracting Complex Infinity");if(r.Infinite(t)&&r.Infinite(e))return t.isPositive()&&e.isNegative()?new n.Infinite:e.isPositive()&&t.isNegative()?new n.Infinite:new n.Indeterminate(new p(t,e),"Subtracting Infinity with the same sign");if(r.Numeric(t)){if(r.ComplexInfinite(e))return e;if(r.Infinite(e))return new n.Infinite((-e.sign))}return r.Infinite(t)&&r.Numeric(e)?t:new n.Undefined(new p(t,e),"Source: subtract.js line: 250")},r.in_nodejs()&&(module.exports=n.Subtract)}.call(this),function(){"use strict";function t(e,i){if(null===e||null===i)return null;if(r.Expression(e)&&r.Expression(i)){var o=e.type_symbol();if("E"===o)return t(e.calculate(),i);var a=i.type_symbol();if("E"===a)return t(e,i.calculate());var c=u.calculate;return c[o]&&c[o][a]?c[o][a](e,i):n.failure("ArcTangent2 not defined for "+o+"."+a)}return console.log("Internal ArcTangent2: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+i+" "+typeof i),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Numerical,o=(n.Complex,n.Binary),a=n.ArcTangent2=function(t,e){return r.ArcTangent2(this)?r.unspecified(t)?n.unspecified_argument(this,n.functor.ArcTangent2,1):r.unspecified(e)?n.unspecified_argument(this,n.functor.ArcTangent2,2):void o.call(this,n.functor.ArcTangent2,t,e):new a(t,e)};r.ArcTangent2=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.calculate=function(e,n){return t(e,n)},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.Q={},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.R={},u.calculate.R.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.R.R=function(t,n){return new i(t.big||n.big?e.atan2(t.value,n.value):Math.atan2(t.value,n.value))},u.calculate.R.Z=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.R=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.Z=function(t,e){return u.calculate.R.R(t,e)},r.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e,n){if(null===e||null===n)return null;if(r.Expression(e)&&r.Expression(n)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),n);var o=n.type_symbol();if("E"===o)return t(e,n.calculate());var a=u.calculate;if(a[i]&&a[i][o]){var c=a[i][o](e,n);return null===c&&console.log("Less.calculate null "+e.toString()+"<"+n.toString()),c}return console.log("Less.calculate undef "+e.toString()+"<"+n.toString()),null}return console.log("Internal Less: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+n+" "+typeof n),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Bool,o=n.Binary,a=n.Less=function(t,e){return r.Less(this)?void o.call(this,n.functor.Less,t,e):new a(t,e)};r.Less=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.I={},u.calculate.I.I=function(t,e){return new i(t.value<e.value)},u.calculate.P={},u.calculate.P.P=function(t,e){throw"Less for quantities not implemented"},u.calculate.Q={},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.R={},u.calculate.R.R=function(t,n){return new i(t.big?t.lessThan(n.value):n.big?new e(t.value).lessThan(n.value):t.value<n.value)},u.calculate.R.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.R.Z=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.Z.R=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.Z=function(t,e){return u.calculate.R.R(t,e)},r.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e,n){if(null===e||null===n)return null;if(r.Expression(e)&&r.Expression(n)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),n);var o=n.type_symbol();if("E"===o)return t(e,n.calculate());var a=u.calculate;if(a[i]&&a[i][o]){var c=a[i][o](e,n);return null===c&&console.log("Greater.calculate null "+e.toString()+">"+n.toString()),c}return console.log("Greater.calculate undef "+e.toString()+">"+n.toString()),null}return console.log("Internal Greater: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+n+" "+typeof n),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Bool,o=n.Binary,a=n.Greater=function(t,e){return r.Greater(this)?void o.call(this,n.functor.Greater,t,e):new a(t,e)};r.Greater=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.I={},u.calculate.I.I=function(t,e){return new i(t.value>e.value)},u.calculate.P={},u.calculate.P.P=function(t,e){throw"Greater for quantities not implemented"},u.calculate.Q={},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.R={},u.calculate.R.R=function(t,n){return new i(t.big?t.value.greaterThan(n.value):n.big?new e(t.value).greaterThan(n.value):t.value>n.value)},u.calculate.R.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.R.Z=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.Z.R=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.Z=function(t,e){return u.calculate.R.R(t,e)},r.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e,n){if(null===e||null===n)return null;if(r.Expression(e)&&r.Expression(n)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),n);var o=n.type_symbol();if("E"===o)return t(e,n.calculate());var a=u.calculate;if(a[i]&&a[i][o]){var c=a[i][o](e,n);return null===c&&console.log("LessEqual.calculate null "+e.toString()+"<="+n.toString()),c}return console.log("LessEqual.calculate undef "+e.toString()+"<="+n.toString()),null}return console.log("Internal LessEqual: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+n+" "+typeof n),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Bool,o=n.Binary,a=n.LessEqual=function(t,e){return r.LessEqual(this)?void o.call(this,n.functor.LessEqual,t,e):new a(t,e)};r.LessEqual=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.I={},u.calculate.I.I=function(t,e){return new i(t.value<=e.value)},u.calculate.P={},u.calculate.P.P=function(t,e){throw"LessEqual for quantities not implemented"},u.calculate.Q={},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.R={},u.calculate.R.R=function(t,n){return new i(t.big?t.value.lessThanOrEqualTo(n.value):n.big?new e(t.value).lessThanOrEqualTo(n.value):t.value<=n.value)},u.calculate.R.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.R.Z=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.Z.R=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.Z=function(t,e){return u.calculate.R.R(t,e)},r.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";function t(e,n){if(null===e||null===n)return null;if(r.Expression(e)&&r.Expression(n)){var i=e.type_symbol();if("E"===i)return t(e.calculate(),n);var o=n.type_symbol();if("E"===o)return t(e,n.calculate());var a=u.calculate;if(a[i]&&a[i][o]){var c=a[i][o](e,n);return null===c&&console.log("GreaterEqual.calculate null "+e.toString()+">="+n.toString()),c}return console.log("GreaterEqual.calculate undef "+e.toString()+">="+n.toString()),null}return console.log("Internal GreaterEqual: calculate not object arguments"),console.log("    "+e+" "+typeof e),console.log("    "+n+" "+typeof n),null}var e=this.Decimal||require("./decimal"),n=this.stem||require("./core"),r=n.is,i=n.Bool,o=n.Binary,a=n.GreaterEqual=function(t,e){return r.GreaterEqual(this)?void o.call(this,n.functor.GreaterEqual,t,e):new a(t,e)};r.GreaterEqual=function(t){return t instanceof a};var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=o.prototype,o.prototype.constructor==Object.prototype.constructor&&(o.prototype.constructor=o),a.calculate=function(e,n){return t(e,n)},a.prototype.copy=function(){return new a(this.arg(0).copy(),this.arg(1).copy())},a.prototype._calculate=function(){return t(this.arg(0),this.arg(1))};var u={};u.calculate={},u.calculate.I={},u.calculate.I.I=function(t,e){return new i(t.value>=e.value)},u.calculate.P={},u.calculate.P.P=function(t,e){throw"GreaterEqual for quantities not implemented"},u.calculate.Q={},u.calculate.Q.Q=function(t,e){return u.calculate.R.R(t.toNumerical(),e.toNumerical())},u.calculate.Q.R=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.Q.Z=function(t,e){return u.calculate.R.R(t.toNumerical(),e)},u.calculate.R={},u.calculate.R.R=function(t,n){return new i(t.big?t.value.greaterThanOrEqualTo(n.value):n.big?new e(t.value).greaterThanOrEqualTo(n.value):t.value>=n.value)},u.calculate.R.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.R.Z=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z={},u.calculate.Z.Q=function(t,e){return u.calculate.R.R(t,e.toNumerical())},u.calculate.Z.R=function(t,e){return u.calculate.R.R(t,e)},u.calculate.Z.Z=function(t,e){return u.calculate.R.R(t,e)},r.in_nodejs()&&(module.exports=a)}.call(this),function(){"use strict";var t=(this.Decimal||require("./decimal"),this.stem||require("./core")),e=t.is,n=(t.Numerical,t.Complex,t.Matrix,t.Quantity,t.Vector,t.Add,t.Relation),r=(t.Multiply,t.Subtract,t.Conditional=function(i,o){return e.Conditional(this)?t.functor.arity(t.functor.Conditional,arguments.length)?void n.call(this,t.functor.Conditional,i,o):t.incorrect_arity(this,t.functor.Conditional,arguments.length):new r(i,o)});e.Conditional=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.copy=function(){return new r(this.arg(0).copy(),this.arg(1).copy())},r.prototype._calculate=function(){var n=this.arg(0)._calculate();if(e.Bool(n)&&n.value===!0){var r=this.arg(1)._calculate();return null===r?t.calculate_null(this,1):r}return null},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=(this.Decimal||require("./decimal"),this.stem||require("./core")),e=t.is,n=(t.Numerical,t.Complex,t.Matrix,t.Quantity,t.Vector,t.Add,t.Relation),r=(t.Multiply,t.Subtract,t.Cases=function(){if(!e.Cases(this))return new r(arguments);var i;i=1===arguments.length?e.array(arguments[0])?arguments[0]:e.object(arguments[0])&&arguments[0][0]?Array.prototype.slice.call(arguments[0]):[arguments[0]]:Array.prototype.slice.call(arguments),n.call(this,t.functor.Cases,i)});e.Cases=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.copy=function(){for(var t=[],e=0;e<this.arity;e++)t[e]=this.arg(e).copy();return new r(t)},r.prototype._calculate=function(){for(var t=0;t<this.arity;t++){var n=this.arg(t);if(e.Conditional(n)){var r=n.calculate();if(console.log(n.toString()+".calculate "+r),null===r)continue;return console.log(r),r}return n.calculate()}return null},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Bool,t.Relation),r=t.Approximate=function(i,o,a){if(!e.Approximate(this))return new r(i,o);var c=t.functor.Approximate;if(!t.functor.arity(c,arguments.length))return t.incorrect_arity(this,c,arguments.length);var u=t.toExpression(i,!1);if(e.NoValue(u))return t.expected_expression("new Approximate("+i.toString()+", ...)");var s=t.toExpression(o,!1);return e.NoValue(s)?t.expected_expression("new Approximate(..., "+o.toString()+")"):(n.call(this,c,u,s),void(this._epsilon=void 0===a?new t.Real(1e-5):this.epsilon(a)))};e.Approximate=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.epsilon=function(n){if(void 0===n)return this._epsilon;var r=t.toExpression(n,!1);return e.NoValue(r)?(this._epsilon=new t.Real(1e-5),t.expected_expression("new Approximate: epsilon not an expression")):(this._epsilon=r,r)},r.prototype.copy=function(){return new r(this.args[0].copy(),this.args[1].copy(),this._epsilon.copy())},r.prototype._variables=function(t){return this._epsilon._variables(t),n.prototype._variables.call(this,t)},r.prototype._calculate=function(){var e=this.arg(0),n=this.arg(1),r=this._epsilon,i=new t.Absolute(new t.Subtract(e,n));return new t.LessEqual(i,r).calculate()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";function t(e){if(null===e)return null;if(n.Expression(e)){var r=e.type_symbol();if("E"===r)return t(e.calculate());var i=m.calculate;return i[r]?i[r](e):(console.log("SquareRoot not defined for "+r),null)}return console.log("Internal SquareRoot: calculate not object arguments"),console.log("    "+e+" "+typeof e),null}var e=this.stem||require("./core"),n=e.is,r=e.Numerical,i=e.Complex,o=e.Multiply,a=e.Signum,c=e.Minus,u=e.Power,s=e.Divide,l=e.Add,p=e.Relation,h=e.SquareRoot=function(t){return n.SquareRoot(this)?n.unspecified(t)?e.unspecified_argument(this,e.functor.SquareRoot,1):void p.call(this,e.functor.SquareRoot,t):new h(t)};n.SquareRoot=function(t){return t instanceof h};var f=function(){};f.prototype=p.prototype,h.prototype=new f,h.prototype.constructor=h,h.superclass=p.prototype,p.prototype.constructor==Object.prototype.constructor&&(p.prototype.constructor=p),h.prototype.copy=function(){return new h(this.arg(0).copy(),this.degree)},h.prototype._calculate=function(){return t(this.arg(0))};var m={};m.calculate={},m.calculate.C=function(t){var e=t.re,n=t.im,p=new h(new s(new l(e,new h(new u(e,2),new u(n,2))),2)),f=new o(new a(n),new h(new s(new l(new c(e),new h(new u(e,2),new u(n,2))),2))),m=(new s(e,new l(new u(e,2),new u(n,2))),new c(new s(n,new l(new u(e,2),new u(n,2)))),[]),y=p.calculate(),g=f.calculate();new r((-g));return m.push(new i(y,g)),m.push(new i(y,new r((-g)))),m},m.calculate.Q=function(t){return m.calculate.R(t.toNumerical())},m.calculate.R=function(t){return new r(t.big?t.value.sqrt():Math.sqrt(t.value))},m.calculate.Z=function(t){return new r(t.big?t.value.sqrt():Math.sqrt(t.value))},n.in_nodejs()&&(module.exports=h)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Numerical,t.Relation),r=t.Differential=function(i){return e.Differential(this)?void n.call(this,t.functor.Differential,i):new r(i)};e.Differential=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.copy=function(){return new r(this.arg(0).copy())},r.prototype._calculate=function(){return t.NoValue},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Numerical,t.Binary),r=t.Interval=function(i,o,a,c){return e.Interval(this)?(this.minimum_inclusive=void 0!==a&&a,this.maximum_inclusive=void 0!==c&&c,void n.call(this,t.functor.Interval,i,o)):new r(i,o)};e.Interval=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype._open=function(){return this.minimum_inclusive?"[":"("},r.prototype._close=function(){return this.maximum_inclusive?"]":")"},r.prototype.copy=function(){return new r(this.arg(0).copy(),this.arg(1).copy(),this.minimum_inclusive,this.maximum_inclusive)},r.prototype._calculate=function(){return null},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Expression,r=t.Exception=function(){return e.Exception(this)?void n.call(this):new r};e.Exception=function(t){return t instanceof r};var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),r.prototype.class_name=function(){return"Exception"},r.prototype.type_symbol=function(){return"X"},r.prototype.calculate=function(){return this._calculate()},e.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Indeterminate=function(r,i){return e.Indeterminate(this)?(t.Exception.call(this),e.Expression(r)?(this.expression=r,void(this.description=i)):t.failure("new Indeterminate(arg) needs expression arg")):new n(r,i)};e.Indeterminate=function(t){return t instanceof n};var r=function(){};r.prototype=t.Exception.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=t.Exception.prototype,t.Exception.prototype.constructor==Object.prototype.constructor&&(t.Exception.prototype.constructor=t.Exception),n.prototype.class_name=function(){return"Indeterminate"},n.prototype.copy=function(){return new n(this.expression.copy())},n.prototype.calculate=function(){return null},n.prototype.computable=function(){return!1},e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Undefined=function(r,i){return e.Undefined(this)?(t.Exception.call(this),e.Expression(r)?(this.expression=r,void(this.description=i)):t.failure("new Undefined(arg) needs expression arg")):new n(r,i)};e.Undefined=function(t){return t instanceof n};var r=function(){};r.prototype=t.Exception.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=t.Exception.prototype,t.Exception.prototype.constructor==Object.prototype.constructor&&(t.Exception.prototype.constructor=t.Exception),n.prototype.class_name=function(){return"Undefined"},n.prototype.copy=function(){return new n(this.expression.copy())},n.prototype.calculate=function(){return this},n.prototype.computable=function(){return!1},e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Unknown=function(r,i){return e.Unknown(this)?(t.Exception.call(this),e.Expression(r)?(this.expression=r,void(this.description=i)):t.failure("new Unknown(arg) needs expression arg")):new n(r,i)};e.Unknown=function(t){return t instanceof n};var r=function(){};r.prototype=t.Exception.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=t.Exception.prototype,t.Exception.prototype.constructor==Object.prototype.constructor&&(t.Exception.prototype.constructor=t.Exception),n.prototype.class_name=function(){return"Unknown"},n.prototype.copy=function(){return new n(this.expression.copy())},n.prototype.calculate=function(){return this},n.prototype.computable=function(){return!1},e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.Integer,i=e.Real,o=(e.Complex,e.Complexical);e.Quantity,e.Vector,e.Matrix,e.Imaginary,e.Relation,e.Rational;e.calculate={};var a=e.calculate.add={},c=e.calculate.mul={};a.QQ=function(t,n){var r=t.numerator,i=t.denominator,o=n.numerator,u=n.denominator,s=c.ZZ(r,u),l=c.ZZ(i,o),p=c.ZZ(i,u),h=a.ZZ(s,l);return new e.Divide(h,p).calculate()},a.RZ=function(e,n){return e.isInteger()?a.ZZ(e,n):new i(e.big?e.value.plus(n.value):n.big?n.value.plus(e.value):a.big(e)||a.big(n)?new t(e.value).plus(n.value):e.value+n.value)},a.ZZ=function(e,n){return new r(e.big?e.value.plus(n.value):n.big?n.value.plus(e.value):a.big(e)||a.big(n)?new t(e.value).plus(n.value):e.value+n.value)},a.RR=function(e,n){return new i(e.big?e.value.plus(n.value):n.big?n.value.plus(e.value):a.big(e)||a.big(n)?new t(e.value).plus(n.value):e.value+n.value)},a.CC=function(t,n){var r=t.re.calculate(),i=t.im.calculate();if(r===e.NoValue||i===e.NoValue)return e.calculate_null(t);var a=n.re.calculate(),c=n.im.calculate();if(a===e.NoValue||c===e.NoValue)return e.calculate_null(n);var u=new e.Add(r,a).calculate(),s=new e.Add(i,c).calculate();return new o(u,s)},a.CR=function(t,r){var i=t.re.calculate(),c=t.im.calculate();if(n.NoValue(i)||n.NoValue(c))return e.calculate_null(t);var u=a.RR(i,r),s=c;return new o(u,s)},a.CQ=function(t,e){return a.CR(t,e.toNumerical())},a.CZ=function(t,e){return a.CR(t,e)},a.QR=function(t,e){return a.RR(t.toNumerical(),e)},a.big=function(t){return t>=e.HalfMaxInt||t<=e.HalfMinInt},c.big=function(t){return t>=e.RootMaxInt||t<=e.RootMinInt},c.ZZ=function(n,i){if(n.big||i.big)return new r(n.value.mul(i.value));var o=n.value,a=i.value;return o>=e.RootMaxInt||o<=e.RootMinInt||a>=e.RootMaxInt||a<=e.RootMinInt?(console.log("mul.ZZ converting to bigInt"),n.print_structure(),i.print_structure(),new r(new t(o).mul(a))):new r(o*a)}}.call(this),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z.Add(t)}function e(){
for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z.Multiply(t)}function n(t,e){return new z.Subtract(t,e)}function r(t,e){return new z.Divide(t,e)}function i(t,e){return new z.Fraction(t,e)}function o(t){return new z.Factorial(t)}function a(t){return new z.DoubleFactorial(t)}function c(t){return new z.PlusMinus(t)}function u(t,e){return new z.Power(t,e)}function s(t,e){return new z.SquareRoot(t,e)}function l(t,e){return new z.CubeRoot(t,e)}function p(t,e){return new z.Logarithm(t,e)}function h(t){return new z.Exponential(t)}function f(t,e){return new z.Equation(t,e)}function m(t,e){return new z.Variable(t,e)}function y(t,e){return new z.Complex(t,e)}function g(t){return new z.Imaginary(t)}function d(t){return new z.Sine(t)}function v(t){return new z.Cosine(t)}function b(t){return new z.Tangent(t)}function w(t){return new z.Cosecant(t)}function x(t){return new z.Secant(t)}function _(t){return new z.Cotangent(t)}function C(t){return new z.ArcSine(t)}function R(t){return new z.ArcCosine(t)}function I(t){return new z.ArcTangent(t)}function N(t){return new z.HyperbolicSine(t)}function E(t){return new z.HyperbolicCosine(t)}function S(t){return new z.HyperbolicTangent(t)}function A(t){return new z.ArcHyperbolicSine(t)}function k(t){return new z.ArcHyperbolicCosine(t)}function M(t){return new z.ArcHyperbolicTangent(t)}function q(t){return new z.Ceiling(t)}function P(t){return new z.Floor(t)}function O(t){return new z.Minimum(t)}function j(t){return new z.Maximum(t)}function T(t,e){return new z.Modulo(t,e)}function Z(t){return new z.Differential(t)}function V(t,e){return new z.Less(t,e)}function Q(t,e){return new z.Greater(t,e)}function B(t,e){return new z.LessEqual(t,e)}function D(t,e){return new z.GreaterEqual(t,e)}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z.Equal(t)}function $(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z.Unequal(t)}function F(t,e){return new z.Conditional(t,e)}function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new z.Or(t)}function U(t){return G.object(t)?new z.Constant(t):z.constant[t]}var z=this.stem||require("./core"),G=z.is,X=z.symbol,K=(z.Imaginary,z.parser=z.parser||{});K.parse=function(t){return K.grammar.parse(t)},K.logic_parse=function(t){return K.logic_grammar.parse(t)},K.grammar=function(){var K=function(){function K(){this.yy={}}var Y=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},W=[1,3],J=[1,10],tt=[1,4],et=[1,5],nt=[1,8],rt=[1,7],it=[1,6],ot=[1,9],at=[1,11],ct=[1,12],ut=[1,13],st=[1,14],lt=[1,15],pt=[1,16],ht=[1,17],ft=[1,18],mt=[1,19],yt=[1,20],gt=[1,21],dt=[1,22],vt=[1,23],bt=[1,24],wt=[1,25],xt=[1,26],_t=[1,27],Ct=[1,28],Rt=[1,29],It=[1,30],Nt=[1,31],Et=[1,32],St=[1,33],At=[1,34],kt=[1,35],Mt=[1,36],qt=[1,37],Pt=[1,38],Ot=[1,40],jt=[1,41],Tt=[1,42],Zt=[1,43],Vt=[1,45],Qt=[1,46],Bt=[1,47],Dt=[1,48],Ht=[1,49],$t=[1,50],Ft=[1,51],Lt=[1,52],Ut=[1,53],zt=[1,54],Gt=[1,55],Xt=[1,56],Kt=[1,57],Yt=[1,58],Wt=[1,59],Jt=[1,60],te=[1,61],ee=[1,62],ne=[1,63],re=[1,64],ie=[1,65],oe=[1,66],ae=[1,67],ce=[1,68],ue=[1,69],se=[1,70],le=[5,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,42,48,50],pe=[5,7,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,42,48,50,74],he=[2,73],fe=[1,74],me=[2,75],ye=[5,8,13,14,15,20,42,48,50],ge=[5,8,13,14,15,16,17,18,19,20,42,48,50],de=[5,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,42,48,50],ve=[5,8,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,42,48,50],be=[5,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,42,48,50],we=[8,50],xe={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,IF:6,"(":7,")":8,THEN:9,I:10,DIFF:11,variable:12,"==":13,"!=":14,"~=":15,"<":16,"=<":17,">":18,">=":19,"=":20,"+":21,AND:22,OR:23,XOR:24,NOR:25,XNOR:26,NAND:27,IMPLIES:28,EQUIVALENCE:29,"-":30,MOD:31,"*":32,"//":33,"/":34,_:35,"^":36,FACTORIAL:37,DOUBLE_FACTORIAL:38,PM:39,NOT:40,"{":41,"}":42,NUMBER:43,INFINITY:44,SQRT:45,CBRT:46,"[":47,"]":48,LOG:49,",":50,SIN:51,COS:52,FLOOR:53,CEIL:54,ABS:55,EXP:56,TAN:57,CSC:58,SEC:59,COT:60,SINH:61,COSH:62,TANH:63,ASIN:64,ACOS:65,ATAN:66,ASINH:67,ACOSH:68,ATANH:69,BINOMIAL:70,MIN:71,arguments:72,MAX:73,":":74,E:75,PI:76,VARIABLE:77,QUOTED_VARIABLE:78,arguments2:79,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"IF",7:"(",8:")",9:"THEN",10:"I",11:"DIFF",13:"==",14:"!=",15:"~=",16:"<",17:"=<",18:">",19:">=",20:"=",21:"+",22:"AND",23:"OR",24:"XOR",25:"NOR",26:"XNOR",27:"NAND",28:"IMPLIES",29:"EQUIVALENCE",30:"-",31:"MOD",32:"*",33:"//",34:"/",35:"_",36:"^",37:"FACTORIAL",38:"DOUBLE_FACTORIAL",39:"PM",40:"NOT",41:"{",42:"}",43:"NUMBER",44:"INFINITY",45:"SQRT",46:"CBRT",47:"[",48:"]",49:"LOG",50:",",51:"SIN",52:"COS",53:"FLOOR",54:"CEIL",55:"ABS",56:"EXP",57:"TAN",58:"CSC",59:"SEC",60:"COT",61:"SINH",62:"COSH",63:"TANH",64:"ASIN",65:"ACOS",66:"ATAN",67:"ASINH",68:"ACOSH",69:"ATANH",70:"BINOMIAL",71:"MIN",73:"MAX",74:":",75:"E",76:"PI",77:"VARIABLE",78:"QUOTED_VARIABLE"},productions_:[0,[3,2],[4,8],[4,2],[4,1],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,1],[4,1],[4,4],[4,4],[4,7],[4,4],[4,6],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,6],[4,4],[4,4],[4,4],[4,3],[4,1],[4,1],[4,1],[12,1],[12,1],[12,1],[72,0],[72,1],[79,1],[79,3]],performAction:function(K,Y,W,J,tt,et,nt){var rt=et.length-1;switch(tt){case 1:return et[rt-1];case 2:this.$=F(et[rt-5],et[rt-1]);break;case 3:this.$=g(et[rt]);break;case 4:this.$=g(1);break;case 5:this.$=Z(et[rt]);break;case 6:this.$=H(et[rt-2],et[rt]);break;case 7:this.$=$(et[rt-2],et[rt]);break;case 8:this.$=z.Approximate(et[rt-2],et[rt]);break;case 9:this.$=V(et[rt-2],et[rt]);break;case 10:this.$=B(et[rt-2],et[rt]);break;case 11:this.$=Q(et[rt-2],et[rt]);break;case 12:this.$=D(et[rt-2],et[rt]);break;case 13:this.$=f(et[rt-2],et[rt]);break;case 14:G.Imaginary(et[rt])?this.$=y(et[rt-2],et[rt].value):this.$=t(et[rt-2],et[rt]);break;case 15:this.$=z.And(et[rt-2],et[rt]);break;case 16:this.$=L(et[rt-2],et[rt]);break;case 17:this.$=z.Xor(et[rt-2],et[rt]);break;case 18:this.$=z.Nor(et[rt-2],et[rt]);break;case 19:this.$=z.Xnor(et[rt-2],et[rt]);break;case 20:this.$=z.Nand(et[rt-2],et[rt]);break;case 21:this.$=z.Implies(et[rt-2],et[rt]);break;case 22:this.$=z.Equivalence(et[rt-2],et[rt]);break;case 23:G.Imaginary(et[rt])?this.$=y(et[rt-2],-et[rt].value):this.$=n(et[rt-2],et[rt]);break;case 24:this.$=T(et[rt-2],et[rt]);break;case 25:this.$=e(et[rt-2],et[rt]);break;case 26:this.$=i(et[rt-2],et[rt]);break;case 27:this.$=r(et[rt-2],et[rt]);break;case 28:this.$={functor:"subscript",args:[et[rt-2],et[rt]]};break;case 29:this.$=u(et[rt-2],et[rt]);break;case 30:this.$=o(et[rt-1]);break;case 31:this.$=a(et[rt-1]);break;case 32:G.Infinite(et[rt])?this.$=new z.ComplexInfinite:this.$=c(et[rt]);break;case 33:G.Numerical(et[rt])?this.$=et[rt].negate():G.Infinite(et[rt])?this.$=new z.Infinite((-1)):this.$=new z.Minus(et[rt]);break;case 34:G.Numerical(et[rt])?this.$=et[rt]:G.Infinite(et[rt])?this.$=new z.Infinite:this.$=new z.Plus(et[rt]);break;case 35:this.$=z.Not(et[rt]);break;case 36:this.$=et[rt-1];break;case 37:this.$={type:"braces",arg:[et[rt-2]]};break;case 38:this.$=z.toNumerical(et[rt]);break;case 39:this.$=new z.Infinite;break;case 40:this.$=s(et[rt-1]);break;case 41:this.$=l(et[rt-1]);break;case 42:this.$=s(et[rt-1],et[rt-4]);break;case 43:this.$=p(et[rt-1]);break;case 44:this.$=p(et[rt-3],et[rt-1]);break;case 45:this.$=d(et[rt-1]);break;case 46:this.$=v(et[rt-1]);break;case 47:this.$=P(et[rt-1]);break;case 48:this.$=q(et[rt-1]);break;case 49:this.$=abs(et[rt-1]);break;case 50:this.$=h(et[rt-1]);break;case 51:this.$=b(et[rt-1]);break;case 52:this.$=w(et[rt-1]);break;case 53:this.$=x(et[rt-1]);break;case 54:this.$=_(et[rt-1]);break;case 55:this.$=N(et[rt-1]);break;case 56:this.$=E(et[rt-1]);break;case 57:this.$=S(et[rt-1]);break;case 58:this.$=C(et[rt-1]);break;case 59:this.$=R(et[rt-1]);break;case 60:this.$=I(et[rt-1]);break;case 61:this.$=A(et[rt-1]);break;case 62:this.$=k(et[rt-1]);break;case 63:this.$=M(et[rt-1]);break;case 64:this.$=new z.Binomial(et[rt-3],et[rt-1]);break;case 65:this.$=O(arguments);break;case 66:this.$=j(arguments);break;case 67:this.$={functor:"function",name:et[rt-3],args:et[rt-1]};break;case 68:var it=et[rt-2],ot=X.greek(it),at=et[rt],ct=X.greek(at),ut=it+":"+at,st={symbol:at,unicode:at,latex:at};ct&&(st.greek=!0,st.latex=ct.latex,st.unicode=ct.unicode,st.html=ct.html),ot?this.$=m(ut,{greek:!0,latex:ot.latex,unicode:ot.unicode,html:ot.html,subscript:st}):this.$=m(ut,{latex:it,unicode:it,subscript:st});break;case 69:var ut=et[rt],lt=X.greek(ut);lt?this.$=m(ut,{greek:!0,latex:lt.latex,unicode:lt.unicode,html:lt.html}):this.$=m(ut);break;case 70:this.$=U("E");break;case 71:this.$=U("PI");break;case 72:case 76:this.$=et[rt];break;case 73:this.$="d";break;case 74:this.$=et[rt].slice(1,et[rt].length-1);break;case 75:case 77:this.$=[et[rt]];break;case 78:this.$=et[rt-2].concat([et[rt]])}},table:[{3:1,4:2,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{1:[3]},{5:[1,44],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{7:[1,71]},Y(le,[2,4],{12:39,4:72,6:W,7:J,10:tt,11:et,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt}),Y(pe,he,{12:73,11:fe,77:Tt,78:Zt}),{4:75,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:76,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:77,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:78,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:79,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:80,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y(le,[2,38]),Y(le,[2,39]),{7:[1,81],47:[1,82]},{7:[1,83]},{7:[1,84]},{7:[1,85]},{7:[1,86]},{7:[1,87]},{7:[1,88]},{7:[1,89]},{7:[1,90]},{7:[1,91]},{7:[1,92]},{7:[1,93]},{7:[1,94]},{7:[1,95]},{7:[1,96]},{7:[1,97]},{7:[1,98]},{7:[1,99]},{7:[1,100]},{7:[1,101]},{7:[1,102]},{7:[1,103]},{7:[1,104]},{7:[1,105]},{7:[1,106]},Y(le,[2,69],{7:[1,107],74:[1,108]}),Y(le,[2,70]),Y(le,[2,71]),Y(pe,[2,72]),Y(pe,[2,74]),{1:[2,1]},{4:109,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:110,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:111,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:112,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:113,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:114,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:115,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:116,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:117,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:118,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:119,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:120,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:121,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:122,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:123,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:124,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:125,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:126,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:127,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:128,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:129,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:130,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:131,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:132,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y(le,[2,30]),Y(le,[2,31]),{4:133,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y([5,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,42,48,50],[2,3],{37:ue,38:se}),Y(le,[2,5]),Y(le,he),Y(le,[2,32]),Y(le,[2,33]),Y(le,[2,34]),Y(le,[2,35]),{8:[1,134],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se,42:[1,135]},{4:136,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:137,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:138,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:139,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:140,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:141,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:142,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:143,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:144,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:145,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:146,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:147,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:148,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:149,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:150,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:151,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:152,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:153,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:154,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:155,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:156,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:157,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:158,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:159,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{4:162,6:W,7:J,8:me,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,72:160,73:Pt,75:Ot,76:jt,77:Tt,78:Zt,79:161},{4:162,6:W,7:J,8:me,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,72:163,73:Pt,75:Ot,76:jt,77:Tt,78:Zt,79:161},{4:162,6:W,7:J,8:me,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,72:164,73:Pt,75:Ot,76:jt,77:Tt,78:Zt,79:161},{11:fe,12:165,77:Tt,78:Zt},Y(ye,[2,6],{16:Dt,17:Ht,18:$t,19:Ft,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ye,[2,7],{16:Dt,17:Ht,18:$t,19:Ft,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ye,[2,8],{16:Dt,17:Ht,18:$t,19:Ft,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ge,[2,9],{21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ge,[2,10],{21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ge,[2,11],{21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ge,[2,12],{21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y([5,8,42,48,50],[2,13],{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(de,[2,14],{31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,15],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,16],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,17],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,18],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,19],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,20],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,21],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(ve,[2,22],{21:Ut,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(de,[2,23],{31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),Y(be,[2,24],{35:ae,36:ce,37:ue,38:se}),Y(be,[2,25],{35:ae,36:ce,37:ue,38:se}),Y(be,[2,26],{35:ae,36:ce,37:ue,38:se}),Y(be,[2,27],{35:ae,36:ce,37:ue,38:se}),Y(be,[2,28],{35:ae,36:ce,37:ue,38:se}),Y(be,[2,29],{35:ae,36:ce,37:ue,38:se}),{8:[1,166],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},Y(le,[2,36]),Y(le,[2,37]),{8:[1,167],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se,48:[1,168]},{8:[1,169],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,170],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se,50:[1,171]},{8:[1,172],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,173],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,174],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,175],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,176],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,177],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,178],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,179],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,180],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,181],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,182],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,183],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,184],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,185],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,186],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,187],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,188],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,189],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,190],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se,50:[1,191]},{8:[1,192]},{8:[2,76],50:[1,193]},Y(we,[2,77],{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se
}),{8:[1,194]},{8:[1,195]},Y(le,[2,68]),{9:[1,196]},Y(le,[2,40]),{7:[1,197]},Y(le,[2,41]),Y(le,[2,43]),{4:198,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y(le,[2,45]),Y(le,[2,46]),Y(le,[2,47]),Y(le,[2,48]),Y(le,[2,49]),Y(le,[2,50]),Y(le,[2,51]),Y(le,[2,52]),Y(le,[2,53]),Y(le,[2,54]),Y(le,[2,55]),Y(le,[2,56]),Y(le,[2,57]),Y(le,[2,58]),Y(le,[2,59]),Y(le,[2,60]),Y(le,[2,61]),Y(le,[2,62]),Y(le,[2,63]),{4:199,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y(le,[2,65]),{4:200,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},Y(le,[2,66]),Y(le,[2,67]),{7:[1,201]},{4:202,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{8:[1,203],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},{8:[1,204],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},Y(we,[2,78],{13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se}),{4:205,6:W,7:J,10:tt,11:et,12:39,21:nt,30:rt,39:it,40:ot,41:at,43:ct,44:ut,45:st,46:lt,49:pt,51:ht,52:ft,53:mt,54:yt,55:gt,56:dt,57:vt,58:bt,59:wt,60:xt,61:_t,62:Ct,63:Rt,64:It,65:Nt,66:Et,67:St,68:At,69:kt,70:Mt,71:qt,73:Pt,75:Ot,76:jt,77:Tt,78:Zt},{8:[1,206],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},Y(le,[2,44]),Y(le,[2,64]),{8:[1,207],13:Vt,14:Qt,15:Bt,16:Dt,17:Ht,18:$t,19:Ft,20:Lt,21:Ut,22:zt,23:Gt,24:Xt,25:Kt,26:Yt,27:Wt,28:Jt,29:te,30:ee,31:ne,32:re,33:ie,34:oe,35:ae,36:ce,37:ue,38:se},Y(le,[2,42]),Y(le,[2,2])],defaultActions:{44:[2,1]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){function e(){var t;return t=m.lex()||h,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],i=[null],o=[],a=this.table,c="",u=0,s=0,l=0,p=2,h=1,f=o.slice.call(arguments,1),m=Object.create(this.lexer),y={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(y.yy[g]=this.yy[g]);m.setInput(t,y.yy),y.yy.lexer=m,y.yy.parser=this,"undefined"==typeof m.yylloc&&(m.yylloc={});var d=m.yylloc;o.push(d);var v=m.options&&m.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,w,x,_,C,R,I,N,E,S={};;){if(x=r[r.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==b&&"undefined"!=typeof b||(b=e()),_=a[x]&&a[x][b]),"undefined"==typeof _||!_.length||!_[0]){var A="";E=[];for(R in a[x])this.terminals_[R]&&R>p&&E.push("'"+this.terminals_[R]+"'");A=m.showPosition?"Parse error on line "+(u+1)+":\n"+m.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(A,{text:m.match,token:this.terminals_[b]||b,line:m.yylineno,loc:d,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+b);switch(_[0]){case 1:r.push(b),i.push(m.yytext),o.push(m.yylloc),r.push(_[1]),b=null,w?(b=w,w=null):(s=m.yyleng,c=m.yytext,u=m.yylineno,d=m.yylloc,l>0&&l--);break;case 2:if(I=this.productions_[_[1]][1],S.$=i[i.length-I],S._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column},v&&(S._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]),C=this.performAction.apply(S,[c,s,u,y.yy,_[1],i,o].concat(f)),"undefined"!=typeof C)return C;I&&(r=r.slice(0,-1*I*2),i=i.slice(0,-1*I),o=o.slice(0,-1*I)),r.push(this.productions_[_[1]][0]),i.push(S.$),o.push(S._$),N=a[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},_e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 43;case 2:return 76;case 3:return 75;case 4:return 10;case 5:return 11;case 6:return 65;case 7:return 70;case 8:return 70;case 9:return 68;case 10:return 64;case 11:return 67;case 12:return 66;case 13:return 69;case 14:return 46;case 15:return 52;case 16:return 62;case 17:return 62;case 18:return 60;case 19:return 58;case 20:return 56;case 21:return 49;case 22:return 59;case 23:return 51;case 24:return 61;case 25:return 61;case 26:return 45;case 27:return 57;case 28:return 63;case 29:return 53;case 30:return 54;case 31:return 55;case 32:return"SGN";case 33:return 71;case 34:return 73;case 35:return 22;case 36:return 23;case 37:return 40;case 38:return 27;case 39:return 24;case 40:return 26;case 41:return 25;case 42:return 28;case 43:return 29;case 44:return"TRUE";case 45:return"FALSE";case 46:return 6;case 47:return 9;case 48:return 44;case 49:return 44;case 50:return 77;case 51:return 78;case 52:return 38;case 53:return 37;case 54:return 14;case 55:return 15;case 56:return 17;case 57:return 13;case 58:return 20;case 59:return 32;case 60:return 31;case 61:return 33;case 62:return 34;case 63:return 74;case 64:return 30;case 65:return 39;case 66:return 21;case 67:return 36;case 68:return 47;case 69:return 48;case 70:return 7;case 71:return 8;case 72:return 41;case 73:return 42;case 74:return 50;case 75:return 16;case 76:return 19;case 77:return 18;case 78:return 35;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:\s+)/i,/^(?:(\d+\.?\d*)([Ee][\-+]?\d+)?)/i,/^(?:pi\b)/i,/^(?:e\b)/i,/^(?:i\b)/i,/^(?:d\b)/i,/^(?:acos\b)/i,/^(?:binomial\b)/i,/^(?:binom\b)/i,/^(?:acosh\b)/i,/^(?:asin\b)/i,/^(?:asinh\b)/i,/^(?:atan\b)/i,/^(?:atanh\b)/i,/^(?:cbrt\b)/i,/^(?:cos\b)/i,/^(?:cosh\b)/i,/^(?:cosh\b)/i,/^(?:cot\b)/i,/^(?:csc\b)/i,/^(?:exp\b)/i,/^(?:log\b)/i,/^(?:sec\b)/i,/^(?:sin\b)/i,/^(?:sinh\b)/i,/^(?:sinh\b)/i,/^(?:sqrt\b)/i,/^(?:tan\b)/i,/^(?:tanh\b)/i,/^(?:floor\b)/i,/^(?:ceil\b)/i,/^(?:abs\b)/i,/^(?:sgn\b)/i,/^(?:min\b)/i,/^(?:max\b)/i,/^(?:and\b)/i,/^(?:or\b)/i,/^(?:not\b)/i,/^(?:nand\b)/i,/^(?:xor\b)/i,/^(?:xnor\b)/i,/^(?:nor\b)/i,/^(?:implies\b)/i,/^(?:equivalence\b)/i,/^(?:true\b)/i,/^(?:false\b)/i,/^(?:if\b)/i,/^(?:then\b)/i,/^(?:(([Ii]nfinit[ey])|infty|\u221E))/i,/^(?:infty\b)/i,/^(?:[A-Za-z][A-Za-z0-9]*)/i,/^(?:'[A-Za-z0-9 ]+')/i,/^(?:!!)/i,/^(?:!)/i,/^(?:!=)/i,/^(?:~=)/i,/^(?:=<)/i,/^(?:==)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:mod\b)/i,/^(?:\/\/)/i,/^(?:\/)/i,/^(?::)/i,/^(?:-)/i,/^(?:(\+\/-|\u00B1))/i,/^(?:\+)/i,/^(?:\^)/i,/^(?:\u005B)/i,/^(?:\u005D)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\{)/i,/^(?:\})/i,/^(?:,)/i,/^(?:<)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:\u005F)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};return t}();return xe.lexer=_e,K.prototype=xe,xe.Parser=K,new K}();return K}(),K.logic_grammar=function(){var t=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,3],r=[1,4],i=[1,6],o=[1,7],a=[1,8],c=[1,10],u=[1,11],s=[1,12],l=[1,13],p=[1,14],h=[1,15],f=[1,16],y=[1,17],g=[1,18],d=[1,19],v=[5,6,7,8,9,10,11,12,13,14,15,18],b=[5,6,7,18],w={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,AND:6,"*":7,OR:8,"+":9,XOR:10,NOR:11,XNOR:12,NAND:13,IMPLIES:14,EQUIVALENCE:15,NOT:16,"(":17,")":18,variable:19,PRIME:20,TRUE:21,FALSE:22,VARIABLE:23,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"AND",7:"*",8:"OR",9:"+",10:"XOR",11:"NOR",12:"XNOR",13:"NAND",14:"IMPLIES",15:"EQUIVALENCE",16:"NOT",17:"(",18:")",20:"PRIME",21:"TRUE",22:"FALSE",23:"VARIABLE"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,3],[4,1],[4,2],[4,1],[4,1],[19,1]],performAction:function(t,e,n,r,i,o,a){var c=o.length-1;switch(i){case 1:return o[c-1];case 2:case 3:this.$=z.And(o[c-2],o[c]);break;case 4:case 5:this.$=L(o[c-2],o[c]);break;case 6:this.$=z.Xor(o[c-2],o[c]);break;case 7:this.$=z.Nor(o[c-2],o[c]);break;case 8:this.$=z.Xnor(o[c-2],o[c]);break;case 9:this.$=z.Nand(o[c-2],o[c]);break;case 10:this.$=z.Implies(o[c-2],o[c]);break;case 11:this.$=z.Equivalence(o[c-2],o[c]);break;case 12:console.log("PARSED NOT "+o[c]),this.$=z.Not(o[c]);break;case 13:this.$=o[c-1];break;case 14:this.$=m(o[c]);break;case 15:this.$=new z.Not(m(o[c-1]));break;case 16:case 17:this.$=new z.Bool((!0));break;case 18:this.$=o[c]}},table:[{3:1,4:2,16:n,17:r,19:5,21:i,22:o,23:a},{1:[3]},{5:[1,9],6:c,7:u,8:s,9:l,10:p,11:h,12:f,13:y,14:g,15:d},{4:20,16:n,17:r,19:5,21:i,22:o,23:a},{4:21,16:n,17:r,19:5,21:i,22:o,23:a},e(v,[2,14],{20:[1,22]}),e(v,[2,16]),e(v,[2,17]),e([5,6,7,8,9,10,11,12,13,14,15,18,20],[2,18]),{1:[2,1]},{4:23,16:n,17:r,19:5,21:i,22:o,23:a},{4:24,16:n,17:r,19:5,21:i,22:o,23:a},{4:25,16:n,17:r,19:5,21:i,22:o,23:a},{4:26,16:n,17:r,19:5,21:i,22:o,23:a},{4:27,16:n,17:r,19:5,21:i,22:o,23:a},{4:28,16:n,17:r,19:5,21:i,22:o,23:a},{4:29,16:n,17:r,19:5,21:i,22:o,23:a},{4:30,16:n,17:r,19:5,21:i,22:o,23:a},{4:31,16:n,17:r,19:5,21:i,22:o,23:a},{4:32,16:n,17:r,19:5,21:i,22:o,23:a},e(v,[2,12]),{6:c,7:u,8:s,9:l,10:p,11:h,12:f,13:y,14:g,15:d,18:[1,33]},e(v,[2,15]),e(b,[2,2],{8:s,9:l,10:p,11:h,12:f,13:y,14:g,15:d}),e(b,[2,3],{8:s,9:l,10:p,11:h,12:f,13:y,14:g,15:d}),e(v,[2,4]),e(v,[2,5]),e(v,[2,6]),e(v,[2,7]),e(v,[2,8]),e(v,[2,9]),e(v,[2,10]),e(v,[2,11]),e(v,[2,13])],defaultActions:{9:[2,1]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){function e(){var t;return t=m.lex()||h,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],i=[null],o=[],a=this.table,c="",u=0,s=0,l=0,p=2,h=1,f=o.slice.call(arguments,1),m=Object.create(this.lexer),y={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(y.yy[g]=this.yy[g]);m.setInput(t,y.yy),y.yy.lexer=m,y.yy.parser=this,"undefined"==typeof m.yylloc&&(m.yylloc={});var d=m.yylloc;o.push(d);var v=m.options&&m.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,w,x,_,C,R,I,N,E,S={};;){if(x=r[r.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==b&&"undefined"!=typeof b||(b=e()),_=a[x]&&a[x][b]),"undefined"==typeof _||!_.length||!_[0]){var A="";E=[];for(R in a[x])this.terminals_[R]&&R>p&&E.push("'"+this.terminals_[R]+"'");A=m.showPosition?"Parse error on line "+(u+1)+":\n"+m.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(A,{text:m.match,token:this.terminals_[b]||b,line:m.yylineno,loc:d,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+b);switch(_[0]){case 1:r.push(b),i.push(m.yytext),o.push(m.yylloc),r.push(_[1]),b=null,w?(b=w,w=null):(s=m.yyleng,c=m.yytext,u=m.yylineno,d=m.yylloc,l>0&&l--);break;case 2:if(I=this.productions_[_[1]][1],S.$=i[i.length-I],S._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column},v&&(S._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]),C=this.performAction.apply(S,[c,s,u,y.yy,_[1],i,o].concat(f)),"undefined"!=typeof C)return C;I&&(r=r.slice(0,-1*I*2),i=i.slice(0,-1*I),o=o.slice(0,-1*I)),r.push(this.productions_[_[1]][0]),i.push(S.$),o.push(S._$),N=a[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},x=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return 8;case 3:return 16;case 4:return 13;case 5:return 10;case 6:return 12;case 7:return 11;case 8:return 14;case 9:return 15;case 10:return 21;case 11:return 22;case 12:return 21;case 13:return 22;case 14:return 23;case 15:return 17;case 16:return 18;case 17:return 8;case 18:return 6;case 19:return 20;case 20:return 5;case 21:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:and\b)/,/^(?:or\b)/,/^(?:not\b)/,/^(?:nand\b)/,/^(?:xor\b)/,/^(?:xnor\b)/,/^(?:nor\b)/,/^(?:implies\b)/,/^(?:equivalence\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:1\b)/,/^(?:0\b)/,/^(?:[A-Za-z][A-Za-z0-9]*)/,/^(?:\()/,/^(?:\))/,/^(?:\+)/,/^(?:\*)/,/^(?:')/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],inclusive:!0}}};return t}();return w.lexer=x,t.prototype=w,w.Parser=t,new t}();return t}(),G.in_nodejs()&&(module.exports=K)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=this.Decimal||require("./decimal"),n=t.is,r=t.symbol,i=t.Integer,o=(t.Variable,t.Real),a=t.Bool;t.spaces=function(t){for(var e="";t-- >0;)e+=" ";return e},t.trace=function(t){if(n.in_nodejs())throw console.trace(t),t;throw t},t.toNumerical=function(r,a){return n.string(r)&&(r=a?new e(r):parseFloat(r)),n.integer(r)?new i(r,a):n.number(r)?new o(r,a):n.Numerical(r)?r:n.BigNumber(r)?r.isInt()?new i(r,(!0)):new o(r,(!0)):t.failure("stem.toNumerical failed on ",r)},t.toIntegerValue=function(r,i){return n.string(r)&&r.match(/([\-+]?\d+)([Ee][\-+]?\d+)?/)?i?new e(r):parseFloat(r):n.integer(r)?i?new e(r):r:n.BigNumber(r)&&r.isInt()?new e(r):n.Integer(r)?i?new e(r.value):r.value:n.Relation(r)?t.toIntegerValue(r.calculate(),i):n.number(r)?i?new e(Math.round(r,0)):Math.round(r,0):t.failure("stem.toIntegerValue failed on ",r)},t.toRealValue=function(r,i){return n.string(r)&&r.match(/([\-+]?\d+\.?\d*)([Ee][\-+]?\d+)?/)?i?new e(r):parseFloat(r):n.number(r)?i?new e(r):r:n.BigNumber(r)?new e(r):n.Integer(r)||n.Real(r)?i?new e(r.value):r.value:n.Real(r)?i?new e(r.value):r.value:t.failure("stem.toRealValue failed on ",r)},t.toTerminal=function(r,c){return n.Terminal(r)?r.copy():r===!0||r===!1?new a(r):(n.string(r)&&(r=c?new e(r):parseFloat(r)),n.integer(r)?new i(r,c):n.number(r)?new o(r,c):n.BigNumber(r)?r.isInt()?new i(r,(!0)):new o(r,(!0)):n.Numerical(r)?r.copy():t.failure("stem.toTerminal failed on",r))},t.toExpression=function(e,r){if(r=void 0===r||r,!isFinite(e)){if(e===Number.POSITIVE_INFINITY)return new t.Infinite(1);if(e===Number.NEGATIVE_INFINITY)return new t.Infinite((-1))}return n.Expression(e)?e:n.string(e)?t.parser.parse(e):n.number(e)?t.toNumerical(e):n.BigNumber(e)?t.toNumerical(e,!0):e===!0||e===!1?new a(e):r?(void 0===e&&(e="undefined"),t.failure("stem.toExpression failed for ",e)):t.NoValue},t.toBool=function(e){if(e===!0||e===!1)return e;if(n.Bool(e))return e.value;if(n.string(e))return"true"===e||"false"!==e&&t.failure("stem.toBool must be either true or false",e);if(n.integer(e)){if(0===e)return!1;if(1===e)return!0}var r="unknown";return null===e&&(r="null"),void 0===e&&(r="undefined"),t.failure("stem.toBool failed for",e||r)},t.toVariable=function(e,i){if(n.Variable(e))return e;if(i=void 0===i?{}:i,n.string(e)){var o=e.split(":");if(1===o.length){var a=r.greek(e);return a?(i.greek=!0,i.latex=a.latex,i.unicode=a.unicode,i.html=a.html):(i.latex=e,i.unicode=e),e}if(2===o.length){var c=o[0],u=r.greek(c),s=o[1],l=r.greek(s),p=c+":"+s,h={symbol:s,unicode:s,latex:s};return l&&(h.greek=!0,h.latex=l.latex,h.unicode=l.unicode,h.html=l.html),u?(i.greek=!0,i.latex=u.latex,i.unicode=u.unicode,i.html=u.html,i.subscript=h):(i.latex=c,i.unicode=c,i.subscript=h),p}}return t.failure("stem.toVariable: argument not a string",e)},t.NoValue=null,t.MaxInt=Math.pow(2,53)-1,t.MinInt=-t.MaxInt,t.HalfMaxInt=Math.pow(2,52)-1,t.HalfMinInt=-t.HalfMaxInt,t.RootMaxInt=Math.sqrt(t.MaxInt),t.RootMinInt=-t.RootMaxInt,t.MaxFactorial=21,t.print_structure=function(e,n,r,i){e=void 0===e?0:e;var o;o=0===e?r:t.spaces(e)+n+" "+r,n=void 0===n?"  ":n;var a=o.length,c=a<20?t.spaces(20-a):"";console.log(o+" "+c+i)},t.save_integer=function(e){return!(e<t.MinInt)&&!(e>t.MaxInt)},n.NoValue=function(e){return e===t.NoValue},t.failure=function(e,n){if(t.debug){var r;console.log("Warning: "+e),n&&(void 0===r&&n.toString&&(r=n.toString()),void 0===r&&(r=n),console.log("  "+r)),"throw"===t.debug&&t.trace("Stopped")}return t.NoValue},t.incorrect_arity=function(e,n,r,i){var o=n.class_name,a=n.arity.minimum,c=n.arity.maximum,u="new "+o+": arity given "+r+", expected: ";if(a===c?console.log(u+a):isFinite(c)?console.log(u+a+" - "+c+")"):console.log(u+" at least "+a),i){for(var s="",l=0;l<i.length;l++)s+=i[l].toString(),l+1<i.length&&(s+=", ");console.log("  ... arguments: "+s)}return console.log(""),"throw"===t.debug&&t.trace("Incorrect arity"),t.NoValue},t.expected_expression=function(e){return t.debug&&console.log(e+": expected an expression argument"),"throw"===t.debug&&t.trace("Expected expression"),t.NoValue},t.unspecified_argument=function(e,n,r){if(t.debug){var i=n.class_name;console.log("new "+i+": unspecified arg "+r)}return"throw"===t.debug&&t.trace("Stopped"),t.NoValue},t.calculate_null=function(e,n){if(t.debug){var r=e.class_name();void 0===n?console.log(r+"cn.calculate() failed on "+e):(console.log(r+"cn.calculate() failed on arg "+(n+1)),console.log(e.toString()))}return"throw"===t.debug&&t.trace(".calculate() did not return a value"),t.NoValue},t.type_error=function(e,n,r,i,o){if(t.debug){var a=e.class_name();console.log(a+n+": expected type "+r),console.log("  ... got "+i+" "+o.toString())}return"throw"===t.debug&&t.trace("Type error"),t.NoValue},t.range_error=function(e,n,r){return t.debug&&console.log(e+" "+n.toString()+" "+r.toString()),"throw"===t.debug&&t.trace("Range error"),t.NoValue},t.not_boolean=function(e,n){return t.debug&&(console.log("Argument of "+e.toString()+" does not evaluate to a Boolean"),n.toString?console.log("    value is: "+n.toString()):console.log("    value is: "+n)),"throw"===t.debug&&t.trace(".calculate() no Boolean result"),t.NoValue}}.call(this),function(){"use strict";function t(t,e){var n,r,i="";switch(e){case"ascii":case"unicode":0!==t&&(n=t>0?"+":"-",r=Math.abs(t),i=1===r?n:r+n);break;case"latex":0!==t&&(n=t>0?"+":"-",r=Math.abs(t),i="^{"+(1===r?n:r+n)+"}");break;case"html":if(0!==t){var o="−";n=t>0?"+":o,r=Math.abs(t),i="<sup>"+(1===r?n:r+n)+"</sup>"}break;default:throw"convert_charge unknown fmt "+e}return i}function e(t){switch(t){case"round":return"(";case"square":return"[";default:return""}}function n(t){switch(t){case"round":return")";case"square":return"]";default:return""}}function r(t,e,n){return e+1<t.length?void 0===n?", ":n:""}function i(t,e,n,r,i,a){for(var c=e,u=0;u<t.length;u++){var s=t[u];l.Expression(s)?(c+=void 0!==a?o(s,i,a):s.toPrintable(i),u+1<t.length&&(c+=r)):console.log("********* NOT a stem.Object "+s)}return c+n}function o(t,e,n){var r="";return t.precedence()>n&&(r+="("),r+=t.toPrintable(e),t.precedence()>n&&(r+=")"),r}function a(t,e,n){if(e===nt)return"^{"+t.toPrintable(e)+"}";if(e===rt)return"<sup>"+t.toPrintable(e)+"</sup>";var r="^";return t.precedence()>n&&(r+="("),r+=t.toPrintable(e),t.precedence()>n&&(r+=")"),r}function c(t){return l.Integer(t)||l.Real(t)||l.Variable(t)}function u(t,e){return e!==tt&&c(t)?t.toPrintable(e):"("+t.toPrintable(e)+")"}var s=this.stem||require("./core"),l=s.is,p=s.Variable,h=s.Bool,f=s.Not,m=s.Complex,y=s.Integer,g=s.Matrix,d=(s.Numerical,s.Quantity),v=s.Rational,b=s.Real,w=(s.Terminal,s.Vector),x=s.Polar,_=s.chemistry.Chemical,C=s.chemistry.Element,R=s.chemistry.Electron,I=s.chemistry.Reaction,N=s.Bag,E=s.Cases,S=s.Conditional,A=s.Interval,k=s.Binomial,M=s.Absolute,q=(s.Add,s.ArcCosine,s.ArcHyperbolicCosine,s.ArcHyperbolicSine,s.ArcHyperbolicTangent,s.ArcSine,s.ArcTangent,s.Expression),P=(s.Binary,s.Ceiling),O=s.Constant,j=(s.Cosecant,s.Cosine,s.Cotangent,s.CubeRoot),T=s.Differential,Z=s.Divide,V=s.Exponential,Q=s.Relation,B=s.Floor,D=s.Factorial,H=s.DoubleFactorial,$=(s.HyperbolicCosine,s.HyperbolicSine,s.HyperbolicTangent,s.Hypot),F=s.Imaginary,L=(s.InverseTrigonometry,s.Logarithm),U=(s.Maximum,s.Minimum,s.Minus,s.Multiply,s.Plus,s.Power),z=(s.Secant,s.Signum,s.Sine,s.SquareRoot),G=(s.Subtract,s.Tangent,s.Trigonometry),X=s.Infinite,K=s.ComplexInfinite,Y=s.Indeterminate,W=s.Undefined,J=s.Unknown,tt=(s.System,"ascii"),et="unicode",nt="latex",rt="html";q.prototype.toPrintable=function(){console.log("********** "+this.class_name()+".toPrintable() not defined")},q.prototype.toParser=function(){return this.toPrintable(tt)},q.prototype.toString=function(){return this.toPrintable(et)},q.prototype.toLatex=function(){return this.toPrintable(nt)},q.prototype.toHtml=function(){return this.toPrintable(rt)},k.prototype.toPrintable=function(t){var e=this.n,n=this.k;return t===nt?"\\binom{"+e.toPrintable(t)+"}{"+n.toPrintable(t)+"}":"binomial("+e.toPrintable(t)+", "+n.toPrintable(t)+")"},Y.prototype.toPrintable=function(t){var e=this.expression.toPrintable(t);return this.description?"Indeterminate("+e+',\n  "'+this.description+'")':"Indeterminate("+e+")"},W.prototype.toPrintable=function(t){var e=this.expression.toPrintable(t);return this.description?"Undefined("+e+',\n  "'+this.description+'")':"Undefined("+e+")"},J.prototype.toPrintable=function(t){var e=this.expression.toPrintable(t);return this.description?"Unknown("+e+',\n  "'+this.description+'")':"Unknown("+e+")"},X.prototype.toPrintable=function(t){var e=s.symbol.Infinite[t];return this.sign===-1?s.symbol.UnaryMinus[t]+e:e},K.prototype.toPrintable=function(t){return s.symbol.ComplexInfinite[t]},Q.prototype.toPrintable=function(t){var e=this.functor,n=", ",r=e.spacing;
return 1===e.arity.minimum&&1===e.arity.maximum&&e.prefix?c(this.arg(0))?e[t]+this.arg(0).toPrintable(t):e[t]+"("+this.arg(0).toPrintable(t)+")":1!==e.arity.minimum||1!==e.arity.maximum||e.prefix?2!==e.arity.minimum||2!==e.arity.maximum||e.infix?2===e.arity.minimum&&2===e.arity.maximum&&e.infix?(n=r?" "+e[t]+" ":e[t],i(this.args,"","",n,t,this.functor.precedence)):2===e.arity.minimum&&3===e.arity.maximum&&e.infix?(n=r?" "+e[t]+" ":e[t],i(this.args,"","",n,t,this.functor.precedence)):e.arity.minimum<3&&l.infinite(e.arity.maximum)&&e.infix?(n=r?" "+e[t]+" ":e[t],i(this.args,"","",n,t,this.functor.precedence)):1===e.arity.minimum&&l.infinite(e.arity.maximum)&&!e.infix?e[t]+i(this.args,"(",")",", ",t):(console.log("      *** "+this.class_name()+" toPrintable not defined"),null):e[t]+"("+this.arg(0).toPrintable(t)+n+this.arg(1).toPrintable(t)+")":e[t]+"("+this.arg(0).toPrintable(t)+")"},L.prototype.toPrintable=function(t){return t===tt||t===et?this.base===s.e?this.functor[t]+"("+this.arg(0).toPrintable(t)+")":this.functor[t]+"("+this.arg(0).toPrintable(t)+", "+this.base+")":t===nt?this.base===s.e?this.functor.latex+"("+this.arg(0).toPrintable(t)+")":this.functor.latex+"_{"+this.base+"}("+this.arg(0).toPrintable(t)+")":t===rt?this.base===s.e?this.functor.html+"("+this.arg(0).toPrintable(t)+")":this.functor.html+"<sup>"+this.base+"</sup>("+this.arg(0).toPrintable(t)+"    }":void 0},P.prototype.toPrintable=function(t){return t===nt?"\\lceil "+this.arg(0).toPrintable(t)+" \\rceil ":Q.prototype.toPrintable.call(this,t)},B.prototype.toPrintable=function(t){return t===nt?"\\lfloor "+this.arg(0).toPrintable(t)+" \\rfloor ":Q.prototype.toPrintable.call(this,t)},M.prototype.toPrintable=function(t){return t===nt?"| "+this.arg(0).toPrintable(t)+" | ":Q.prototype.toPrintable.call(this,t)},G.prototype.toPrintable=function(t){return t===nt&&c(this.arg(0))?this.functor.latex+" "+this.arg(0).toPrintable(t):this.functor[t]+"("+this.arg(0).toPrintable(t)+")"},p.prototype.toPrintable=function(t){var e,n,r;return t===tt?this.symbol:t===et?(e=this.unicode,n=this.subscript?":"+this.subscript.unicode:"",e+n):t===nt?(r=this.latex||this.unicode,this.subscript&&(r+="_{",r+=this.subscript.greek?"\\"+this.subscript.symbol:this.subscript.symbol||this.subscript.unicode,r+="}"),r):t===rt?(r=this.html,this.subscript&&(r+="<sup>",r+=this.subscript.greek?"\\"+this.subscript.html:this.subscript.html||this.subscript.symbol,r+="</sup>"),r):void 0},v.prototype.toPrintable=function(t){var e=this.numerator,n=this.denominator;return t===nt?this.isNegative()?(e.isNegative()?e=e.negate():n=n.negate(),"-\\frac{"+e.toPrintable(t)+"}{"+n.toPrintable(t)+"}"):"\\frac{"+e.toPrintable(t)+"}{"+n.toPrintable(t)+"}":t===et?"("+e.toPrintable(t)+"÷"+n.toPrintable(t)+")":"("+e.toPrintable(t)+"/"+n.toPrintable(t)+")"},z.prototype.toPrintable=function(t){return t===nt?this.functor.latex+"{"+this.arg(0).toPrintable(t)+"}":this.functor[t]+u(this.arg(0),t)},A.prototype.toPrintable=function(t){return this._open()+this.arg(0).toPrintable(t)+", "+this.arg(1).toPrintable(t)+this._close()},j.prototype.toPrintable=function(t){return t===nt?this.functor.latex+"[3]{"+this.arg(0).toPrintable(t)+"}":this.functor[t]+u(this.arg(0),t)},E.prototype.toPrintable=function(t){if(t===nt){for(var e="\\begin{equation}\\left\\{\\begin{array}{@{}ll@{}}",n=0;n<this.arity;n++){var r=this.arg(n);l.Conditional(r)&&(e+=r.arg(1).toPrintable(t),e+=", & \\mathrm{if} ",e+=r.arg(0).toPrintable(t),e+="\\\\\n")}return e+"\\end{array}\\right.\\end{equation}"}return this.functor[t]+i(this.args,"(",")",", ",t)},V.prototype.toPrintable=function(t){return t===nt?this.functor.latex+"^{"+this.arg(0).toPrintable(t)+"}":this.functor[t]+"("+this.arg(0).toPrintable(t)+")"},F.prototype.toPrintable=function(t){if(t===tt||t===et||t===rt)return this.isOne()?"i":"i "+this.value.toPrintable(t);var e="\\mathrm{i}";return this.isOne()?e:e+this.value.toPrintable(t)},m.prototype.toPrintable=function(t){var e="\\,",n=t===nt?"\\mathrm{i}"+e:" i ";return"("+this.re.toPrintable(t)+" +"+n+this.im.toPrintable(t)+")"},x.prototype.toPrintable=function(t){var e=this.distance.toPrintable(t),n=this.angle.toPrintable(t);return t===tt?"polar("+e+", "+n+")":"("+e+", "+n+")"},O.prototype.toPrintable=function(t){return this[t]},T.prototype.toPrintable=function(t){var e=this.arg(0);return l.Variable(e)?this.functor[t]+" "+e.toPrintable(t):this.functor[t]+" ("+e.toPrintable(t)+")"},h.prototype.toPrintable=function(t){return"propositional"===s.option.logic?this.value===!0?"true":"false":this.value===!0?"1":"0"},f.prototype.toPrintable=function(t){var e=this.arg(0);if("circuit"===s.option.logic)return t===nt?"\\overline{"+e.toPrintable(t)+"}":e.toPrintable(t)+this.functor[t];var n=this.functor.spacing?" ":"";return this.functor[t]+n+e.toPrintable(t)},Z.prototype.toPrintable=function(t){var e=this.arg(0),n=this.arg(1);if(t===nt)return"\\frac{"+e.toPrintable(t)+"}{"+n.toPrintable(t)+"}";var r=this.functor,o=(r.spacing,r.spacing?" "+r[t]+" ":r[t]);return i(this.args,"","",o,t,this.functor.precedence)},S.prototype.toPrintable=function(t){var e=this.arg(0),n=this.arg(1);return t===nt?n.toPrintable(t)+", & "+e.toPrintable(t)+"\\\\":"if ("+e.toPrintable(t)+") then ("+n.toPrintable()+")"},D.prototype.toPrintable=function(t){return u(this.n,t)+"! "},H.prototype.toPrintable=function(t){return u(this.n,t)+"!! "},y.prototype.toPrintable=function(t){return this.isNegative()?"("+this.value.toString()+")":this.value.toString()},b.prototype.toPrintable=function(t){return this.string?this.string:this.value.toString()},w.prototype.toPrintable=function(t){return i(this.array,"(",")",", ",t)},N.prototype.toPrintable=function(t){return i(this.values,"{","}",", ",t)},d.prototype.toPrintable=function(t){return this.magnitude.toPrintable(t)+" "+this.unitString(t)},g.prototype.toPrintable=function(t){for(var e="(",n=0;n<this.rows;n++)e+=i(this.columns,"(",")",", ",t),e+=r(this.rows,n);return e+")"},s.chemistry.Add.prototype.toPrintable=function(t){return i(this.args,"",""," + ",t)},R.prototype.toPrintable=function(t){return t===nt?"e^{-}":"e^- "},I.prototype.toPrintable=function(t){return this.arg(0).toPrintable(t)+" "+this.functor[t]+" "+this.arg(1).toPrintable(t)},_.prototype.toPrintable=function(r){if(r===nt)return this.toLatex();if(r===rt)return this.toHtml();var i,o=this.coefficient>1?this.coefficient+" ":"",a=this.arity,c=a>1&&this.subscript>1?this.brackets:null;for(o+=e(c),i=0;i<this.arity;i++)o+=this.arg(i).toPrintable(r);return o+=n(c),this.subscript>1&&(o+=this.subscript),o+=t(this.charge,"string")},_.prototype.toLatex=function(r){var i,o=r?"":"\\mathrm{",a=r?"":"}",c=o+(this.coefficient>1?this.coefficient+" ":""),u=this.arity,s=u>1&&this.subscript>1?this.brackets:null;for(c+=e(s),i=0;i<this.arity;i++)c+=this.arg(i).toLatex(!0);return c+=n(s),this.subscript>1&&(c+="_{"+this.subscript+"}"),c+=t(this.charge,"latex"),c+a},_.prototype.toHtml=function(){var r,i=this.coefficient>1?this.coefficient+" ":"",o=this.arity,a=o>1&&this.subscript>1?this.brackets:null;for(i+=e(a),r=0;r<this.arity;r++)i+=this.arg(r).toHtml();return i+=n(a),this.subscript>1&&(i+="<sub>"+this.subscript+"</sub>"),i+=t(this.charge,"html")},C.prototype.toPrintable=function(t){return t===nt&&this.toLatex(),t===rt&&this.toHtml(),this.subscript>1?this.atom+this.subscript:this.atom},C.prototype.toLatex=function(t){var e=t?"":"\\mathrm{",n=t?"":"}";return this.subscript>1?e+this.atom+"_{"+this.subscript+"}"+n:e+this.atom+n},C.prototype.toHtml=function(){return this.subscript>1?this.atom+"<sub>"+this.subscript+"</sub>":this.atom},$.prototype.toPrintable=function(t){if(t===nt){for(var e="\\sqrt{",n=0;n<this.arity;n++){var r=this.arg(n);e+=u(r,t)+"^{2}",n+1<this.arity&&(e+=" + ")}return e+"}"}return this.functor[t]+i(this.args,"(",")",", ",t)},U.prototype.toPrintable=function(t){var e=this.arg(0),n=this.arg(1);return t===nt&&l.Trigonometry(e)&&l.Integer(n)?e.functor[t]+"^{"+n.toNumber()+"}"+e.arg(0).toPrintable(t):t===rt?e.toPrintable(t)+"<sup>"+n.toPrintable(t)+"</sup>":o(e,t,this.functor.precedence)+a(n,t,this.functor.precedence)}}.call(this),function(){var t=this.stem||require("./core"),e=t.is,n=t.chemistry,r=n.Add,i=n.Element,o=n.Chemical,a=n.Reaction,c=n.Electron;n.parse=function(t,r){return e.object(r)&&r.student?n.grammar_student.parse(t):n.grammar.parse(t)},n.grammar=function(){var t=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[14,16,17,19],u=[2,13],s=[1,6],l=[5,32,33,34,35],p=[1,16],h=[1,17],f=[1,18],m=[1,19],y=[14,16,17,19,21],g=[5,9,32,33,34,35],d=[5,9,14,16,17,18,19,20,23,24,30,31,32,33,34,35],v=[2,15],b=[1,30],w={trace:function(){},yy:{},symbols_:{error:2,expression:3,reaction:4,EOF:5,equation:6,operator:7,formula:8,ADD:9,coefficient_opt:10,chemical:11,charge_opt:12,compound:13,ELEMENT:14,subscript_opt:15,ELECTRON:16,"(":17,")":18,"[":19,"]":20,INTEGER:21,sign:22,POSITIVE:23,NEGATIVE:24,state_opt:25,AQUEOUS:26,SOLID:27,GAS:28,LIQUID:29,"-":30,"+":31,EQUILIBRIUM:32,REVERSIBLE:33,STOICHIOMETRIC:34,YIELDS:35,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"ADD",14:"ELEMENT",16:"ELECTRON",17:"(",18:")",19:"[",20:"]",21:"INTEGER",23:"POSITIVE",24:"NEGATIVE",26:"AQUEOUS",27:"SOLID",28:"GAS",29:"LIQUID",30:"-",31:"+",32:"EQUILIBRIUM",33:"REVERSIBLE",34:"STOICHIOMETRIC",35:"YIELDS"},productions_:[0,[3,2],[4,1],[4,3],[6,1],[6,3],[8,3],[11,2],[11,1],[13,2],[13,1],[13,4],[13,4],[10,0],[10,1],[15,0],[15,1],[12,0],[12,1],[12,1],[12,1],[25,1],[25,1],[25,1],[25,1],[22,1],[22,1],[7,1],[7,1],[7,1],[7,1]],performAction:function(t,e,n,u,s,l,p){var h=l.length-1;switch(s){case 1:return l[h-1];case 3:this.$=new a(l[h-2],l[h-1],l[h]);break;case 5:this.$=new r(l[h-2],l[h]);break;case 6:this.$=new o(l[h-1],{coefficient:l[h-2],charge:l[h]});break;case 7:this.$=new o([l[h-1],l[h]]);break;case 9:this.$=new i(l[h-1],{subscript:l[h]});break;case 10:this.$=new c;break;case 11:this.$=new o(l[h-2],{subscript:l[h],brackets:"round"});break;case 12:this.$=new o(l[h-2],{subscript:l[h],brackets:"square"});break;case 13:case 15:case 26:this.$=1;break;case 14:case 16:case 19:this.$=parseInt(l[h],10);break;case 17:this.$=0;break;case 20:this.$=-parseInt(l[h],10);break;case 21:this.$=new Aqueous;break;case 22:this.$=new Solid;break;case 23:this.$=new Gas;break;case 24:this.$=new Liquid;break;case 25:this.$=-1;break;case 27:this.$="equilibrium";break;case 28:this.$="reversible";break;case 29:this.$="stoichiometric";break;case 30:this.$="yields"}},table:[e(n,u,{3:1,4:2,6:3,8:4,10:5,21:s}),{1:[3]},{5:[1,7]},{5:[2,2],7:8,32:[1,9],33:[1,10],34:[1,11],35:[1,12]},e(l,[2,4],{9:[1,13]}),{11:14,13:15,14:p,16:h,17:f,19:m},e(n,[2,14]),{1:[2,1]},e(n,u,{8:4,10:5,6:20,21:s}),e(y,[2,27]),e(y,[2,28]),e(y,[2,29]),e(y,[2,30]),e(n,u,{8:4,10:5,6:21,21:s}),e(g,[2,17],{12:22,13:23,22:24,14:p,16:h,17:f,19:m,23:[1,25],24:[1,26],30:[1,27],31:[1,28]}),e(d,[2,8]),e(d,v,{15:29,21:b}),e(d,[2,10]),{11:31,13:15,14:p,16:h,17:f,19:m},{11:32,13:15,14:p,16:h,17:f,19:m},{5:[2,3]},e(l,[2,5]),e(g,[2,6]),e(d,[2,7]),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,25]),e(g,[2,26]),e(d,[2,9]),e(d,[2,16]),{13:23,14:p,16:h,17:f,18:[1,33],19:m},{13:23,14:p,16:h,17:f,19:m,20:[1,34]},e(d,v,{15:35,21:b}),e(d,v,{15:36,21:b}),e(d,[2,11]),e(d,[2,12])],defaultActions:{7:[2,1],20:[2,3]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){function e(){var t;return t=m.lex()||h,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],i=[null],o=[],a=this.table,c="",u=0,s=0,l=0,p=2,h=1,f=o.slice.call(arguments,1),m=Object.create(this.lexer),y={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(y.yy[g]=this.yy[g]);m.setInput(t,y.yy),y.yy.lexer=m,y.yy.parser=this,"undefined"==typeof m.yylloc&&(m.yylloc={});var d=m.yylloc;o.push(d);var v=m.options&&m.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,w,x,_,C,R,I,N,E,S={};;){if(x=r[r.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==b&&"undefined"!=typeof b||(b=e()),_=a[x]&&a[x][b]),"undefined"==typeof _||!_.length||!_[0]){var A="";E=[];for(R in a[x])this.terminals_[R]&&R>p&&E.push("'"+this.terminals_[R]+"'");A=m.showPosition?"Parse error on line "+(u+1)+":\n"+m.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(A,{text:m.match,token:this.terminals_[b]||b,line:m.yylineno,loc:d,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+b);switch(_[0]){case 1:r.push(b),i.push(m.yytext),o.push(m.yylloc),r.push(_[1]),b=null,w?(b=w,w=null):(s=m.yyleng,c=m.yytext,u=m.yylineno,d=m.yylloc,l>0&&l--);break;case 2:if(I=this.productions_[_[1]][1],S.$=i[i.length-I],S._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column},v&&(S._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]),C=this.performAction.apply(S,[c,s,u,y.yy,_[1],i,o].concat(f)),"undefined"!=typeof C)return C;I&&(r=r.slice(0,-1*I*2),i=i.slice(0,-1*I),o=o.slice(0,-1*I)),r.push(this.productions_[_[1]][0]),i.push(S.$),o.push(S._$),N=a[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},x=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return 9;case 1:break;case 2:return 23;case 3:return 24;case 4:return 21;case 5:return 26;case 6:return 29;case 7:return 28;case 8:return 27;case 9:return 16;case 10:return 14;case 11:return 34;case 12:return 35;case 13:return 33;case 14:return 32;case 15:return 30;case 16:return 31;case 17:return 17;case 18:return 18;case 19:return 19;case 20:return 20;case 21:return"CARET";case 22:return"UNDERSCORE";case 23:return 5;case 24:return"INVALID"}},rules:[/^(?: \+)/,/^(?:\s+)/,/^(?:\d+\+)/,/^(?:\d+-)/,/^(?:\d+)/,/^(?:\(aq\))/,/^(?:\(l\))/,/^(?:\(g\))/,/^(?:\(s\))/,/^(?:e\b)/,/^(?:[A-Z][a-z]?)/,/^(?:=)/,/^(?:->)/,/^(?:<->)/,/^(?:<=>)/,/^(?:-)/,/^(?:\+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\^)/,/^(?:\u005F)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],inclusive:!0}}};return t}();return w.lexer=x,t.prototype=w,w.Parser=t,new t}();return t}(),n.grammar_student=function(){var t=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[14,16,17,19],u=[2,13],s=[1,6],l=[5,34,35,36,37],p=[1,16],h=[1,17],f=[1,18],m=[1,19],y=[14,16,17,19,21],g=[5,9,34,35,36,37],d=[5,9,14,16,17,18,19,20,23,34,35,36,37],v=[2,15],b=[1,26],w={trace:function(){},yy:{},symbols_:{error:2,expression:3,reaction:4,EOF:5,equation:6,operator:7,formula:8,ADD:9,coefficient_opt:10,chemical:11,charge_opt:12,compound:13,ELEMENT:14,subscript_opt:15,ELECTRON:16,"(":17,")":18,"[":19,"]":20,INTEGER:21,UNDERSCORE:22,CARET:23,sign:24,POSITIVE:25,NEGATIVE:26,state_opt:27,AQUEOUS:28,SOLID:29,GAS:30,LIQUID:31,"-":32,"+":33,EQUILIBRIUM:34,REVERSIBLE:35,STOICHIOMETRIC:36,YIELDS:37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"ADD",14:"ELEMENT",16:"ELECTRON",17:"(",18:")",19:"[",20:"]",21:"INTEGER",22:"UNDERSCORE",23:"CARET",25:"POSITIVE",26:"NEGATIVE",28:"AQUEOUS",29:"SOLID",30:"GAS",31:"LIQUID",32:"-",33:"+",34:"EQUILIBRIUM",35:"REVERSIBLE",36:"STOICHIOMETRIC",37:"YIELDS"},productions_:[0,[3,2],[4,1],[4,3],[6,1],[6,3],[8,3],[11,2],[11,1],[13,2],[13,1],[13,4],[13,4],[10,0],[10,1],[15,0],[15,2],[12,0],[12,2],[12,2],[12,2],[27,1],[27,1],[27,1],[27,1],[24,1],[24,1],[7,1],[7,1],[7,1],[7,1]],performAction:function(t,e,n,u,s,l,p){var h=l.length-1;switch(s){case 1:return l[h-1];case 3:this.$=new a(l[h-2],l[h-1],l[h]);break;case 5:this.$=new r(l[h-2],l[h]);break;case 6:this.$=new o(l[h-1],{coefficient:l[h-2],charge:l[h]});break;case 7:this.$=new o([l[h-1],l[h]]);break;case 9:this.$=new i(l[h-1],{subscript:l[h]});break;case 10:this.$=new c;break;case 11:this.$=new o(l[h-2],{subscript:l[h],brackets:"round"});break;case 12:this.$=new o(l[h-2],{subscript:l[h],brackets:"square"});break;case 13:case 15:case 26:this.$=1;break;case 14:case 16:case 19:this.$=parseInt(l[h],10);break;case 17:this.$=0;break;case 18:this.$=l[h];break;case 20:this.$=-parseInt(l[h],10);break;case 21:this.$=new Aqueous;break;case 22:this.$=new Solid;break;case 23:this.$=new Gas;break;case 24:this.$=new Liquid;break;case 25:this.$=-1;break;case 27:this.$="equilibrium";break;case 28:this.$="reversible";break;case 29:this.$="stoichiometric";break;case 30:this.$="yields"}},table:[e(n,u,{3:1,4:2,6:3,8:4,10:5,21:s}),{1:[3]},{5:[1,7]},{5:[2,2],7:8,34:[1,9],35:[1,10],36:[1,11],37:[1,12]},e(l,[2,4],{9:[1,13]}),{11:14,13:15,14:p,16:h,17:f,19:m},e(n,[2,14]),{1:[2,1]},e(n,u,{8:4,10:5,6:20,21:s}),e(y,[2,27]),e(y,[2,28]),e(y,[2,29]),e(y,[2,30]),e(n,u,{8:4,10:5,6:21,21:s}),e(g,[2,17],{12:22,13:23,14:p,16:h,17:f,19:m,23:[1,24]}),e(d,[2,8]),e(d,v,{15:25,22:b}),e(d,[2,10]),{11:27,13:15,14:p,16:h,17:f,19:m},{11:28,13:15,14:p,16:h,17:f,19:m},{5:[2,3]},e(l,[2,5]),e(g,[2,6]),e(d,[2,7]),{24:29,25:[1,30],26:[1,31],32:[1,32],33:[1,33]},e(d,[2,9]),{21:[1,34]},{13:23,14:p,16:h,17:f,18:[1,35],19:m},{13:23,14:p,16:h,17:f,19:m,20:[1,36]},e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,25]),e(g,[2,26]),e(d,[2,16]),e(d,v,{15:37,22:b}),e(d,v,{15:38,22:b}),e(d,[2,11]),e(d,[2,12])],defaultActions:{7:[2,1],20:[2,3]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){function e(){var t;return t=m.lex()||h,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],i=[null],o=[],a=this.table,c="",u=0,s=0,l=0,p=2,h=1,f=o.slice.call(arguments,1),m=Object.create(this.lexer),y={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(y.yy[g]=this.yy[g]);m.setInput(t,y.yy),y.yy.lexer=m,y.yy.parser=this,"undefined"==typeof m.yylloc&&(m.yylloc={});var d=m.yylloc;o.push(d);var v=m.options&&m.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,w,x,_,C,R,I,N,E,S={};;){if(x=r[r.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==b&&"undefined"!=typeof b||(b=e()),_=a[x]&&a[x][b]),"undefined"==typeof _||!_.length||!_[0]){var A="";E=[];for(R in a[x])this.terminals_[R]&&R>p&&E.push("'"+this.terminals_[R]+"'");A=m.showPosition?"Parse error on line "+(u+1)+":\n"+m.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(A,{text:m.match,token:this.terminals_[b]||b,line:m.yylineno,loc:d,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+b);switch(_[0]){case 1:r.push(b),i.push(m.yytext),o.push(m.yylloc),r.push(_[1]),b=null,w?(b=w,w=null):(s=m.yyleng,c=m.yytext,u=m.yylineno,d=m.yylloc,l>0&&l--);break;case 2:if(I=this.productions_[_[1]][1],S.$=i[i.length-I],S._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column},v&&(S._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]),C=this.performAction.apply(S,[c,s,u,y.yy,_[1],i,o].concat(f)),"undefined"!=typeof C)return C;I&&(r=r.slice(0,-1*I*2),i=i.slice(0,-1*I),o=o.slice(0,-1*I)),r.push(this.productions_[_[1]][0]),i.push(S.$),o.push(S._$),N=a[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},x=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return 9;case 1:break;case 2:return 25;case 3:return 26;case 4:return 21;case 5:return 28;case 6:return 31;case 7:return 30;case 8:return 29;case 9:return 16;case 10:return 14;case 11:return 36;case 12:return 37;case 13:return 35;case 14:return 34;case 15:return 32;case 16:return 33;case 17:return 17;case 18:return 18;case 19:return 19;case 20:return 20;case 21:return 23;case 22:return 22;case 23:return 5;case 24:return"INVALID"}},rules:[/^(?: \+)/,/^(?:\s+)/,/^(?:\d+\+)/,/^(?:\d+-)/,/^(?:\d+)/,/^(?:\(aq\))/,/^(?:\(l\))/,/^(?:\(g\))/,/^(?:\(s\))/,/^(?:e\b)/,/^(?:[A-Z][a-z]?)/,/^(?:=)/,/^(?:->)/,/^(?:<->)/,/^(?:<=>)/,/^(?:-)/,/^(?:\+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\^)/,/^(?:\u005F)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],inclusive:!0}}};return t}();return w.lexer=x,t.prototype=w,w.Parser=t,new t}();return t}(),e.in_nodejs()&&(module.exports=n)}.call(this),function(){"use strict";var t=this.Decimal||require("./decimal"),e=this.stem||require("./core"),n=e.is,r=e.method=e.methods=e.method||{},i=e.Integer,o=e.Divide,a=e.Multiply,c=e.Add,u=e.System,s=e.GreaterEqual;r.binomial=function(t,n,i){var c=t.calculate();if(!c.isInteger())return e.type_error(t,"method.binomial","Integer","n",t);if(!c.isPositive())return e.type_error(t,"method.binomial","positive Integer","n",t);var u=n.calculate();if(!u.isInteger())return e.type_error(t,"method.binomial","Integer","k",n);if(!u.isPositive())return e.type_error(t,"method.binomial","positive Integer","k",n);if(s.calculate(c,u).value===!1)return e.range_error("method.binomial: k >= n",c,u);var l=r.factorial(t,i),p=r.factorial(n,i),h=r.factorial(new e.Subtract(t,n),i);return o.calculate(l,new a(p,h))},r.factorial=function(t,n){var r=t.calculate();if(r===e.NoValue)return e.NoValue;if(!r.isInteger())return e.NoValue;t=r.toNumber();for(var o=1,a=1;a<=t;a++)o*=a;return new i(o,n)},r.double_factorial=function(t,n){var r=t.calculate();if(r===e.NoValue)return e.NoValue;if(!r.isInteger()||r.isNegative())return e.NoValue;var o,a=1;if(t=r.toNumber(),r.isOdd())for(o=3;o<=t;o+=2)a*=o;else for(o=2;o<=t;o+=2)a*=o;return new i(a,this.big)},r.gcd=function(r,o){var a=n.Expression(r)?r.calculate():new i(r),c=n.Expression(o)?o.calculate():new i(o);if(!n.Integer(a)||!n.Integer(c))return e.failure("method.gcd() arguments must be positive integers");if(a.isNegative()||c.isNegative())return e.failure("method.gcd() not defined for negative numbers");if(c.isZero())return a;
var u,s;if(a.big||c.big){for(u=new t(a.value),s=new t(c.value);!u.eq(s);)u.gt(s)?u=u.sub(s):s=s.sub(u);return new i(u,(!0))}for(u=a.value,s=c.value;u!==s;)u>s?u-=s:s-=u;return new i(u)},r.prime_factors=function(r){var o=n.Expression(r)?r.calculate():new i(r);if(!n.Integer(o)||o.isNegative())return e.failure("method.prime_factors() only defined for positive integers");var a,c,u=[];if(o.big){for(a=o.value;a.mod(2).isZero();)u.push(new i(2,(!0))),a=a.div(2);for(c=new t(3);c.lte(a.sqrt());){for(;a.mod(c).isZero();)u.push(new i(c,(!0))),a=a.div(c);c=c.add(2)}return a.eq(1)||u.push(new i(a)),u}for(a=o.value;a%2===0;)u.push(new i(2)),a/=2;for(c=3;c<=Math.floor(Math.sqrt(a));c+=2)for(;a%c===0;)u.push(new i(c)),a/=c;return 1!==a&&u.push(new i(a)),u};r.runge_kutta4=function(t,r){function i(t,e,n,r,i){var s,l=n.length,p={},h=new Array(l),f=new Array(l),y=new Array(l),d=new Array(l),v=u.current();for(p[t]=e,s=0;s<l;s++)p[n[s]]=r[s];for(v.assign(p,!0),s=0;s<l;s++)h[s]=new a(m,i[s]).calculate();for(s=0;s<l;s++)p[t]=new c(e,g).calculate(),p[n[s]]=new c(r[s],new o(h[s],2)).calculate();for(v.assign(p,!0),s=0;s<l;s++)f[s]=new a(m,i[s]).calculate();for(s=0;s<l;s++)p[t]=new c(e,g).calculate(),p[n[s]]=new c(r[s],new o(f[s],2)).calculate();for(v.assign(p,!0),s=0;s<l;s++)y[s]=new a(m,i[s]).calculate();for(s=0;s<l;s++)p[t]=new c(e,m).calculate(),p[n[s]]=new c(r[s],y[s]).calculate();for(v.assign(p,!0),s=0;s<l;s++)d[s]=new a(m,i[s]).calculate();var b=[];for(s=0;s<l;s++){var w=new c(r[s],new o(new c(h[s],new a(2,new c(f[s],y[s])),d[s]),6)).calculate();b.push(w)}return b}function s(t,n){return t=e.toNumerical(t),n=e.toNumerical(n),t.value<=n.value}var l,p,h=t.variable,f=t.initial,m=t.step,y=t.until,g=new o(m,2).calculate(),d=[],v=[],b=[];if(n.array(r))for(l=0;l<r.length;l++)d.push(r[l].variable),v.push(r[l].initial),b.push(r[l].expression);else d.push(r.variable),v.push(r.initial),b.push(r.expression);var w=[],x=0;do{for(w[x]={},l=0;l<d.length;l++)for(p=0;p<b.length;p++){var _=b[p].variables();for(var C in _)C===d[l]&&_[C].assign(v[l])}var R=i(h,f,d,v,b);for(l=0;l<d.length;l++)w[x][d[l]]=v[l]=R[l];f=w[x++][h]=new c(f,m).calculate()}while(y&&s(f,y));return w},n.in_nodejs()&&(module.exports=r)}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Numerical,r=t.Integer,i=(t.Real,t.Complex,t.Variable),o=t.Absolute,a=t.Multiply,c=t.Signum,u=t.Add,s=t.Divide,l=t.Exponential,p=t.Logarithm,h=t.Power,f=t.Subtract,m=t.SquareRoot,y=t.CubeRoot,g=t.Sine,d=t.Cosine,v=t.Tangent,b=t.Cosecant,w=t.Secant,x=t.Cotangent,_=t.Minus,C=t.Plus,R=t.ArcSine,I=t.ArcCosine,N=t.ArcTangent,E=t.HyperbolicSine,S=t.HyperbolicCosine,A=t.HyperbolicTangent,k=t.ArcHyperbolicSine,M=t.ArcHyperbolicCosine,q=(t.ArcHyperbolicTangent,t.Relation,t.Expression);t.System;q.prototype.derivative=function(e){return t.failure(this.class_name()+".derivative not defined",e),0},n.prototype.derivative=function(t){return new r(0)},C.prototype.derivative=function(t){return this.arg(0).derivative(t)},_.prototype.derivative=function(t){return new _(this.arg(0).derivative(t))},o.prototype.derivative=function(e){t.failure("Absolute.derivative not implemented")},b.prototype.derivative=function(t){var n=this.arg(0),r=new a(new _(new b(n.copy())),new x(n.copy()));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},w.prototype.derivative=function(t){var n=this.arg(0),r=new a(new w(n.copy()),new v(n.copy()));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},x.prototype.derivative=function(t){var n=this.arg(0),r=new _(new u(1,new h(new x(t)),2));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},g.prototype.derivative=function(t){var n=this.arg(0),r=new d(n.copy());return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},d.prototype.derivative=function(t){var n=this.arg(0),r=new _(new g(n.copy()));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},v.prototype.derivative=function(t){var n=this.arg(0),r=new u(1,new h(new v(n.copy()),2));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},R.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new m(new f(1,new h(n.copy(),2))));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},I.prototype.derivative=function(t){var n=this.arg(0),r=new _(new s(1,new m(new f(1,new h(n.copy(),2)))));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},N.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new u(1,new h(n.copy(),2)));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},E.prototype.derivative=function(t){var n=this.arg(0),r=new S(n.copy());return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},S.prototype.derivative=function(t){var n=this.arg(0),r=new E(n.copy());return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},A.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new h(new S(n.copy()),2));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},k.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new m(new u(new h(n,2),1)));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},M.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new m(new f(new h(n,2),1)));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},M.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new f(1,new h(n,2)));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},S.prototype.derivative=function(t){var n=this.arg(0),r=new E(n.copy());return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},A.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new h(new S(n.copy()),2));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},l.prototype.derivative=function(t){var n=this.arg(0),r=this.copy();return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative(t))},h.prototype.derivative=function(t){var n=this.arg(0),r=this.arg(1);if(e.Variable(n)&&n.same_variable(t))return new a(r.copy(),new h(n.copy(),new f(r.copy(),1)));var i=new a(new p(n.copy()),new h(n.copy(),r.copy()));return e.Variable(r)&&r.same_variable(t)?i:new a(i,r.derivative(t))},p.prototype.derivative=function(n){var r,i=this.arg(0);return this.base===t.e?(r=new s(1,i.copy()),e.Variable(i)&&i.same_variable(n)?r:new a(r,i.derivative(n))):(r=new s(1,new a(i.copy(),new p(this.base))),e.Variable(i)&&i.same_variable(n)?r:new a(r,i.derivative(n)))},i.prototype.derivative=function(t){return this.same_variable(t)?new r(1):this},u.prototype.derivative=function(t){for(var e=[],n=0;n<this.arity;n++)e.push(this.arg(n).derivative(t));return new u(e)},f.prototype.derivative=function(t){return new f(this.arg(0).derivative(t),this.arg(1).derivative(t))},m.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new a(2,new m(n.copy)));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative())},y.prototype.derivative=function(t){var n=this.arg(0),r=new s(1,new a(3,new y(new h(n.copy(),2))));return e.Variable(n)&&n.same_variable(t)?r:new a(r,n.derivative())},s.prototype.derivative=function(t){var e=this.arg(0),n=this.arg(1);if(n.isZero())return NaN;var r=new a(e.derivative(t),n.copy()),i=new a(n.derivative(t),e.copy());return new s(new f(r,i),new h(n.copy(),2))},a.prototype.derivative=function(t){if(1===this.arity)return this.arg(0).derivative(t);if(2===this.arity)return new u(new a(this.arg(0).copy(),this.arg(1).derivative(t)),new a(this.arg(1).copy(),this.arg(0).derivative(t)));for(var e=[],n=0;n<this.arity;n++){for(var r=this.arg(n),i=[],o=0;o<this.arity;o++)n!==o&&i.push(this.arg(o));var c=new a(i);e.push(new a(r.derivative(),c))}return new u(e)},c.prototype.derivative=function(t){var e=this.arg(0);return e.isZero()?NaN:0}}.call(this),function(){"use strict";function t(t){for(var e=!0,n=10,r=0;e;){if(r++,r>n)return;e=!1;for(var i=0;i<t.length-1;i++){var o=t[i],a=t[i+1];if(!o.ordered(a)){var c=o;t[i]=t[i+1],t[i+1]=c,e=!0}}}}var e=this.stem||require("./core"),n=e.is,r=e.method,i=(e.Numerical,e.Integer),o=(e.Real,e.Complex,e.Variable),a=e.Multiply,c=(e.Signum,e.Add),u=e.Divide,s=(e.Exponential,e.Logarithm,e.Power),l=e.Subtract,p=e.SquareRoot,h=e.CubeRoot,f=(e.Sine,e.Cosine,e.Tangent,e.Cosecant,e.Secant,e.Cotangent,e.Minus),m=(e.Plus,e.ArcSine,e.ArcCosine,e.ArcTangent,e.HyperbolicSine,e.HyperbolicCosine,e.HyperbolicTangent,e.ArcHyperbolicSine,e.ArcHyperbolicCosine,e.ArcHyperbolicTangent,e.Relation),y=(e.Expression,e.Terminal),g=e.Rational;e.System;m.prototype.canonical=function(t){e.failure(this.class_name()+".canonical not defined",t);for(var n=this.copy(),r=0;r<n.arity;r++)n.args[r]=n.arg(r).canonical();return n},h.prototype.canonical=function(){var t=this.arg(0).canonical();if(n.Integer(t)){for(var e=r.prime_factors(t),i=[],o=[],c=e.length,u=0;u<c;u++)u+2<c&&e[u].equal(e[u+1])&&e[u].equal(e[u+2])?i.push(e[u+=2]):o.push(e[u]);return 0===i.length?t:0===o.length?new a(i).calculate():new a(new a(i).calculate(),new h(new a(o).calculate()))}return new h(t)},p.prototype.canonical=function(){var t=this.arg(0).canonical();if(n.Integer(t)){for(var e=r.prime_factors(t),i=[],o=[],c=e.length,u=0;u<c;u++)u+1<c&&e[u].equal(e[u+1])?(i.push(e[u]),u++):o.push(e[u]);return 0===i.length?t:0===o.length?new a(i).calculate():new a(new a(i).calculate(),new p(new a(o).calculate()))}return new p(t)},y.prototype.canonical=function(){return this.copy()},o.prototype.canonical=function(){return this},f.prototype.canonical=function(){var t=this.arg(0);return n.Minus(t)?t.arg(0).canonical():new a((-1),t.canonical())},l.prototype.canonical=function(){var t=this.arg(0).canonical(),e=this.arg(1).canonical();return e.isZero()?t:new c(t,new f(e))},u.prototype.canonical=function(){console.log(this.toString());var t=this.arg(0).canonical(),e=this.arg(1).canonical();if(n.Rational(t)&&n.Rational(e)){var r=t.numerator(),i=t.denominator(),o=e.numerator(),c=e.denominator();return new g(new a(r,c).calculate(),new a(i,o).calculate()).canonical()}return n.Rational(e)?new a(new g(1,e),t):new a(t,new s(e,(-1)))},s.prototype.canonical=function(){var t=this.arg(0).canonical(),n=this.arg(1).canonical();return t.isZero()?n.isRational()&&!n.isZero()&&n.isPositive()?new i(0):e.failure("Power.canonical: undefined for "+t+"^"+n):t.isOne()?new i(1):n.isZero()?t.isZero()?e.failure("Power.canonical: undefined for "+t+"^"+n):new i(1):new s(t,n)},g.prototype.canonical=function(){if(this.denominator.isOne())return new i(this.numerator);var t=r.gcd(this.numerator,this.denominator);if(t.isOne())return this.copy();var e=u.calculate(this.numerator,t),n=u.calculate(this.denominator,t);return e.equal(n)?new i(1):new g(e,n)},c.prototype.canonical=function(){for(var e=[],r=0;r<this.arity;r++){var i=this.arg(r).canonical();if(n.Add(i))for(var o=0;o<i.arity;o++)e.push(i.arg(o).canonical());else e.push(i)}return t(e),new c(e)},a.prototype.canonical=function(){var e,r,i=[];for(e=0;e<this.arity;e++){var o=this.arg(e).canonical();if(n.Multiply(o))for(r=0;r<o.arity;r++)i.push(o.arg(r).canonical());else i.push(o)}return t(i),new a(i)}}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Numerical,r=(t.Integer,t.Real,t.Complex),i=t.Variable,o=(t.Multiply,t.Signum,t.Add,t.Divide,t.Exponential,t.Logarithm,t.Power,t.Subtract,t.SquareRoot,t.CubeRoot,t.Sine,t.Cosine,t.Tangent,t.Cosecant,t.Secant,t.Cotangent,t.Minus,t.Plus,t.ArcSine,t.ArcCosine,t.ArcTangent,t.HyperbolicSine,t.HyperbolicCosine,t.HyperbolicTangent,t.ArcHyperbolicSine,t.ArcHyperbolicCosine,t.ArcHyperbolicTangent,t.Relation),a=t.Expression,c=t.Rational;t.System;a.prototype.ordered=function(e){return t.failure(this.class_name()+".ordered not defined",e),this.copy()},o.prototype.ordered=function(t){return e.Relation(t)?this.functor.order<=t.functor.order:!e.Terminal(t)},i.prototype.ordered=function(t){return e.Variable(t)?this.symbol<=t.symbol:!e.Terminal(t)},n.prototype.ordered=function(t){return!t.isRational(t)||(this.big?this.lte(t.value):t.big?t.lte(this.value):this.value<=t.value)},c.prototype.ordered=function(t){return!t.isRational(t)||(this.big?this.lte(t.value):t.big?t.lte(this.value):this.value<=t.value)},r.prototype.ordered=function(t){return!0}}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Numerical,t.Integer),r=(t.Real,t.Complex,t.Variable),i=t.Multiply,o=(t.Signum,t.Add),a=(t.Divide,t.Exponential,t.Logarithm,t.Power),c=(t.Subtract,t.SquareRoot,t.CubeRoot,t.Sine,t.Cosine,t.Tangent,t.Cosecant,t.Secant,t.Cotangent,t.Minus,t.Plus),u=(t.ArcSine,t.ArcCosine,t.ArcTangent,t.HyperbolicSine,t.HyperbolicCosine,t.HyperbolicTangent,t.ArcHyperbolicSine,t.ArcHyperbolicCosine,t.ArcHyperbolicTangent,t.Relation),s=t.Expression,l=t.Terminal,p=t.Imaginary,h=t.Rational;t.System;r.prototype.simplify=function(){return this},o.prototype.simplify=function(){for(var t=[],r=[],a=[],c=0;c<this.arity;c++){var u=this.arg(c).simplify();u.isZero()||(e.Integer(u)?r.push(u):e.Rational(u)?a.push(u):t.push(u))}if(a.length>0){var s=a[0].num,l=a[0].den;for(c=1;c<a.length;c++){var p=a[c].num,f=a[c].den;s=new o(new i(s,f),new i(l,p)).calculate(),l=new i(l,f).calculate()}var m=new h(s,l).canonical();e.Integer(m)?r.push(m):t.push(m)}return r.length>0&&t.push(new o(r).calculate()),0===t.length?new n(0):1===t.length?t[0]:new o(t)},s.prototype.simplify=function(e){return t.failure(this.class_name()+".simplify not defined",e),this.copy()},u.prototype.simplify=function(){for(var t=this.copy(),e=0;e<t.arity;e++)t.args[e]=t.args[e].simplify();return t},p.prototype.simplify=function(){var t=this.value.simplify();return e.Zero(t)?new n(0):new p(t)},i.prototype.simplify=function(){var t,r,o=[],a=[],c=[];for(r=0;r<this.arity;r++){if(t=this.arg(r),t.isZero())return new n(0);t.isOne()||(e.Integer(t)?a.push(t.copy()):e.Rational(t)?c.push(t.copy()):(console.log("arg "+r+" "+t),o.push(t.simplify()),console.log("    "+r+" "+t.simplify())))}if(c.length>0){var u=c[0].num,s=c[0].den;for(r=1;r<c.length;r++){var l=c[r].num,p=c[r].den;u=new i(u,l).calculate(),s=new i(s,p).calculate()}var f;if(a.length>0){var m=new i(a).calculate();f=new h(u*m,s).canonical()}else f=new h(u,s).canonical();o.push(f)}else a.length>0&&o.push(new i(a).calculate());return 0===o.length?new n(0):1===o.length?o[0]:(console.log("args "+o.toString()),new i(o))},c.prototype.simplify=function(){return this.arg(0).simplify()},a.prototype.simplify=function(){var t=this.arg(0).simplify(),e=this.arg(1).simplify();return e.isZero()?new n(1):e.isOne()?t:new a(t,e)},l.prototype.simplify=function(){return this.copy()}}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=t.Numerical,r=(t.Integer,t.Real,t.Complex),i=(t.Multiply,t.Signum,t.Add,t.Divide,t.Exponential,t.Logarithm,t.Power,t.Subtract,t.SquareRoot,t.CubeRoot,t.Sine,t.Cosine,t.Tangent,t.Cosecant,t.Secant,t.Cotangent,t.Minus,t.Plus,t.ArcSine,t.ArcCosine,t.ArcTangent,t.HyperbolicSine,t.HyperbolicCosine,t.HyperbolicTangent,t.ArcHyperbolicSine,t.ArcHyperbolicCosine,t.ArcHyperbolicTangent,t.Relation),o=t.Expression,a=(t.Terminal,t.Bool),c=t.Variable,u=t.Imaginary,s=t.Vector,l=t.Matrix;t.System;o.prototype.identical=function(e){return t.failure(this.class_name()+".identical not defined",e)},c.prototype.identical=function(t){return this===t},a.prototype.identical=function(t){return this.value===t.value},n.prototype.identical=function(t){return this.value===t.value},r.prototype.identical=function(t){return this.im===t.im&&this.re===t.re},u.prototype.identical=function(t){return this.value===t.value},s.prototype.identical=function(t){if(e.Vector(t)&&this.arity===t.arity){for(var n=0;n<this.arity;n++)if(!this.array[n].identical(t.array[n]))return!1;return!0}return!1},l.prototype.identical=function(t){if(e.Matrix(t)&&this.colunns===t.colunns&&this.rows===t.rows){for(var n=0;n<this.rows;n++)for(var r=0;r<this.colunns;r++)if(!this.array[n][r].identical(t.array[n][r]))return!1;return!0}return!1},i.prototype.identical=function(t){if(console.log(this.toString()+".identical("+t.toString()+")"),this.functor!==t.functor)return!1;if(this.arity!==t.arity)return!1;for(var e=0;e<this.arity;e++)if(!this.arg(e).identical(t.arg(e)))return!1;return!0}}.call(this),function(){"use strict";var t=this.stem||require("./core"),e=t.is,n=(t.Numerical,t.Integer,t.Real,t.Complex,t.Multiply),r=(t.Signum,t.Add),i=(t.Divide,t.Exponential,t.Logarithm,t.Power,t.Subtract,t.SquareRoot,t.CubeRoot,t.Sine,t.Cosine,t.Tangent,t.Cosecant,t.Secant,t.Cotangent,t.Minus,t.Plus,t.ArcSine,t.ArcCosine,t.ArcTangent,t.HyperbolicSine,t.HyperbolicCosine,t.HyperbolicTangent,t.ArcHyperbolicSine,t.ArcHyperbolicCosine,t.ArcHyperbolicTangent,t.Relation,t.Expression);t.Terminal,t.Imaginary,t.System;i.prototype.cohen=function(){console.log("Expression.cohen() not defined for"),console.log(this.toString())},n.prototype.cohen=function(){var t,i,o,a,c=[],u=[],s=[],l=[],p=[];for(i=0;i<this.arity;i++)t=this.arg(i),t.isRational()?s.push(t):e.Add(t)?u.push(t):c.push(t);if(console.log("args "+c.toString()),console.log("rats "+s.toString()),console.log("terms "+u.toString()),0===s.length||0===u.length)return this.copy();for(i=0;i<u.length;i++){var h=u[i];for(o=0;o<h.arity;o++){for(l=[],a=0;a<c.length;a++)l.push(c[a].copy());for(a=0;a<s.length;a++)l.push(s[a].copy());l.push(h.arg(o).copy()),p.push(new n(l))}}for(i=0;i<p.length;i++)console.log("result "+i+" "+p[i].toString());return new r(p)}}.call(this);