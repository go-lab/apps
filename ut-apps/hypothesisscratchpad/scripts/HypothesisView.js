(function(){window.ut.tools.hypothesis.HypothesisApp.directive("hypothesis",["languageHandler",function(e){return{restrict:"A",template:'<table class="ut_tools_hypothesis_table" ng-class=\'{readOnly: readonly}\'>\n  <tr>\n    <td class="ut_tools_hypothesis" ng-model="hypothesis"\n        droppable>\n      <div class="ut_tools_hypothesis_hint" ng-hide="hypothesis.elements.length > 0 || readonly">Drop and arrange your items here.</div>\n      <div class="ut_tools_hypothesis_body" ui-sortable="sortableOptions" ng-model="hypothesis.elements">\n          <div ng-repeat="element in hypothesis.elements"\n            class=\'ut_tools_hypothesis_concept\'\n            ng-model="element"\n            ng-class=\'{\n            ut_tools_hypothesis_concept_conditional: element.type=="conditional",\n            ut_tools_hypothesis_concept_variable: element.type=="variable",\n            ut_tools_hypothesis_concept_free: element.type=="free",\n            ut_tools_hypothesis_concept_output: element.type=="output",\n            ut_tools_hypothesis_concept_input: element.type=="input"}\'\n          >\n            <conceptView label=\'element.text\'></conceptView>\n          </div>\n      </div>\n    </td>\n    <td class="ut_tools_hypothesis_checkboxes" ng-show="configurationModel.checkboxes">\n      <form name="hypothesisState">\n        <h4>\n          <input type="radio" ng-model="hypothesis.state" value="approved">  Approved <br/>\n          <input type="radio" ng-model="hypothesis.state" value="rejected"> Rejected <br/>\n          <input type="radio" ng-model="hypothesis.state" value="unclear"> Unclear <br/>\n        </h4>\n      </form>\n    </td>\n    <td class="ut_tools_hypothesis_confidence" ng-show="hypothesis.showConfidenceMeter">\n      <hypothesisConfidence readOnly="readonly" confidence="hypothesis.confidence"></hypothesisConfidence>\n    </td>\n    <td class="ut_tools_hypothesis_bin">\n      <i id="ut_tools_hypothesis_trashcan" ng-click="deleteHypothesis($index)" class="ut_tools_hypothesis_icon icon fa fa-2x fa-trash-o activeButton "></i>\n    </td>\n  </tr>\n</table>',link:function(t,s,o){return t.readonly=ut.commons.utils.getBooleanAttributeValue(o,"readonly",!1),t.sortableOptions={axis:"x",revert:!1,revertDuration:50,tolerance:"pointer",distance:5,opacity:.75,scroll:!1,disabled:t.readonly},$(s).find(".ut_tools_hypothesis_hint").text(e.getMsg("ut_tools_hypothesis_empty_hypothesis")),$(s).find("#ut_tools_hypothesis_trashcan").attr("title",e.getMsg("ut_tools_hypothesis_trashcan")),$(s).find(".ut_tools_hypothesis_confidence").attr("title",e.getMsg("ut_tools_hypothesis_confidence")),t.readonly?s.find(".ut_tools_hypothesis_bin").hide():(t.acceptObjectDrop=function(e,t){return"ut_tools_hypothesis_template"===e.dropObjectType||"ut_tools_hypothesis_element"},t.objectDroppedInside=function(e,o){var n,i,l;return n=angular.element(s).scope().$index,o.hasClass("ut_tools_hypothesis_template")?(i=e.dropObjectId,o.hasClass("ut_tools_hypothesis_conditional")?l="conditional":o.hasClass("ut_tools_hypothesis_variable")?l="variable":o.hasClass("ut_tools_hypothesis_input")?l="input":o.hasClass("ut_tools_hypothesis_output")?l="output":(l="free",i=o.find("[name='content']").text()),t.addElement(n,{text:i,type:l})):o.hasClass("ut_tools_hypothesis_element")?setTimeout(function(e){return function(){return n=angular.element(s).scope().$index,t.arrangeElements(n)}}(this),50):void 0},s.find(".ut_tools_hypothesis_bin").droppable({drop:function(e,o){if(!o.draggable.hasClass("ut_tools_hypothesis_template"))return $(angular.element(o.draggable)).hide(),setTimeout(function(){var e,n;return n=angular.element(o.draggable).scope().$index,e=angular.element(s).scope().$index,t.deleteElement(e,n)},100)}}),t.dropCallback=function(e,o){var n,i,l;return n=angular.element(s).scope().$index,o.draggable.hasClass("ut_tools_hypothesis_template")?(i=o.draggable.text(),o.draggable.hasClass("ut_tools_hypothesis_conditional")?l="conditional":o.draggable.hasClass("ut_tools_hypothesis_variable")?l="variable":o.draggable.hasClass("ut_tools_hypothesis_input")?l="input":o.draggable.hasClass("ut_tools_hypothesis_output")?l="output":(l="free",i=o.draggable.find("[name='content']").text()),t.addElement(n,{text:i,type:l})):t.arrangeElements(n)},t.$watch("hypothesis.confidence",function(e,o){var n;if(e!==o)return n=angular.element(s).scope().$index,t.setConfidence(n,t.hypothesis.confidence)}))}}}])}).call(this);
//# sourceMappingURL=HypothesisView.js.map
