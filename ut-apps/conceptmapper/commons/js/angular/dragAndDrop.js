(function(){"use strict";var t,e,r,n,o,u,i,c,a,p,l,s,d,f,g;window.ut=window.ut||{},ut.commons=ut.commons||{},t=window.angular,u="dropObjectOutSideDropArea",f=function(t){if(!t.hasClass("dontShowDropNotAllowed"))return d(t)},g=function(t){return s(t)},p=function(t){return!t.hasClass(u)},d=function(t){if(!t.hasClass("ui-dialog")&&!t.hasClass("dontShowDropNotAllowed"))return t.addClass(u)},s=function(t){return t.removeClass(u)},n=null,l=function(t){return n=t},a=function(){return n},e=function(){return n=null},r=function(t,e,r){var n,o,u,i,c,p,l;return u=t.attr("objectType"),o=t.attr("objectId"),n=e.offset(),l=t.offset(),p={left:l.left-n.left,top:l.top-n.top},c={dropObjectType:u,dropObjectId:o,objectDropLocation:p,dragAndDropTransferObject:a()},r&&(i=ut.commons.utils.getAttributeValue(r,"dropTargetType"),i&&(c.dropTargetType=i)),c},c={helper:null,objectDraggingStarted:null,objectDraggingStopped:null,getDragAndDropTransferObject:null,objectDroppedOutside:null},o=function(){return{restrict:"A",link:function(n,o,u){var i,c,a,s;return c={},i=function(t,e){var r;return r=t.toLowerCase(),u[r]?c[t]=u[r]:e?c[t]=e:void 0},i("helper"),i("revert"),i("revertDuration"),c.revert&&"#"===c.revert[0]&&(s=c.revert,c.revert=function(t){var e,r,n,u,i,c;return t||(i=$(s),c=i.offset(),e=o.offset(),r=o.position(),u={top:c.top-e.top+r.top,left:c.left-e.left+r.left},n=o.data("ui-draggable"),n.originalPosition=u),!t}),a=null,c.start=function(e){return function(e,u){var i,c,p;if(p=t.element(u.helper),a=p.css("z-index"),i=10,"number"==typeof a&&(i+=a),p.css("z-index",i),f(p),c=r(p,o),n.objectDraggingStarted&&(n.objectDraggingStarted(c,p),n.$apply()),n.getDragAndDropTransferObject)return l(n.getDragAndDropTransferObject(c,p))}}(this),c.stop=function(u){return function(u,i){var c,l,s;return l=t.element(i.helper),s=p(l),c=r(l,o),c.dropped=s,n.objectDraggingStopped&&n.objectDraggingStopped(c,l),l.css("z-index",a),g(l),s||n.objectDroppedOutside&&(n.objectDroppedOutside(c,l),n.$apply()),e()}}(this),o.draggable(c),o.css("cursor","move")}}},ut.commons.golabUtils.directive("draggable",[o]),c={acceptObjectDrop:null,objectDroppedInside:null},i=function(){return{restrict:"A",link:function(e,n,o){var u,i,c,a;return c=function(e,r){var n;return n=t.element(r.helper),s(n)},a=function(e,r){var n;return n=t.element(r.helper),d(n)},u=function(u){var i;return!e.acceptObjectDrop||(i=t.element(u),e.acceptObjectDrop(r(i,n,o),i,n))},i=function(u,i){var c,a;return c=t.element(i.helper),e.objectDroppedInside&&(a=e.objectDroppedInside(r(c,n,o),c,n),a&&u.stopPropagation()),g(c),e.$apply()},n.droppable({over:function(t){return function(t,e){return c(t,e)}}(this),out:function(t){return function(t,e){return a(t,e)}}(this),accept:function(t){return u(t)},drop:function(t,e){return i(t,e)},tolerance:"pointer"})}}},ut.commons.golabUtils.directive("droppable",[i])}).call(this);
//# sourceMappingURL=dragAndDrop.js.map
