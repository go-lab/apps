(function(){"use strict";var t,o;window.ut=window.ut||{},ut.tools=ut.tools||{},ut.tools.observationtool=ut.tools.observationtool||{},ut.commons=ut.commons||{},ut.commons.utils=ut.commons.utils||{},t={observation:{}},o=function(t,o,e,n){return{restrict:"E",template:'<div class="observation">\n  <table class="observationTable" border="0">\n    <tr>\n      <td class="observationTitle" colspan=\'9\'>{{title}}</td>\n    </tr>\n    <tr>\n      <td class="observationMarginLeft"></td>\n      <td class="observationContent" valign="top">\n        <textarea class="observationContent observationEditor" msd-elastic ng-model="observation.text" ng-blur="observationBlurred()" ng-keyup="checkHeight()"\n          ng-show="observation.id===observationsState.selectedObservationId"></textarea>\n        <pre class="observationContent" ng-show="observation.id!==observationsState.selectedObservationId">{{ observation.text }}</pre>\n      </td>\n      <td class="observationMarginRight"></td>\n    </tr>\n  </table>\n</div>\n',replace:!0,link:function(i,s,a){var r,l,v,b,d;return v=o.getObservationActionlogger(),d=function(){var o,s;if(i.title="???",i.observation)return o=e("date")(i.observation.created,n),s=e("date")(i.observation.lastModified,n),i.observation.inquiryPhase&&"undefined"!==i.observation.inquiryPhase?i.title=t.getMessage("observationTool.observationTitleWithPhase",o,s,i.observation.inquiryPhase):i.title=t.getMessage("observationTool.observationTitleWithoutPhase",o,s)},i.$watch("observation.lastModified",d),i.observation&&i.observation.created===i.observation.lastModified&&(b=s.find(".observationEditor"),b[0].focus()),l=i.observation?i.observation.text:null,i.observationBlurred=function(){if(i.observation.text!==l)return v.logObservationChanged(i.observation),l=i.observation.text},b=s.find(".observationEditor"),r=-1,i.checkHeight=function(){var t;if(t=b.height(),r!==t)return r=t,ut.commons.utils.gadgetResize()}}}},window.ut.tools.observationtool.observationTool.directive("observation",["languageHandler","observationsModel","$filter","dateTimeFormat",o])}).call(this);
//# sourceMappingURL=observation.js.map
