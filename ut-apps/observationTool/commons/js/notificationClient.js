window.ude=window.ude||{},window.ude.commons=window.ude.commons||{},ude.commons.NotificationClient=function(){function n(n){return n.getProvider().id+n.getActor().id+n.getGenerator().id}function i(n){return"string"!=typeof n?{success:!1,reasonForFailure:"Was passed server url of type "+typeof n+", gotta be a string though."}:{success:!0}}function o(n){return console.log("Initializing socket.io connection to notification service at: %s",n),io(n,{path:"/notification/socket.io/"})}function e(n){return function(i){return i.type===n}}function t(n,i){n.some(function(n){return!(!n.premise(i)||(isGreedy=n.callback(i),!isGreedy))})}return function(r,s){var c=[],u=i(s);if(!u.success)return ude.commons.DisabledNotificationClient(u.reasonForFailure);var a=o(s),f=n(r);return a.on(f,t.bind(null,c)),{register:function(n,i){"string"==typeof n&&(n=e(n)),c.push({premise:n,callback:i})},_processNotification:t.bind(null,c)}}}(),ude.commons.DisabledNotificationClient=function(){function n(n,i){return function(){console.warn("Called %s on DisabledNotificationClient. (Disabled because: %s)",n,i)}}return function(i){return i=i||"(No reason given)",{register:n("register",i),_processNotification:n("_processNotification",i)}}}();