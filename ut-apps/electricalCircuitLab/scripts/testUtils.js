var ut;!function(t){var n;!function(n){var e;!function(n){"use strict";var e=t.commons.tsutils.Map;n.createNewCircuitBoardModel=function(){var e={getMetadata:function(){}},o=new t.commons.actionlogging.ActionLogger(e),i={circuit:{storageHandler:{},actionLogger:o},languageHandler:{}};return new n.CircuitBoardModel(i,null,null)};var o=function(){function t(t){var n=this;this._testCircuitData=t,this._componentMap=new e,this._connectionPointResultMap=new e,this._connectionLinkResultMap=new e,t.components.forEach(function(t){n._componentMap.put(t.id,t)}),this.nonComponents&&this.nonComponents.forEach(function(t){n._componentMap.put(t.id,t)}),t.connectionPoints&&t.connectionPoints.forEach(function(t){n._connectionPointResultMap.put(t.id,t)}),t.connectionLinks&&t.connectionLinks.forEach(function(t){n._connectionLinkResultMap.put(t.id,t)})}return Object.defineProperty(t.prototype,"title",{get:function(){return this._testCircuitData.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"acMode",{get:function(){return this._testCircuitData.acMode===!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"powerSupplies",{get:function(){return this._testCircuitData.powerSupplies},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this._testCircuitData.components},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonComponents",{get:function(){return this._testCircuitData.nonComponents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionPoints",{get:function(){return this._testCircuitData.connectionPoints},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionLinks",{get:function(){return this._testCircuitData.connectionLinks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentSideConnectionPointsResults",{get:function(){return this._testCircuitData.componentSideConnectionPointsResults},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biDirectionalGraphResults",{get:function(){return this._testCircuitData.biDirectionalGraphResults},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circuitResults",{get:function(){return this._testCircuitData.circuitResults},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionPointStates",{get:function(){return this._testCircuitData.connectionPointStates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nrOfCircuits",{get:function(){return this._testCircuitData.biDirectionalGraphResults?this._testCircuitData.biDirectionalGraphResults.length:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expectedError",{get:function(){return this._testCircuitData.expectedError},enumerable:!0,configurable:!0}),t.prototype.getComponentJson=function(t){return this._componentMap.get(t)},t.prototype.getConnectionPointResult=function(t){return this._connectionPointResultMap.get(t)},t.prototype.getConnectionLinkResult=function(t){return this._connectionLinkResultMap.get(t)},t.prototype.testComponent=function(t,n,e){equal(n.getXPos(),e.x,t+" - xPos: "+e.x),equal(n.getYPos(),e.y,t+" - yPos: "+e.y),equal(n.getComponentType(),e.type,t+" - componentType: "+e.type)},t.prototype.testComponents=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of components "+e.length);var i=this.createMap(n,function(t){return t.getDisplayId()}),r=this.createMap(e,function(t){return t.id});r.keys().forEach(function(n){var e=r.get(n),c=i.get(n);c?o.testComponent(t+"."+n,c,e):ok(c,t+"."+n+" - found component")})},t.prototype.testComponentById=function(t,n,e){var o=this.getComponentJson(e);o?this.testComponent(t,n,o):ok(o,t+" - found component: "+e)},t.prototype.testComponentByIds=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of components "+e.length);var i=this.sortIds(e),r=this.createMap(n,function(t){return t.getDisplayId()});i.forEach(function(n){var e=r.get(n);e?o.testComponentById(t+".component "+n,e,n):ok(e,t+" - found component: "+n)})},t.prototype.testConnectionPoint=function(t,n,e){this.testComponent(t+".component1",n.getComponent1(),this.getComponentJson(e.component1)),equal(n.getDirection1(),e.direction1,t+".direction 1: "+e.direction1),this.testComponent(t+".component2",n.getComponent2(),this.getComponentJson(e.component2)),equal(n.getDirection2(),e.direction2,t+".direction 2: "+e.direction2),equal(n.isArtificial(),e.artificial,t+".artificial: "+e.artificial)},t.prototype.testConnectionPoints=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of connection points "+e.length);var i=this.createMap(n,function(t){return t.getId()}),r=this.createMap(e,function(t){return t.id});r.keys().forEach(function(n){var e=r.get(n),c=i.get(n);c?o.testConnectionPoint(t+"."+n,c,e):ok(c,t+"."+n+" - found connectionPoint")})},t.prototype.testConnectionPointById=function(t,n,e){var o=this.getConnectionPointResult(e);o?this.testConnectionPoint(t,n,o):ok(o,t+" - found connectionPoint")},t.prototype.testConnectionPointByIds=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of connection points "+e.length);var i=this.sortIds(e),r=this.createMap(n,function(t){return t.getId()});i.forEach(function(n){var e=r.get(n);e?o.testConnectionPointById(t+".connectionPoint "+n,e,n):ok(e,t+" - found connectionPoint")})},t.prototype.testConnectionLink=function(t,n,e){this.testComponent(t+".component",n.getComponent(),this.getComponentJson(e.component)),this.testConnectionPoint(t+".from",n.fromNode,this.getConnectionPointResult(e.from)),this.testConnectionPoint(t+".to",n.toNode,this.getConnectionPointResult(e.to))},t.prototype.testConnectionLinks=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of connection links "+e.length);var i=this.createMap(n.asArray(),function(t){return t.id}),r=this.createMap(e,function(t){return t.id});r.keys().forEach(function(n){var e=r.get(n),c=i.get(n);c?o.testConnectionLink(t+"."+n,c,e):ok(c,t+"."+n+" - found connectionLink")})},t.prototype.testConnectionLinkById=function(t,n,e){if(e){var o=this.getConnectionLinkResult(e);o?this.testConnectionLink(t,n,o):ok(o,t+" - found connectionLink")}else notOk(n,t+" - no connectionLink")},t.prototype.testConnectionLinkByIds=function(t,n,e){var o=this;equal(n.length,e.length,t+" - nr of connection links "+e.length);var i=this.sortIds(e),r=this.createMap(n.asArray(),function(t){return t.id});i.forEach(function(n){var e=r.get(n);e?o.testConnectionLinkById(t+".connectionLink "+n,e,n):ok(e,t+" - found connectionLink")})},t.prototype.sortIds=function(t){return t.slice(0).sort()},t.prototype.createMap=function(t,n){var o=new e;return t.forEach(function(t){o.put(n(t),t)}),o},t}();n.TestCircuitDataWrapper=o}(e=n.electricity||(n.electricity={}))}(n=t.simulations||(t.simulations={}))}(ut||(ut={}));
//# sourceMappingURL=testUtils.js.map
