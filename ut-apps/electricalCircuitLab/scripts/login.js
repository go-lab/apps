(function(){"use strict";var n,t,r,e;t="goLabNickName",e=angular.module("loginApp",[]),r={esc:27,space:32,enter:13,tab:9,backspace:8,shift:16,ctrl:17,alt:18,capslock:20,numlock:144},n=function(n,t,r){return n.directive(t,function(){return{restrict:"A",link:function(n,e,o){return e.bind("keypress",function(e){if(e.which===r)return n.$apply(function(){return n.$eval(o[t],{event:e})})})}}})},n(e,"ngEnter",r.enter),e.controller("loginCtrl",["$scope",function(n){var r,e,o;return n.errorMessage="",n.nickname="",n.password="",e=localStorage.getItem(t),e&&(n.nickname=e),o=function(){return n.allowLogin=n.nickname.trim().length>=2&&n.password.trim().length>=2},n.$watch("nickname",function(){return n.trimmedName=n.nickname.trim(),o()}),n.$watch("password",function(){return o()}),r=function(){var t,r,e,o,a,i;return r=function(n){var t,r,e,o,a,i;for(i="",r=e=0,o=n.length;0<=o?e<o:e>o;r=0<=o?++e:--e)t=n.charCodeAt(r),a=r%2===0?t+1:t-1,a<=96?a=122:a>=123&&(a=97),i+=String.fromCharCode(a);return i},e=function(n){var t,r,e,o,a;for(o=0,r=e=0,a=n.length;0<=a?e<a:e>a;r=0<=a?++e:--e)t=n.charCodeAt(r),o+=(r+1)*(t-48);return o%=26,String.fromCharCode(o+97)},a=n.nickname.trim(),t=a.split("_"),o="",t.length&&(o+=r(t[0].toLowerCase()),t.length>1&&(o+=e(t[1]))),i=n.password.trim(),i===o},n.login=function(){var e;if(n.allowLogin)return r()?(console.log("go to real page: "+startUrl),localStorage.setItem(t,n.trimmedName),e=localStorage.getItem(t),console.log("storedNickName: "+e),window.location.href=startUrl):alert("login naam en/of wachtwoord verkeerd")}}]),e.directive("login",function(){return{restrict:"E",template:'<div>\n  <br/>\n  <table>\n      <tr>\n          <td>Login naam</td>\n          <td><input ng-model="nickname" ng-enter="nickNameEntered()" placeholder=\'login naam\'></td>\n      </tr>\n      <tr>\n          <td>Wachtwoord</td>\n          <td><input type="password" ng-model="password" ng-enter="login()" placeholder=\'wachtwoord\'></td>\n      </tr>\n      <tr>\n          <td>&nbsp;</td>\n      </tr>\n      <tr>\n          <td></td>\n          <td align="right"><button ng-click="login()" ng ng-disabled="!allowLogin">Login</button></td>\n      </tr>\n  </table>\n</div>\n',replace:!0,link:function(n,t,r){}}})}).call(this);
//# sourceMappingURL=login.js.map
