(function(){"use strict";var n;window.ut=window.ut||{},ut.simulations=ut.simulations||{},ut.simulations.electricity=ut.simulations.electricity||{},n=function(n){var o,t,i;t=[];for(o in n)i=n[o],t.push(i);return t},ut.simulations.electricity.splitBiDirectionalGraph=function(o,t,i){var e,r,c,s,u,l,a,f,g,p,d,h,m,v;for(d=ut.simulations.electricity.debugModelCalculations,f=o,a=t,l=function(){var n;n=[];for(h in i)u=i[h],n.push(u);return n}(),v=function(n){var o,t,i,e,r;for(f=function(){var o,i,e;for(e=[],o=0,i=f.length;o<i;o++)t=f[o],n.connectionPointMap[t.getId()]||e.push(t);return e}(),r=a.asArray(),i=0,e=r.length;i<e;i++)o=r[i],n.connectionLinkMap[o.id]&&a.removeLink(o);if(l=function(){var o,t,i;for(i=[],o=0,t=l.length;o<t;o++)u=l[o],n.componentMap[u.getId()]||i.push(u);return i}(),d)return console.log("After remove: nr of connectionLinks: "+a.size()+", nr of connectionPoints: "+f.length+", nr of components: "+l.length)},s=function(){var n,o,t;return n={},o={},t=function(i){var e,r,c,s,u;for(o[i.getId()]=i,r=a.getFromLinks(i),u=[],c=0,s=r.length;c<s;c++)e=r[c],"undefined"==typeof n[e.id]?(n[e.id]=e,u.push(t(e.toNode))):u.push(void 0);return u},t(f[0]),{connectionLinkMap:n,connectionPointMap:o}},c=function(n){var o,t,i;i={},t=n.connectionLinkMap;for(h in t)o=t[h],u=o.getComponent(),i[u.getId()]=u;return i},p=function(n){var o,t;t=new ut.simulations.electricity.LinkArray;for(h in n)o=n[h],t.addLink(o);return t},m=function(n){var o,t;return o=function(){var o,t,i,e,r;for(console.log("Used components:"),t=0,e=n.components,r=[],o=0,i=e.length;o<i;o++)u=e[o],console.log(" "+t+": "+u.getDisplayId()),r.push(++t);return r},t=function(){var o,t,i,e,r,c,s,u,l,a,f;for(console.log("Used connectionLinks:\n"+n.connectionLinks.getAllLinksAsString(" ")),console.log("Used connectionPoints:"),e=0,l=n.connectionPoints,f=[],i=0,s=l.length;i<s;i++){for(t=l[i],console.log(" "+e+": "+t),r=0,a=n.connectionLinks.getFromLinks(t),c=0,u=a.length;c<u;c++)o=a[c],console.log("  "+r+": to "+o.toNode),++r;f.push(++e)}return f},console.log("Information of found bidirection graph"),o(),t()},r=[],g=l.length;f.length>0&&g>0;)e=s(),e.componentMap=c(e),e.connectionPoints=n(e.connectionPointMap),e.components=n(e.componentMap),e.connectionLinks=p(e.connectionLinkMap),r.push(e),v(e),d&&m(e),--g;return d&&console.log("Found nr of bidirectional graphs: "+r.length),r}}).call(this);
//# sourceMappingURL=biDirectionalGraphSplitter.js.map
