var ut;!function(t){var e;!function(e){var i;!function(e){"use strict";var i=t.commons.tsutils.Map,n=function(){function t(t){this._id=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this.getId()},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.nodesToIdsString=function(t,e){void 0===e&&(e=!0);var i=t.map(function(t){return t.getId()}).join(", ");return e?t.length+"*["+i+"]":"["+i+"]"},t}();e.Node=n;var r=function(){function t(t,e,i){this._fromNode=t,this._toNode=e,this._id=i}return Object.defineProperty(t.prototype,"fromNode",{get:function(){return this._fromNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toNode",{get:function(){return this._toNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t}();e.Link=r;var o=function(){function t(){this._links=new i,this._fromLinks=null,this._toLinks=null,this._array=null}return t.prototype.addLink=function(t){this._links.put(t.id,t),this.resetIndex()},t.prototype.removeLink=function(t){this._links.remove(t.id),this.resetIndex()},Object.defineProperty(t.prototype,"length",{get:function(){return this.index(),this._array.length},enumerable:!0,configurable:!0}),t.prototype.size=function(){return this.length},t.prototype.asArray=function(){return this.index(),this._array},t.prototype.resetIndex=function(){this._array=null},t.prototype.index=function(){var t=this;null===this._array&&(this._array=[],this._fromLinks=[],this._toLinks=[],this._links.values().forEach(function(e){t._array.push(e),t._fromLinks[e.fromNode.id]||(t._fromLinks[e.fromNode.id]=[]),t._fromLinks[e.fromNode.id].push(e),t._toLinks[e.toNode.id]||(t._toLinks[e.toNode.id]=[]),t._toLinks[e.toNode.id].push(e)}))},t.prototype.getFromLinks=function(t){return this.index(),this._fromLinks[t.id]?this._fromLinks[t.id]:[]},t.prototype.getToLinks=function(t){return this.index(),this._toLinks[t.id]?this._toLinks[t.id]:[]},t.prototype.getFilteredLinks=function(t){return this._links.values().filter(function(e){return t(e)})},t.prototype.getAllLinksAsString=function(t){var e="",i="";"string"==typeof t&&(i=t);var n=0;return this._links.values().forEach(function(t){e+=i+n+": "+t+"\n",n++}),e.length>0&&(e=e.substr(0,e.length-1)),e},t}();e.LinkArray=o;var s=0,d=function(){function t(t){void 0===t&&(t=null),this._nodeTracker=t,this._trackedNodes=new i,this._id=s++}return t.prototype.nodeVisited=function(t){this._trackedNodes.put(t.getId(),t)},t.prototype.isNodeVisited=function(t){var e=this._trackedNodes.containsKey(t.getId());return!!e||!!this._nodeTracker&&this._nodeTracker.isNodeVisited(t)},t.prototype.isNodeVisitedById=function(t){var e=this._trackedNodes.containsKey(t);return!!e||!!this._nodeTracker&&this._nodeTracker.isNodeVisitedById(t)},t.prototype.getVisitedNode=function(t){return this._trackedNodes.containsKey(t)?this._trackedNodes.get(t):this._nodeTracker?this._nodeTracker.getVisitedNode(t):null},t.prototype.isNodeTracked=function(t){for(var e=0,i=this._trackedNodes.values();e<i.length;e++){var n=i[e];if(n===t)return!0}return!!this._nodeTracker&&this._nodeTracker.isNodeTracked(t)},t.prototype.copyNodesVisited=function(t){var e=this;t.getNodesVisited().forEach(function(t){e.nodeVisited(t)})},t.prototype.getNodesVisited=function(){return this._trackedNodes.values()},t.prototype.toString=function(){var t="NodeTracker["+this._id+"](trackedNodes=[";return this._trackedNodes.keys().forEach(function(e){t+=e+","}),t+="]",this._nodeTracker&&(t+=",nodeTracker="+this._nodeTracker),t+")"},t}();e.NodeTracker=d}(i=e.electricity||(e.electricity={}))}(e=t.simulations||(t.simulations={}))}(ut||(ut={}));
//# sourceMappingURL=links.js.map
