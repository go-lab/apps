(function(){"use strict";var t,e,o,i=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function o(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},r={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1};window.ut=window.ut||{},ut.commons=ut.commons||{},ut.commons.ResourceEventEmitterModel=ut.commons.ResourceEventEmitterModel||{},ut.simulations=ut.simulations||{},ut.simulations.electricity=ut.simulations.electricity||{},e={acMode:!1,imageSet:"symbolic",showResistorColorBars:!0,showLightEffect:!0,circuitBoardOptions:{xSize:5,ySize:6},availableComponents:[{type:"wire",x:0,y:0,rotate:0},{type:"corner",x:0,y:0,rotate:0},{type:"split",x:0,y:0,rotate:0},{type:"cross",x:0,y:0,rotate:0},{type:"resistor",x:0,y:0,rotate:0,resistance:100},{type:"dcVoltageSource",x:0,y:0,rotate:0,voltage:10},{type:"battery1_5V",x:0,y:0,rotate:0,voltage:1.5},{type:"battery9V",x:0,y:0,rotate:0,voltage:9},{type:"switch2Off",x:0,y:0,rotate:0},{type:"switch2Left",x:0,y:0,rotate:0},{type:"light",x:0,y:0,rotate:0,resistance:50,voltage:5},{type:"ohmMeterSource",x:0,y:0,rotate:0,resistance:0,voltage:1}],availablePowerSupplies:[{type:"dcVoltageSource",label:"power",voltage:{value:0,minimum:-25,maximum:25,step:.001}}],availableMeters:[{type:"ampere",label:"amp 1",maxFactor:2},{type:"volt",label:"volt 1",maxFactor:2},{type:"watt",label:"power 1",maxFactor:2},{type:"ohm",label:"ohm",maxFactor:0}]},t="<ul>\n  <li> Batteries<br/> The batteries in the “Components” container are working independent from the power supply. </li>\n  <li> Meters<br/> The circle with the letter of the meter represents the sensor. Drag the small circles within each meter and place them on the circuit board. </li>\n  <li> Removing things<br/> You can remove things from the circuit by dragging them outside the circuit area. </li>\n  <li> Editing resistor values<br/> Select the resistor and click on it. </li>\n  <li> Switches<br/> Select the switch and click on it. </li>\n  <li> Light bulbs<br/> The light bulbs do not work in IE9 or earlier. </li>\n</ul>",o={metadata:{actor:{objectType:"person",id:"unknown user@http://130.89.152.19:8080",displayName:"unknown user"},target:{objectType:"configuration",forApplication:"circuitLab",id:"70ad09b4-7dc0-4a82-d71a-62bbf30d10bfssf",displayName:"initial configuration"},generator:{objectType:"application",url:"http://130.89.152.19:8080/golab/tools/hypothesis/src/main/webapp/hypothesis.html",id:"ce6fc3d0-c48e-4929-f282-a77bb97dcc57tgd",displayName:"circuitLab"},provider:{objectType:"ils",url:"http://130.89.152.19:8080/golab/tools/hypothesis/src/main/webapp/hypothesis.html",id:"http://130.89.152.19:8080",inquiryPhase:"unknown",displayName:"unknown"},published:"2014-09-30T08:15:08.148Z",id:"a0fee60f-7fc8-45c5-fccb-52616418d9cffsgs"},content:e},ut.simulations.electricity.CircuitLabConfigurationModel=function(e){function r(e){this.getComponentDAO=i(this.getComponentDAO,this),r.__super__.constructor.call(this,e,t,"electricalCircuitLab"),this.circuitBoardModels=[],this.circuitSimulatorEngine=null,this.availableComponents=new ut.simulations.electricity.ListForObjectsWithId,this._configValues={imageSets:["symbolic","realistic"]},this._acMode=!1,this._imageSet=this._configValues.imageSets[0],this._showResistorColorBars=!0,this._showResistorValue=!0,this._showLightBulbPowerValue=!0,this._showLightBulbVoltageValue=!0,this._showLightEffect=!0,this.circuitBoardOptions={xSize:5,ySize:6},this.availableMeters=[],this.availablePowerSupplies=[],Object.defineProperties(this,{configValues:{get:this.getConfigValues},acMode:{get:this.isAcMode,set:this.setAcMode},showResistorColorBars:{get:this.getShowResistorColorBars,set:this.setShowResistorColorBars},showResistorValue:{get:this.getShowResistorValue,set:this.setShowResistorValue},showLightBulbPowerValue:{get:this.getShowLightBulbPowerValue,set:this.setShowLightBulbPowerValue},showLightBulbVoltageValue:{get:this.getShowLightBulbVoltageValue,set:this.setShowLightBulbVoltageValue},showLightEffect:{get:this.getShowLightEffect,set:this.setShowLightEffect},imageSet:{get:this.getImageSet,set:this.setImageSet}})}return s(r,e),r.prototype.getConfigValues=function(){return this._configValues},r.prototype.getCircuitBoardOptions=function(){return this.circuitBoardOptions},r.prototype.setCircuitBoardOptions=function(t){return t.xSize&&(this.circuitBoardOptions.xSize=t.xSize),t.ySize&&(this.circuitBoardOptions.ySize=t.ySize),this.emitModelChanged()},r.prototype.getImageSet=function(){return this._imageSet},r.prototype.setImageSet=function(t){if(a.call(this._configValues.imageSets,t)>=0&&this._imageSet!==t)return this._imageSet=t,this.emitModelChanged()},r.prototype.isAcMode=function(){return this._acMode},r.prototype.setAcMode=function(t){if(this._acMode!==t)return this._acMode=t,this.circuitSimulatorEngine&&(this.circuitSimulatorEngine.acMode=t),this.availableMeters.map(function(e){return e.acMode=t}),this.availablePowerSupplies.map(function(e){return e.acMode=t}),this.emitModelChanged()},r.prototype.getShowResistorColorBars=function(){return this._showResistorColorBars},r.prototype.setShowResistorColorBars=function(t){if(this._showResistorColorBars!==t)return this._showResistorColorBars=t,this.emitModelChanged()},r.prototype.getShowResistorValue=function(){return this._showResistorValue},r.prototype.setShowResistorValue=function(t){if(this._showResistorValue!==t)return this._showResistorValue=t,this.emitModelChanged()},r.prototype.getShowLightBulbPowerValue=function(){return this._showLightBulbPowerValue},r.prototype.setShowLightBulbPowerValue=function(t){if(this._showLightBulbPowerValue!==t)return this._showLightBulbPowerValue=t,this.emitModelChanged()},r.prototype.getShowLightBulbVoltageValue=function(){return this._showLightBulbVoltageValue},r.prototype.setShowLightBulbVoltageValue=function(t){if(this._showLightBulbVoltageValue!==t)return this._showLightBulbVoltageValue=t,this.emitModelChanged()},r.prototype.getShowLightEffect=function(){return this._showLightEffect},r.prototype.setShowLightEffect=function(t){if(this._showLightEffect=t)return this._showLightEffect=t,this.emitModelChanged()},r.prototype.setCircuitSimulatorEngine=function(t){return this.circuitSimulatorEngine=t},r.prototype.addCircuitBoardModel=function(t){return this.circuitBoardModels.push(t)},r.prototype.loadDefaultConfiguration=function(){return this.loadFromResource(o)},r.prototype.getResourceContent=function(){var t,e,o,i;return i=r.__super__.getResourceContent.call(this),i.availableMeters=function(){var t,o,i,s;for(i=this.availableMeters,s=[],t=0,o=i.length;t<o;t++)e=i[t],s.push(e.getConfigJson());return s}.call(this),i.availablePowerSupplies=function(){var t,e,i,s;for(i=this.availablePowerSupplies,s=[],t=0,e=i.length;t<e;t++)o=i[t],s.push(o.getConfigJson());return s}.call(this),i.availableComponents=function(){var e,o,i,s;for(i=this.availableComponents.getList(),s=[],e=0,o=i.length;e<o;e++)t=i[e],s.push(t.getJson());return s}.call(this),i.circuitBoardOptions=this.getCircuitBoardOptions(),i.imageSet=this.getImageSet(),i.acMode=this.isAcMode(),i.showResistorColorBars=this.getShowResistorColorBars(),i.showResistorValue=this.getShowResistorValue(),i.showLightBulbPowerValue=this.getShowLightBulbPowerValue(),i.showLightBulbVoltageValue=this.getShowLightBulbVoltageValue(),i.showLightEffect=this.getShowLightEffect(),i},r.prototype.loadFromResourceContent=function(t){if(r.__super__.loadFromResourceContent.call(this,t),this.clearContent(),this.loadMeters(t.availableMeters),this.loadPowerSupplies(t.availablePowerSupplies),this.loadComponents(t.availableComponents),t.circuitBoardOptions&&this.setCircuitBoardOptions(t.circuitBoardOptions),t.imageSet&&this.setImageSet(t.imageSet),null!=t.acMode?this.setAcMode(t.acMode):this.setAcMode(!1),null!=t.showResistorColorBars&&this.setShowResistorColorBars(t.showResistorColorBars),null!=t.showResistorValue&&this.setShowResistorValue(t.showResistorValue),null!=t.showLightBulbPowerValue&&this.setShowLightBulbPowerValue(t.showLightBulbPowerValue),null!=t.showLightBulbVoltageValue&&this.setShowLightBulbVoltageValue(t.showLightBulbVoltageValue),null!=t.showLightEffect)return this.setShowLightEffect(t.showLightEffect)},r.prototype.loadMeters=function(t){var e,o,i,s,r,a,n,l;for(o=function(e){return function(){var o,i,s,r,a,n,l,u,h,c;if(l=-1,h=-1,c=-1,u=-1,o=function(t){var o,i;switch(i=0,o=3,t.minFactor?(i=t.minFactor,o=t.maxFactor):i=-t.maxFactor,t.type){case"ampere":return++l,new ut.simulations.electricity.AmpereMeterModel("amp"+l,i,o,l,t.label,e.acMode);case"volt":return++h,new ut.simulations.electricity.VoltMeterModel("volt"+h,i,o,h,t.label,e.acMode);case"watt":return++c,new ut.simulations.electricity.WattMeterModel("watt"+c,i,o,c,t.label,e.acMode);case"ohm":return++u,new ut.simulations.electricity.OhmMeterModel("ohm"+u,i,o,u,t.label,e.acMode,e.circuitSimulatorEngine);default:return console.log("unknown meter type: "+JSON.stringify(t)),null}},n=[],t)for(i=0,r=t.length;i<r;i++)s=t[i],a=o(s),a&&n.push(a);return n}}(this),this.availableMeters=o(),null!=(a=this.circuitSimulatorEngine)&&a.setMeters(this.availableMeters),n=this.circuitBoardModels,l=[],i=0,s=n.length;i<s;i++)e=n[i],r=this.circuitSimulatorEngine.circuitModel===e?this.availableMeters:o(),l.push(e.getAvailableMeters().replaceMeters(r));return l},r.prototype.loadPowerSupplies=function(t){var e,o,i,s,r,a;for(o=function(e){return function(){var o,i,s,r,a,n,l,u,h;if(l=-1,n=-1,u=-1,o=function(t){var o;switch(t.type){case"dcVoltageSource":if(++u,0===u)return o=new ut.simulations.electricity.PowerModel("dcVoltageSource"+u,t.label,e.acMode),o.loadConfigJson(t),o;throw new Error("Only one powerSource is allowed");default:return console.log("unknown power supply type type: "+JSON.stringify(t)),null}},a=[],t)for(i=0,r=t.length;i<r;i++)s=t[i],h=o(s),h&&a.push(h);return a}}(this),this.availablePowerSupplies=o(),r=this.circuitBoardModels,a=[],i=0,s=r.length;i<s;i++)e=r[i],a.push(e.getAvailablePowerSupplies().replacePowerSupplies(o()));return a},r.prototype.createComponent=function(t){return new ut.simulations.electricity.ComponentModel(t,(!0))},r.prototype.loadComponents=function(t){var e,o,i,s,r;if(r=[],t)for(i=0,s=t.length;i<s;i++)o=t[i],e=this.createComponent(o),r.push(e);return this.availableComponents.replaceObjects(r)},r.prototype.getComponentDAO=function(){return{getAvailableComponents:function(t){return function(){return t.availableComponents.getList()}}(this),getNewComponent:function(t){return function(e){return t.createComponent(t.availableComponents.getObject(e).getJson())}}(this)}},r}(window.ut.commons.ConfigurationModel)}).call(this);
//# sourceMappingURL=circuitLabConfigurationModel.org.js.map
