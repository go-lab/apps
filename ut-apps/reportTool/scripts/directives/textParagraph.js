"use strict";var ut;!function(t){var e;!function(t){var e;!function(t){function e(t,e){return{restrict:"E",template:'\n<div class=\'textParagraph\'>\n   <text-angular class="htmlEditor" ng-model="text.html" ng-show="reportModel.editMode"\n      ta-toolbar="'+o+'" ng-blur=\'textBlurred()\'></text-angular>\n   <div ng-bind-html="text.displayHtml" ng-hide="reportModel.editMode"></div>\n</div>\n',replace:!1,link:function(e,o,l){var a=e,i=a.reportParagraph,d="",c=d;a.text={html:d,displayHtml:d};var u=function(){var t=a.text.html.replace(n,"");t=t.replace(r,"</p>"),a.text.displayHtml=t},p=function(){d=i.text,c=d,a.text.html=d,u()},g=function(t,e){return t!==e},s=function(e){void 0===e&&(e=!1);var o=a.text.html,n=o!==c&&(e||g(o,d));(n||o!==d)&&(a.reportParagraph.setText(o,n),d=o,n?(t.reportActionLogger.logTextChanged(i),c=o,console.log("new lastBigChangeValue: "+c)):console.log("small change: "+o))};a.$watch("text.html",function(t){s(),u()}),t.addListeners(["modelLoaded","modelCleared","contentCleared","contentLoaded"],function(){p()}),a.textBlurred=function(){s(!0)},p()}}}var o="[['bold','italics','underline'],['ul','ol','indent','outdent'],['pre','quote'],['insertLink','insertVideo']]",n=/(<p>(<br>)*<\/p>)+$/,r=/(<br>)+<\/p>$/;t.reportingTool.directive("textParagraph".toLowerCase(),["reportModel","configurationModel",e])}(e=t.reportingtool||(t.reportingtool={}))}(e=t.tools||(t.tools={}))}(ut||(ut={}));
//# sourceMappingURL=textParagraph.js.map
