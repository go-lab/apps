"use strict";var ut;!function(t){var n;!function(t){var n;!function(t){function n(t,n,r){return{restrict:"E",template:'\n<div class="floatingToolbar">\n   <table>\n      <tr>\n         <td class="dragBar">\n         </td>\n         <td>\n            <span ng-transclude class="floatingToolbarContent"></span>\n         </td>\n      </tr>\n   </table>\n</div>\n',transclude:!0,replace:!0,link:function(a,u,s){var i=0,c=0,l=u.position(),f=l.left,d=l.top,v=0,h=0,p=0,m=0,g=0,w=0,b=function(t){var n=angular.element(t.target);return n.hasClass("dragBar")},k=function(){0===g&&(g=u.width()+parseInt(u.css("border-right-width"))),0===w&&(w=u.height()+2*parseInt(u.css("border-bottom-width"))),p=n.innerWidth-g,m=n.innerHeight-w},y=function(t){var n=null;switch(t.type){case"mousedown":case"mousemove":n=t;break;case"touchstart":case"touchmove":n=t.originalEvent.targetTouches[0];break;default:console.error("unknown move event type: "+t.type)}return[n.pageX,n.pageY]},T=function(t,n){var o=Math.min(Math.max(f,v),p),e=Math.min(Math.max(d,h),m);return[o,e]},x=function(t,n){var o=T(t,n),e=o[0],r=o[1];return u.css({left:e+"px",top:r+"px"}),[e,r]},M=function(t){var n=y(t),o=n[0],e=n[1];f=o-i,d=e-c,x(f,d)},C=function(n){t.off("mousemove",M),t.off("mouseup",C)},$=function(n){t.off("touchmove",M),t.off("touchend",$)},B=function(n){if(b(n)){k(),n.preventDefault();var o=y(n),e=o[0],r=o[1];switch(i=e-f,c=r-d,n.type){case"mousedown":t.on("mousemove",M),t.on("mouseup",C);break;case"touchstart":t.on("touchmove",M),t.on("touchend",$);break;default:console.error("unknown startDrag event type: "+n.type)}}};u.on("mousedown",B),u.on("touchstart",B);var D=function(){k(),t=x(f,d),f=t[0],d=t[1];var t};n.onresize=D,o.mobile&&r(D,e)}}}var o=window.head,e=1e3;t.reportingTool.directive("floatingToolbar".toLowerCase(),["$document","$window","$interval",n])}(n=t.reportingtool||(t.reportingtool={}))}(n=t.tools||(t.tools={}))}(ut||(ut={}));
//# sourceMappingURL=floatingToolbar.js.map
