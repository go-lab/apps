(function(){"use strict";var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function n(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;window.ut=window.ut||{},window.ut.tools=window.ut.tools||{},window.ut.tools.hypothesis=window.ut.tools.hypothesis||{},window.ut.tools.hypothesis.HypothesesModel=function(n){function s(e){this.applyLogAction=t(this.applyLogAction,this),this.setHypothesis=t(this.setHypothesis,this),s.__super__.constructor.call(this,e,"hypotheses"),this.debug=!0,this.clearContent()}return e(s,n),s.prototype.createNewModel=function(){return new window.ut.tools.hypothesis.HypothesesModel(this.environmentHandlers)},s.prototype.getResourceContent=function(){var t,e,o,n,s,i,r,h;for(t=JSON.parse(JSON.stringify(this._content)),n=0,i=t.length;n<i;n++)for(o=t[n],delete o.$$hashKey,h=o.elements,s=0,r=h.length;s<r;s++)e=h[s],delete e.$$hashKey;return t},s.prototype.getResourceContentWithHashkeys=function(){return this._content},s.prototype.loadFromResourceContent=function(t){return this._content=t,setTimeout(function(){return ut.commons.utils.gadgetResize()},100)},s.prototype.clearContent=function(){return this._content=[]},s.prototype.getHypotheses=function(){return this._content},s.prototype.addEmptyHypothesis=function(){var t;return t={id:ut.commons.utils.generateUUID(),elements:[],tested:!1,approved:!1,state:"unclear",confidence:50,showConfidenceMeter:!0},this._content.push(t),this.emitModelChanged(),t},s.prototype.addHypothesis=function(t){return this._content.push(t),this.emitModelChanged(),t},s.prototype.deleteHypothesis=function(t){var e;return e=this._content[t].id,this._content.splice(t,1),this.emitModelChanged(),e},s.prototype.deleteHypothesisById=function(t){var e;return e=this._content.length,this._content=this._content.filter(function(e){return e.id!==t}),this.emitModelChanged(),e!==this._content.length},s.prototype.addElement=function(t,e){return this._content[t].elements.push(e),this.emitModelChanged(),this._content[t]},s.prototype.deleteElement=function(t,e){return this._content[t].elements.splice(e,1),this.emitModelChanged(),this._content[t]},s.prototype.setConfidence=function(t,e){return this._content[t].confidence=e,this.emitModelChanged(),this._content[t]},s.prototype.setShowConfidenceMeter=function(t){var e,o,n,s;for(s=this._content,o=0,n=s.length;o<n;o++)e=s[o],e.showConfidenceMeter=t;return this.emitModelChanged(),null},s.prototype.setHypothesis=function(t){var e,n,s,i;this.debug&&console.log("setHypothesis: "),this.debug&&console.log(t),console.log(this._content),s=this._content,i=[];for(n in s)if(o.call(s,n)){if(e=s[n],e.id===t.id){console.log("found matching hypothesis!"),this._content[n]=t,this.emitModelChanged(),this.debug&&console.log("new content after: "),console.log(this._content);break}i.push(void 0)}return i},s.prototype.applyLogAction=function(t,e){switch(this.debug&&console.log("applying log action:"),this.debug&&console.log(t),t.verb){case"add":this.debug&&console.log("applying "+t.verb),this.addHypothesis(t.object.content);break;case"remove":this.debug&&console.log("applying "+t.verb),this.deleteHypothesisById(t.object.id);break;case"change":this.debug&&console.log("applying "+t.verb),this.setHypothesis(t.object.content);break;default:s.__super__.applyLogAction.call(this,t,e)}return null!=e&&e(),this.emitEvent("logApplied")},s}(window.ut.commons.ResourceEventEmitterModel)}).call(this);
//# sourceMappingURL=HypothesesModel.js.map
