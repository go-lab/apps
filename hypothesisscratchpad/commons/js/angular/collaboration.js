(function(){"use strict";var o;window.ut=window.ut||{},ut.commons=ut.commons||{},o=function(o,t,n){return{restrict:"E",template:'<li ng-show="showStartCollaboration">\n  <i class="fa fa-users fa-fw activeButton fontAweSomeButton" ng-click=\'startCollaboration()\'\n    title="{{\'collaboration.start.tooltip\' | g4i18n}}"></i>\n</li>',replace:!0,link:function(e,r,a){var i,l,c,s,u,d,m;if(e.showStartCollaboration=!1,!n.isProductionVersion()&&(c=function(o){var t,n;return n=a[o.toLowerCase()],"string"!=typeof n||""===n?(console.error("you must define an attribute '"+o+"'"),null):(t=e[n],t?!t instanceof window.ut.commons.ResourceEventEmitterModel?(console.error("expected to find a model class object on the scope, named "+n+", which must be an instance of window.ut.commons.ResourceEventEmitterModel"),null):t:(console.error("expected to find a model class object on the scope, named "+n),null))},s=c("modelName"),null!==s))return m=function(){return e.showStartCollaboration="manualStart"===o.collaborationStartup},o.addListeners(["modelChanged"],m),m(),l=!1,u=function(){var o;if(!l)return console.log("starting TogetherJS collaboration...."),new window.ut.commons.TogetherClient(s,s.getMetadataHandler(),t),o={objectType:"collaboration"},t.logStart(o),l=!0},e.startCollaboration=function(){return u()},i=function(){if("autoStart"===o.collaborationStartup)return u()},e.golab.startupFinished?i():d=e.$watch("golab.startupFinished",function(o){if(o)return d(),i()})}}},ut.commons.golabUtils.directive("collaboration".toLowerCase(),["configurationModel","actionLogger","resourceLoader",o])}).call(this);
//# sourceMappingURL=collaboration.js.map
