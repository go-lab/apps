(function(){"use strict";var n,e,t,i;e="goLabNickName",i=angular.module("loginApp",[]),t={esc:27,space:32,enter:13,tab:9,backspace:8,shift:16,ctrl:17,alt:18,capslock:20,numlock:144},n=function(n,e,t){return n.directive(e,function(){return{restrict:"A",link:function(n,i,r){return i.bind("keypress",function(i){if(i.which===t)return n.$apply(function(){return n.$eval(r[e],{event:i})})})}}})},n(i,"ngEnter",t.enter),i.controller("loginCtrl",["$scope","$timeout",function(n,t){return n.errorMessage="",n.newNickname="",n.nickName=localStorage.getItem(e),n.nickName&&(n.newNickname=n.nickName),n.$watch("newNickname",function(){return n.trimmedName=n.newNickname.trim(),n.allowLogin=n.newNickname.length>=2}),n.login=function(){return localStorage.setItem(e,n.trimmedName),n.nickName=localStorage.getItem(e),n.newNickname="",t(function(){return n.newNickname=n.nickName})},n.logout=function(){return localStorage.removeItem(e),n.nickName=""}}]),i.directive("login",function(){return{restrict:"E",template:'<div>\n  <div>\n    <h2>Please enter your nickname</h2>\n  </div>\n  <table>\n      <tr>\n          <td><input ng-model="newNickname" ng-enter="login()" placeholder=\'nickname\' ng-disabled=\'nickName\'></td>\n      </tr>\n      <tr>\n          <td>&nbsp;</td>\n      </tr>\n      <tr>\n          <td align="right">\n            <button ng-click="logout()" ng ng-disabled="!nickName">Logout</button>\n            <button ng-click="login()" ng ng-disabled="!allowLogin || nickName">Login</button>\n          </td>\n      </tr>\n  </table>\n</div>',replace:!0,link:function(n,e,t){}}}),i.directive("loggedIn".toLowerCase(),function(){return{restrict:"E",template:'<div ng-show="nickName">\n    <div ng-transclude></div>\n</div>',replace:!0,transclude:!0,link:function(n,e,t){}}})}).call(this);
//# sourceMappingURL=login.js.map
