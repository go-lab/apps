{"version":3,"sources":["languageHandlers.coffee"],"names":["LanguageHandler","OpenSocialLanguageHandler","StandAloneLanguageHandler","cdataEnd","cdataStart","createResult","debug","getErrorMessage","getFilePath","handleCData","i","i_","indexFile","languagePath","loadFile","pathCacheControlPostFix","replaceRegExps","resourceLoader","undefinedKeyMessage","waitingCallbacks","slice","this","golab","common","results","j","RegExp","_debug","_getSpecialTranslation","setSpecialTranslationFunction","specialTranslationFunction","getMessage","arg","args","index","key","len","message","rawMessage","arguments","length","call","toString","getMsg","replace","match","console","log","getI_Message","toLowerCase","indexOf","apply","substr","concat","error","existsMessage","value","getLanguage","superClass","__super__","constructor","gadgets","gadgetPrefs","Prefs","getLang","fileName","readyHandler","errorHandler","xhttp","window","XMLHttpRequest","ActiveXObject","open","onload","_this","readyState","status","onreadystatechange","send","filePath","fileType","statusText","getToolCommonsPathCacheControlPostFix","getIncludeUrl","content","cdataEndIndex","cdataStartIndex","substring","desiredLanguage","callback","languageMap","fallBackLanguage","fallBackLanguageMap","languageFiles","currentLanguage","loadLanguageFileIndex","selectInitialLanguage","errorMessage","indexFilePath","parseIndexFileContent","responseText","indexFileContent","language","languageParts","line","lines","split","trim","JSON","stringify","getCurrentLanguage","getLanguages","file","ref","setTimeout","setLanguage","simpleDesiredLanguage","parse","getSimpleLanguage","languageFileName","useLanguage","getLanguageFileName","loadLanguageFile","languageFilePath","parseLanguageFileContent","xmlContent","closeTagIndex","closeTagString","endNameAttributeIndex","endNameAttributeString","endOpenTagIndex","endOpenTagString","loopLeftCount","nrOfKeys","startNameAttributeIndex","startNameAttributeString","startNameValueIndex","startOpenTagIndex","startOpenTagString","startValueIndex","warn","hasOwnProperty","getFallBackLanguage","getNrOfLanguageFiles","getLanguageFile","getNrOfKeys","testing","languagehandlers","createLanguageHandler","createTheLanguageHandler","languageHandlerCreated","languageHandler","push"],"mappings":"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","file":"languageHandlers.js"}