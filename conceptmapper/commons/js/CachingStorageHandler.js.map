{"version":3,"sources":["CachingStorageHandler.coffee"],"names":["CachingStorageHandler","_debug","_logCacheStart","getIdentifyingUrl","goLabCacheStorageInfoKey","goLabCacheStorageKey","identifyingUrl","maxCacheAge","maxCacheInitializedWait","maxCacheInitializedWaitStep","maxCacheInitializedWarnStep","bind","fn","me","apply","arguments","window","golab","ils","storage","memory","path","subPaths","location","pathname","split","length","toLocaleLowerCase","protocol","host","toLowerCase","createCachingStorageHandler","storageHandler","tryToReuseCache","callback","toolName","cachingStorageHandler","listAllResourcesForCaching","_initCache","error","console","log","getDebugLabel","clearCachingStorageHandlerCache","sessionStorage","storageHandler1","this","debugLabel","cacheStorage","cacheInfo","ready","storeImage","imageData","readImage","imageId","_getCacheInfo","cacheInfoItem","getItem","JSON","parse","error1","warn","_isCacheKey","key","indexOf","_updateCacheInfo","lastModified","Date","now","setItem","stringify","clearCache","fillCache","initializeCache","isValidCacheInfo","maxCacheInitializedWaitMillis","maxCacheInitializedWarnMillis","waitUntilCacheIsInitialized","_this","currentActorId","getMetadataHandler","getMetadata","contextualActor","id","getActor","url","actorId","initialized","setTimeout","resources","j","len","resource","_isValidResource","metadata","i","k","ref","resourceIndex","resourceIndices","push","removeItem","created","_updateResourceInCache","_checkForReady","Error","readLatestResource","objectType","cb","listResourceMetaDatas","metadatas","latestId","_findLatestResourceId","readResource","resourceId","cachedResource","cachedResourceItem","content","resourceExists","exists","createResource","updateResource","getResourceBundle","deleteResource","listResourceIds","resourceIds","resourceString","allMetatadatas","resourceCount","applyFilters","generateUUID","configureFilters","setForResourceTypeFilter","filterForResourceType","getForResourceTypeFilter","setForUserFilter","filterForUser","getForUserFilter","setForProviderFilter","filterForProvider","getForProviderFilter","setForAppIdFilter","filterForAppId","getForAppIdFilter","setCustomFilter","customFilter","getCustomFilter","getResourceDescription"],"mappings":"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","file":"CachingStorageHandler.js"}