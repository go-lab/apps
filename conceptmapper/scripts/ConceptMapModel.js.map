{"version":3,"sources":["ConceptMapModel.coffee"],"names":["bind","fn","me","apply","arguments","window","ut","tools","conceptmapper","ConceptMapModel","superClass","environmentHandlers","__super__","constructor","call","this","_clearContentInternal","createNewModel","getResourceContent","_content","loadFromResourceContent","content","debug","console","log","concepts","relations","clearContent","emitEvent","emitModelChanged","isEmpty","length","addConcept","newConcept","push","changeConceptContent","id","newContent","concept","i","len","ref","results","changeConceptPosition","newX","newY","x","y","changeConceptColor","newColorClass","colorClass","removeConcept","idToDelete","removeRelationsFromConcept","filter","addRelation","newRelation","conceptExists","source","target","warn","changeRelationContent","relation","removeRelation","numberOfRelations","conceptId","removeRelationsBetween","sourceId","targetId","relationExists","relationExistsBetween","getRelationsBetween","applyLogAction","logObject","callback","verb","object","objectType","applyLogAdd","activityStreamObject","type","Math","floor","random","innerWidth","innerHeight","applyLogChange","applyLogRemove","commons","ResourceEventEmitterModel"],"mappings":"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","file":"ConceptMapModel.js"}