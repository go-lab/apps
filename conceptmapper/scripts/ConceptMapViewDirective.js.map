{"version":3,"sources":["ConceptMapViewDirective.coffee"],"names":["conceptMap","bind","fn","me","apply","arguments","window","ut","tools","conceptmapper","conceptMapModel","configurationModel","languageHandler","restrict","template","replace","link","scope","element","attrs","conceptMapElement","createNewConceptMapper","theConceptMapModel","theConfigurationModel","conceptMapperView","remove","$","append","ConceptMapperView","modelLoadedIntoView","$watch","ConceptMapAngularApp","directive","toLowerCase","conceptMapModel1","configurationModel1","languageHandler1","root","this","debug","model","addListener","deleteAllFromView","addConceptToView","removeConceptFromView","changeConceptColorInView","addRelationToView","colorClasses","initJsPlumb","getModel","jsPlumbDefaults","Connector","ConnectorZIndex","DragOptions","cursor","zIndex","PaintStyle","strokeStyle","lineWidth","EndpointStyle","Anchor","shape","ConnectionOverlays","label","relations","getValue","location","id","Detachable","Reattach","rootId","commons","utils","generateUUID","attr","jsPlumbInstance","jsPlumb","getInstance","Container","importDefaults","setRenderMode","SVG","concept","box","fill","newConcept","svg","text","css","y","x","addClass","type","colorClass","content","getBBox","rect","width","height","bringToFront","elementId","newRelation","connection","labelElement","source","target","connect","cssClass","idPrefix","getOverlay","setLabel","addOverlay","getElement","repaintEverything","conceptId","newColorClass","i","len","oldColor","ref","length","removeClass","getConnections","detach","find","each","_this","index","conceptElement","shiftNodes","j","len1","maxY","offsetX","offsetY","ref1","Number","MAX_SAFE_INTEGER","getResourceContent","concepts","waitForRoot","k","len2","ref2","relation","clientWidth","setTimeout"],"mappings":"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","file":"ConceptMapViewDirective.js"}